<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="en">
    <title>Learn kdb+ in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/kdb+/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <div class="share">
        <span class="sharemsg">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fkdb%2B%2F&amp;text=Learn+X+in+Y+minutes%2C+where+X%3Dkdb%2B">
            Share this page
          </a>
        </span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_twitter_large' displayText='Tweet'></span>
      </div>
      <h1><a href="/">Learn X in Y minutes</a></h1>
      <h2>Where X=kdb+</h2>
      <p class="filelink">
        Get the code:
        <a href="/files/learnkdb.q">learnkdb.q</a>
      </p>
      <div id="doc">
<p>The q language and its database component kdb+ were developed by Arthur Whitney
and released by Kx systems in 2003. q is a descendant of APL and as such is
very terse and a little strange looking for anyone from a &quot;C heritage&quot; language
background. Its expressiveness and vector oriented nature make it well suited
to performing complex calculations on large amounts of data (while also
encouraging some amount of <a href="https://en.wikipedia.org/wiki/Code_golf">code golf</a>).
The fundamental structure in the language is not the object but instead the list,
and tables are built as collections of lists. This means - unlike most traditional
RDBMS systems - tables are column oriented.  The language has both an in-memory
and on-disk database built in, giving a large amount of flexibility. kdb+ is most
widely used in the world of finance to store, analyze, process and retrieve large
time-series data sets.</p>
<p>The terms <em>q</em> and <em>kdb+</em> are usually used interchangeably, as the two are not
separable so this distinction is not really useful.</p>
<p>To learn more about kdb+ you can join the
<a href="https://learninghub.kx.com/forums/">KX Community forums</a> or
the <a href="https://groups.google.com/forum/#!forum/kdbtorq">TorQ kdb+</a> group.</p>
<div class="highlight"><pre lang="q"><span class="c1">/ Single line comments start with a forward-slash</span>
<span class="c1">/ These can also be used in-line, so long as at least one whitespace character</span>
<span class="c1">/ separates it from text to the left</span>
<span class="cm">/</span>
<span class="cm">  A forward-slash on a line by itself starts a multiline comment</span>
<span class="cm">  and a backward-slash on a line by itself terminates it</span>
<span class="cm">\</span>

<span class="c1">/ Run this file in an empty directory</span>


<span class="c1">////////////////////////////////////</span>
<span class="c1">// Basic Operators and Datatypes  //</span>
<span class="c1">////////////////////////////////////</span>

<span class="c1">/ We have integers, which are 8 byte by default</span>
<span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>

<span class="c1">/ And floats, also 8 byte as standard. Trailing f distinguishes from int</span>
<span class="mf">3.0</span><span class="w"> </span><span class="c1">/ =&gt; 3f</span>

<span class="c1">/ 4 byte numerical types can also be specified with trailing chars</span>
<span class="mi">3i</span><span class="w"> </span><span class="c1">/ =&gt; 3i</span>
<span class="mf">3.0e</span><span class="w"> </span><span class="c1">/ =&gt; 3e</span>

<span class="c1">/ Math is mostly what you would expect</span>
<span class="il">1</span><span class="o">+</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 2</span>
<span class="il">8</span><span class="o">-</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 7</span>
<span class="il">10</span><span class="o">*</span><span class="il">2</span><span class="w"> </span><span class="c1">/ =&gt; 20</span>
<span class="c1">/ Except division, which uses percent (%) instead of forward-slash (/)</span>
<span class="il">35</span><span class="o">%</span><span class="il">5</span><span class="w"> </span><span class="c1">/ =&gt; 7f  (the result of division is always a float)</span>

<span class="c1">/ For integer division we have the keyword div</span>
<span class="il">4</span><span class="w"> </span><span class="ow">div</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 1</span>

<span class="c1">/ Modulo also uses a keyword, since percent (%) is taken</span>
<span class="il">4</span><span class="w"> </span><span class="nb">mod</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 1</span>

<span class="c1">/ And exponentiation...</span>
<span class="il">2</span><span class="w"> </span><span class="ow">xexp</span><span class="w"> </span><span class="il">4</span><span class="w"> </span><span class="c1">/ =&gt; 16</span>

<span class="c1">/ ...and truncating...</span>
<span class="nb">floor</span><span class="w"> </span><span class="mf">3.14159</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>

<span class="c1">/ ...getting the absolute value...</span>
<span class="ow">abs</span><span class="w"> </span><span class="o">-</span><span class="mf">3.14159</span><span class="w"> </span><span class="c1">/ =&gt; 3.14159</span>
<span class="c1">/ ...and many other things</span>
<span class="c1">/ see http://code.kx.com/q/ref/ for more</span>

<span class="c1">/ q has no operator precedence, everything is evaluated right to left</span>
<span class="c1">/ so results like this might take some getting used to</span>
<span class="il">2</span><span class="o">*</span><span class="il">1</span><span class="o">+</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 4 / (no operator precedence tables to remember!)</span>

<span class="c1">/ Precedence can be modified with parentheses (restoring the &#39;normal&#39; result)</span>
<span class="p">(</span><span class="il">2</span><span class="o">*</span><span class="il">1</span><span class="p">)</span><span class="o">+</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>

<span class="c1">/ Assignment uses colon (:) instead of equals (=)</span>
<span class="c1">/ No need to declare variables before assignment</span>
<span class="nv">a</span><span class="o">:</span><span class="il">3</span>
<span class="n">a</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>

<span class="c1">/ Variables can also be assigned in-line</span>
<span class="c1">/ this does not affect the value passed on</span>
<span class="nv">c</span><span class="o">:</span><span class="il">3</span><span class="o">+</span><span class="nv">b</span><span class="o">:</span><span class="il">2</span><span class="o">+</span><span class="nv">a</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="c1">/ (data &quot;flows&quot; from right to left)</span>
<span class="n">a</span><span class="w"> </span><span class="c1">/ =&gt; 1</span>
<span class="n">b</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>
<span class="n">c</span><span class="w"> </span><span class="c1">/ =&gt; 6</span>

<span class="c1">/ In-place operations are also as you might expect</span>
<span class="nv">a</span><span class="o">+:</span><span class="il">2</span>
<span class="n">a</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>

<span class="c1">/ There are no &quot;true&quot; or &quot;false&quot; keywords in q</span>
<span class="c1">/ boolean values are indicated by the bit value followed by b</span>
<span class="mb">1b</span><span class="w"> </span><span class="c1">/ =&gt; true value</span>
<span class="mb">0b</span><span class="w"> </span><span class="c1">/ =&gt; false value</span>

<span class="c1">/ Equality comparisons use equals (=) (since we don&#39;t need it for assignment)</span>
<span class="il">1</span><span class="o">=</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>
<span class="il">2</span><span class="o">=</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 0b</span>

<span class="c1">/ Inequality uses &lt;&gt;</span>
<span class="il">1</span><span class="o">&lt;&gt;</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 0b</span>
<span class="il">2</span><span class="o">&lt;&gt;</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>

<span class="c1">/ The other comparisons are as you might expect</span>
<span class="il">1</span><span class="o">&lt;</span><span class="il">2</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>
<span class="il">1</span><span class="o">&gt;</span><span class="il">2</span><span class="w"> </span><span class="c1">/ =&gt; 0b</span>
<span class="il">2</span><span class="o">&lt;=</span><span class="il">2</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>
<span class="il">2</span><span class="o">&gt;=</span><span class="il">2</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>

<span class="c1">/ Comparison is not strict with regard to types...</span>
<span class="il">42</span><span class="o">=</span><span class="mf">42.0</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>

<span class="c1">/ ...unless we use the match operator (~)</span>
<span class="c1">/ which only returns true if entities are identical</span>
<span class="il">42</span><span class="o">~</span><span class="mf">42.0</span><span class="w"> </span><span class="c1">/ =&gt; 0b</span>

<span class="c1">/ The not operator returns true if the underlying value is zero</span>
<span class="nb">not</span><span class="w"> </span><span class="mb">0b</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>
<span class="nb">not</span><span class="w"> </span><span class="mb">1b</span><span class="w"> </span><span class="c1">/ =&gt; 0b</span>
<span class="nb">not</span><span class="w"> </span><span class="il">42</span><span class="w"> </span><span class="c1">/ =&gt; 0b</span>
<span class="nb">not</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>

<span class="c1">/ The max operator (|) reduces to logical &quot;or&quot; for bools</span>
<span class="il">42</span><span class="o">|</span><span class="mf">2.0</span><span class="w"> </span><span class="c1">/ =&gt; 42f</span>
<span class="mb">1b</span><span class="o">|</span><span class="mb">0b</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>

<span class="c1">/ The min operator (&amp;) reduces to logical &quot;and&quot; for bools</span>
<span class="il">42</span><span class="o">&amp;</span><span class="mf">2.0</span><span class="w"> </span><span class="c1">/ =&gt; 2f</span>
<span class="mb">1b</span><span class="o">&amp;</span><span class="mb">0b</span><span class="w"> </span><span class="c1">/ =&gt; 0b</span>

<span class="c1">/ q provides two ways to store character data</span>
<span class="c1">/ Chars in q are stored in a single byte and use double-quotes (&quot;)</span>
<span class="nv">ch</span><span class="o">:</span><span class="s2">&quot;a&quot;</span>
<span class="c1">/ Strings are simply lists of char (more on lists later)</span>
<span class="nv">str</span><span class="o">:</span><span class="s2">&quot;This is a string&quot;</span>
<span class="c1">/ Escape characters work as normal</span>
<span class="nv">str</span><span class="o">:</span><span class="s2">&quot;This is a string with </span><span class="se">\&quot;</span><span class="s2">quotes</span><span class="se">\&quot;</span><span class="s2">&quot;</span>

<span class="c1">/ Char data can also be stored as symbols using backtick (`)</span>
<span class="nv">symbol</span><span class="o">:</span><span class="ss">`sym</span>
<span class="c1">/ Symbols are NOT LISTS, they are an enumeration</span>
<span class="c1">/ the q process stores internally a vector of strings</span>
<span class="c1">/ symbols are enumerated against this vector</span>
<span class="c1">/ this can be more space and speed efficient as these are constant width</span>

<span class="c1">/ The string function converts to strings</span>
<span class="nb">string</span><span class="w"> </span><span class="ss">`symbol</span><span class="w"> </span><span class="c1">/ =&gt; &quot;symbol&quot;</span>
<span class="nb">string</span><span class="w"> </span><span class="mf">1.2345</span><span class="w"> </span><span class="c1">/ =&gt; &quot;1.2345&quot;</span>

<span class="c1">/ q has a time type...</span>
<span class="nv">t</span><span class="o">:</span><span class="ld">01:00:00.000</span>
<span class="c1">/ date type...</span>
<span class="nv">d</span><span class="o">:</span><span class="ld">2015.12.25</span>
<span class="c1">/ and a datetime type (among other time types)</span>
<span class="nv">dt</span><span class="o">:</span><span class="ld">2015.12.25D12:00:00.000000000</span>

<span class="c1">/ These support some arithmetic for easy manipulation</span>
<span class="n">dt</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="c1">/ =&gt; 2015.12.25D13:00:00.000000000</span>
<span class="n">t</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="ld">00:10:00.000</span><span class="w"> </span><span class="c1">/ =&gt; 00:50:00.000</span>
<span class="c1">/ and can be decomposed using dot notation</span>
<span class="n">d.year</span><span class="w"> </span><span class="c1">/ =&gt; 2015i</span>
<span class="n">d.mm</span><span class="w"> </span><span class="c1">/ =&gt; 12i</span>
<span class="n">d.dd</span><span class="w"> </span><span class="c1">/ =&gt; 25i</span>
<span class="c1">/ see http://code.kx.com/q4m3/2_Basic_Data_Types_Atoms/#25-temporal-data for more</span>

<span class="c1">/ q also has an infinity value so div by zero will not throw an error</span>
<span class="il">1</span><span class="o">%</span><span class="il">0</span><span class="w"> </span><span class="c1">/ =&gt; 0w</span>
<span class="o">-</span><span class="il">1</span><span class="o">%</span><span class="il">0</span><span class="w"> </span><span class="c1">/ =&gt; -0w</span>

<span class="c1">/ And null types for representing missing values</span>
<span class="m">0N</span><span class="w"> </span><span class="c1">/ =&gt; null int</span>
<span class="m">0n</span><span class="w"> </span><span class="c1">/ =&gt; null float</span>
<span class="c1">/ see http://code.kx.com/q4m3/2_Basic_Data_Types_Atoms/#27-nulls for more</span>

<span class="c1">/ q has standard control structures</span>
<span class="c1">/ if is as you might expect (; separates the condition and instructions)</span>
<span class="ow">if</span><span class="p">[</span><span class="il">1</span><span class="o">=</span><span class="il">1</span><span class="p">;</span><span class="nv">a</span><span class="o">:</span><span class="s2">&quot;hi&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="w"> </span><span class="c1">/ =&gt; &quot;hi&quot;</span>
<span class="c1">/ if-else uses $ (and unlike if, returns a value)</span>
<span class="o">$</span><span class="p">[</span><span class="il">1</span><span class="o">=</span><span class="il">0</span><span class="p">;</span><span class="nv">a</span><span class="o">:</span><span class="s2">&quot;hi&quot;</span><span class="p">;</span><span class="nv">a</span><span class="o">:</span><span class="s2">&quot;bye&quot;</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; &quot;bye&quot;</span>
<span class="n">a</span><span class="w"> </span><span class="c1">/ =&gt; &quot;bye&quot;</span>
<span class="c1">/ if-else can be extended to multiple clauses by adding args separated by ;</span>
<span class="o">$</span><span class="p">[</span><span class="il">1</span><span class="o">=</span><span class="il">0</span><span class="p">;</span><span class="nv">a</span><span class="o">:</span><span class="s2">&quot;hi&quot;</span><span class="p">;</span><span class="il">0</span><span class="o">=</span><span class="il">1</span><span class="p">;</span><span class="nv">a</span><span class="o">:</span><span class="s2">&quot;bye&quot;</span><span class="p">;</span><span class="nv">a</span><span class="o">:</span><span class="s2">&quot;hello again&quot;</span><span class="p">]</span>
<span class="n">a</span><span class="w"> </span><span class="c1">/ =&gt; &quot;hello again&quot;</span>


<span class="c1">////////////////////////////////////</span>
<span class="c1">////      Data Structures       ////</span>
<span class="c1">////////////////////////////////////</span>

<span class="c1">/ q is not an object oriented language</span>
<span class="c1">/ instead complexity is built through ordered lists</span>
<span class="c1">/ and mapping them into higher order structures: dictionaries and tables</span>

<span class="c1">/ Lists (or arrays if you prefer) are simple ordered collections</span>
<span class="c1">/ they are defined using parentheses () and semi-colons (;)</span>
<span class="p">(</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">)</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 3</span>
<span class="p">(</span><span class="o">-</span><span class="mf">10.0</span><span class="p">;</span><span class="mf">3.14159e</span><span class="p">;</span><span class="mb">1b</span><span class="p">;</span><span class="ss">`abc</span><span class="p">;</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>
<span class="c1">/ =&gt; -10f</span>
<span class="c1">/ =&gt; 3.14159e</span>
<span class="c1">/ =&gt; 1b</span>
<span class="c1">/ =&gt; `abc</span>
<span class="c1">/ =&gt; &quot;c&quot;  (mixed type lists are displayed on multiple lines)</span>
<span class="p">((</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">);(</span><span class="il">4</span><span class="p">;</span><span class="il">5</span><span class="p">;</span><span class="il">6</span><span class="p">);(</span><span class="il">7</span><span class="p">;</span><span class="il">8</span><span class="p">;</span><span class="il">9</span><span class="p">))</span>
<span class="c1">/ =&gt; 1 2 3</span>
<span class="c1">/ =&gt; 4 5 6</span>
<span class="c1">/ =&gt; 7 8 9</span>

<span class="c1">/ Lists of uniform type can also be defined more concisely</span>
<span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 3</span>
<span class="ss">`list`of`syms</span><span class="w"> </span><span class="c1">/ =&gt; `list`of`syms</span>
<span class="ss">`list`of`syms</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="p">(</span><span class="ss">`list</span><span class="p">;</span><span class="ss">`of</span><span class="p">;</span><span class="ss">`syms</span><span class="p">)</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>

<span class="c1">/ List length</span>
<span class="nb">count</span><span class="w"> </span><span class="p">(</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">)</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>
<span class="nb">count</span><span class="w"> </span><span class="s2">&quot;I am a string&quot;</span><span class="w"> </span><span class="c1">/ =&gt; 13 (string are lists of char)</span>

<span class="c1">/ Empty lists are defined with parentheses</span>
<span class="nv">l</span><span class="o">:</span><span class="p">()</span>
<span class="nb">count</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="c1">/ =&gt; 0</span>

<span class="c1">/ Simple variables and single item lists are not equivalent</span>
<span class="c1">/ parentheses syntax cannot create a single item list (they indicate precedence)</span>
<span class="p">(</span><span class="il">1</span><span class="p">)</span><span class="o">~</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>
<span class="c1">/ single item lists can be created using enlist</span>
<span class="nv">singleton</span><span class="o">:</span><span class="ow">enlist</span><span class="w"> </span><span class="il">1</span>
<span class="c1">/ or appending to an empty list</span>
<span class="nv">singleton</span><span class="o">:</span><span class="p">()</span><span class="o">,</span><span class="il">1</span>
<span class="il">1</span><span class="o">~</span><span class="p">()</span><span class="o">,</span><span class="il">1</span><span class="w"> </span><span class="c1">/ =&gt; 0b</span>

<span class="c1">/ Speaking of appending, comma (,) is used for this, not plus (+)</span>
<span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="o">,</span><span class="il">4</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="il">6</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 3 4 5 6</span>
<span class="s2">&quot;hello &quot;</span><span class="o">,</span><span class="s2">&quot;there&quot;</span><span class="w"> </span><span class="c1">/ =&gt; &quot;hello there&quot;</span>

<span class="c1">/ Indexing uses square brackets []</span>
<span class="nv">l</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="il">4</span>
<span class="n">l</span><span class="p">[</span><span class="il">0</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 1</span>
<span class="n">l</span><span class="p">[</span><span class="il">1</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 2</span>
<span class="c1">/ indexing out of bounds returns a null value rather than an error</span>
<span class="n">l</span><span class="p">[</span><span class="il">5</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 0N</span>
<span class="c1">/ and indexed assignment</span>
<span class="n">l</span><span class="p">[</span><span class="il">0</span><span class="p">]</span><span class="o">:</span><span class="il">5</span>
<span class="n">l</span><span class="w"> </span><span class="c1">/ =&gt; 5 2 3 4</span>

<span class="c1">/ Lists can also be used for indexing and indexed assignment</span>
<span class="n">l</span><span class="p">[</span><span class="il">1</span><span class="w"> </span><span class="il">3</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 2 4</span>
<span class="n">l</span><span class="p">[</span><span class="il">1</span><span class="w"> </span><span class="il">3</span><span class="p">]</span><span class="o">:</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="il">3</span>
<span class="n">l</span><span class="w"> </span><span class="c1">/ =&gt; 5 1 3 3</span>

<span class="c1">/ Lists can be untyped/mixed type</span>
<span class="nv">l</span><span class="o">:</span><span class="p">(</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="ss">`hi</span><span class="p">)</span>
<span class="c1">/ but once they are uniformly typed, q will enforce this</span>
<span class="n">l</span><span class="p">[</span><span class="il">2</span><span class="p">]</span><span class="o">:</span><span class="il">3</span>
<span class="n">l</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 3</span>
<span class="n">l</span><span class="p">[</span><span class="il">2</span><span class="p">]</span><span class="o">:</span><span class="ss">`hi</span><span class="w"> </span><span class="c1">/ throws a type error</span>
<span class="c1">/ this makes sense in the context of lists as table columns (more later)</span>

<span class="c1">/ For a nested list we can index at depth</span>
<span class="nv">l</span><span class="o">:</span><span class="p">((</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">);(</span><span class="il">4</span><span class="p">;</span><span class="il">5</span><span class="p">;</span><span class="il">6</span><span class="p">);(</span><span class="il">7</span><span class="p">;</span><span class="il">8</span><span class="p">;</span><span class="il">9</span><span class="p">))</span>
<span class="n">l</span><span class="p">[</span><span class="il">1</span><span class="p">;</span><span class="il">1</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 5</span>

<span class="c1">/ We can elide the indexes to return entire rows or columns</span>
<span class="n">l</span><span class="p">[;</span><span class="il">1</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 2 5 8</span>
<span class="n">l</span><span class="p">[</span><span class="il">1</span><span class="p">;]</span><span class="w"> </span><span class="c1">/ =&gt; 4 5 6</span>

<span class="c1">/ All the functions mentioned in the previous section work on lists natively</span>
<span class="il">1</span><span class="o">+</span><span class="p">(</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">)</span><span class="w"> </span><span class="c1">/ =&gt; 2 3 4 (single variable and list)</span>
<span class="p">(</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="il">3</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">1</span><span class="p">)</span><span class="w"> </span><span class="c1">/ =&gt; -2 0 2 (list and list)</span>

<span class="c1">/ And there are many more that are designed specifically for lists</span>
<span class="ow">avg</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 2f</span>
<span class="ow">sum</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 6</span>
<span class="nb">sums</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 1 3 6 (running sum)</span>
<span class="ow">last</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>
<span class="il">1</span><span class="w"> </span><span class="nb">rotate</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="c1">/ =&gt; 2 3 1</span>
<span class="c1">/ etc.</span>
<span class="c1">/ Using and combining these functions to manipulate lists is where much of the</span>
<span class="c1">/ power and expressiveness of the language comes from</span>

<span class="c1">/ Take (#), drop (_) and find (?) are also useful working with lists</span>
<span class="nv">l</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="il">4</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="il">6</span><span class="w"> </span><span class="il">7</span><span class="w"> </span><span class="il">8</span><span class="w"> </span><span class="il">9</span>
<span class="nv">l</span><span class="o">:</span><span class="il">1</span><span class="o">+</span><span class="nb">til</span><span class="w"> </span><span class="il">9</span><span class="w"> </span><span class="c1">/ til is a useful shortcut for generating ranges</span>
<span class="c1">/ take the first 5 elements</span>
<span class="il">5</span><span class="o">#</span><span class="n">l</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 3 4 5</span>
<span class="c1">/ drop the first 5</span>
<span class="il">5</span><span class="o">_</span><span class="n">l</span><span class="w"> </span><span class="c1">/ =&gt; 6 7 8 9</span>
<span class="c1">/ take the last 5</span>
<span class="o">-</span><span class="il">5</span><span class="o">#</span><span class="n">l</span><span class="w"> </span><span class="c1">/ =&gt; 5 6 7 8 9</span>
<span class="c1">/ drop the last 5</span>
<span class="o">-</span><span class="il">5</span><span class="o">_</span><span class="n">l</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 3 4</span>
<span class="c1">/ find the first occurrence of 4</span>
<span class="n">l</span><span class="o">?</span><span class="il">4</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>
<span class="n">l</span><span class="p">[</span><span class="il">3</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 4</span>

<span class="c1">/ Dictionaries in q are a generalization of lists</span>
<span class="c1">/ they map a list to another list (of equal length)</span>
<span class="c1">/ the bang (!) symbol is used for defining a dictionary</span>
<span class="nv">d</span><span class="o">:</span><span class="p">(</span><span class="ss">`a</span><span class="p">;</span><span class="ss">`b</span><span class="p">;</span><span class="ss">`c</span><span class="p">)</span><span class="o">!</span><span class="p">(</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">)</span>
<span class="c1">/ or more simply with concise list syntax</span>
<span class="nv">d</span><span class="o">:</span><span class="ss">`a`b`c</span><span class="o">!</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span>
<span class="c1">/ the keyword key returns the first list</span>
<span class="nb">key</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="c1">/ =&gt; `a`b`c</span>
<span class="c1">/ and value the second</span>
<span class="nb">value</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 3</span>

<span class="c1">/ Indexing is identical to lists</span>
<span class="c1">/ with the first list as a key instead of the position</span>
<span class="n">d</span><span class="p">[</span><span class="ss">`a</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 1</span>
<span class="n">d</span><span class="p">[</span><span class="ss">`b</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 2</span>

<span class="c1">/ As is assignment</span>
<span class="n">d</span><span class="p">[</span><span class="ss">`c</span><span class="p">]</span><span class="o">:</span><span class="il">4</span>
<span class="n">d</span>
<span class="c1">/ =&gt; a| 1</span>
<span class="c1">/ =&gt; b| 2</span>
<span class="c1">/ =&gt; c| 4</span>

<span class="c1">/ Arithmetic and comparison work natively, just like lists</span>
<span class="nv">e</span><span class="o">:</span><span class="p">(</span><span class="ss">`a</span><span class="p">;</span><span class="ss">`b</span><span class="p">;</span><span class="ss">`c</span><span class="p">)</span><span class="o">!</span><span class="p">(</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">;</span><span class="il">4</span><span class="p">)</span>
<span class="n">d</span><span class="o">+</span><span class="n">e</span>
<span class="c1">/ =&gt; a| 3</span>
<span class="c1">/ =&gt; b| 5</span>
<span class="c1">/ =&gt; c| 8</span>
<span class="n">d</span><span class="o">-</span><span class="il">2</span>
<span class="c1">/ =&gt; a| -1</span>
<span class="c1">/ =&gt; b| 0</span>
<span class="c1">/ =&gt; c| 2</span>
<span class="n">d</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="p">(</span><span class="il">1</span><span class="p">;</span><span class="il">1</span><span class="p">;</span><span class="il">1</span><span class="p">)</span>
<span class="c1">/ =&gt; a| 0</span>
<span class="c1">/ =&gt; b| 1</span>
<span class="c1">/ =&gt; c| 1</span>

<span class="c1">/ And the take, drop and find operators are remarkably similar too</span>
<span class="ss">`a`b</span><span class="o">#</span><span class="n">d</span>
<span class="c1">/ =&gt; a| 1</span>
<span class="c1">/ =&gt; b| 2</span>
<span class="ss">`a`b</span><span class="w"> </span><span class="o">_</span><span class="w"> </span><span class="n">d</span>
<span class="c1">/ =&gt; c| 4</span>
<span class="n">d</span><span class="o">?</span><span class="il">2</span>
<span class="c1">/ =&gt; `b</span>

<span class="c1">/ Tables in q are basically a subset of dictionaries</span>
<span class="c1">/ a table is a dictionary where all values must be lists of the same length</span>
<span class="c1">/ as such tables in q are column oriented (unlike most RDBMS)</span>
<span class="c1">/ the flip keyword is used to convert a dictionary to a table</span>
<span class="c1">/ i.e. flip the indices</span>
<span class="nb">flip</span><span class="w"> </span><span class="ss">`c1`c2`c3</span><span class="o">!</span><span class="p">(</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="p">;</span><span class="il">4</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="il">6</span><span class="p">;</span><span class="il">7</span><span class="w"> </span><span class="il">8</span><span class="w"> </span><span class="il">9</span><span class="p">)</span>
<span class="c1">/ =&gt; c1 c2 c3</span>
<span class="c1">/ =&gt; --------</span>
<span class="c1">/ =&gt; 1  4  7</span>
<span class="c1">/ =&gt; 2  5  8</span>
<span class="c1">/ =&gt; 3  6  9</span>
<span class="c1">/ we can also define tables using this syntax</span>
<span class="nv">t</span><span class="o">:</span><span class="p">([]</span><span class="nv">c1</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="p">;</span><span class="nv">c2</span><span class="o">:</span><span class="il">4</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="il">6</span><span class="p">;</span><span class="nv">c3</span><span class="o">:</span><span class="il">7</span><span class="w"> </span><span class="il">8</span><span class="w"> </span><span class="il">9</span><span class="p">)</span>
<span class="n">t</span>
<span class="c1">/ =&gt; c1 c2 c3</span>
<span class="c1">/ =&gt; --------</span>
<span class="c1">/ =&gt; 1  4  7</span>
<span class="c1">/ =&gt; 2  5  8</span>
<span class="c1">/ =&gt; 3  6  9</span>

<span class="c1">/ Tables can be indexed and manipulated in a similar way to dicts and lists</span>
<span class="n">t</span><span class="p">[</span><span class="ss">`c1</span><span class="p">]</span>
<span class="c1">/ =&gt; 1 2 3</span>
<span class="c1">/ table rows are returned as dictionaries</span>
<span class="n">t</span><span class="p">[</span><span class="il">1</span><span class="p">]</span>
<span class="c1">/ =&gt; c1| 2</span>
<span class="c1">/ =&gt; c2| 5</span>
<span class="c1">/ =&gt; c3| 8</span>

<span class="c1">/ meta returns table type information</span>
<span class="nb">meta</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ =&gt; c | t f a</span>
<span class="c1">/ =&gt; --| -----</span>
<span class="c1">/ =&gt; c1| j</span>
<span class="c1">/ =&gt; c2| j</span>
<span class="c1">/ =&gt; c3| j</span>
<span class="c1">/ now we see why type is enforced in lists (to protect column types)</span>
<span class="n">t</span><span class="p">[</span><span class="il">1</span><span class="p">;</span><span class="ss">`c1</span><span class="p">]</span><span class="o">:</span><span class="il">3</span>
<span class="n">t</span><span class="p">[</span><span class="il">1</span><span class="p">;</span><span class="ss">`c1</span><span class="p">]</span><span class="o">:</span><span class="mf">3.0</span><span class="w"> </span><span class="c1">/ throws a type error</span>

<span class="c1">/ Most traditional databases have primary key columns</span>
<span class="c1">/ in q we have keyed tables, where one table containing key columns</span>
<span class="c1">/ is mapped to another table using bang (!)</span>
<span class="nv">k</span><span class="o">:</span><span class="p">([]</span><span class="nv">id</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="p">)</span>
<span class="n">k</span><span class="o">!</span><span class="n">t</span>
<span class="c1">/ =&gt; id| c1 c2 c3</span>
<span class="c1">/ =&gt; --| --------</span>
<span class="c1">/ =&gt; 1 | 1  4  7</span>
<span class="c1">/ =&gt; 2 | 3  5  8</span>
<span class="c1">/ =&gt; 3 | 3  6  9</span>

<span class="c1">/ We can also use this shortcut for defining keyed tables</span>
<span class="nv">kt</span><span class="o">:</span><span class="p">([</span><span class="nv">id</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="p">]</span><span class="nv">c1</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="p">;</span><span class="nv">c2</span><span class="o">:</span><span class="il">4</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="il">6</span><span class="p">;</span><span class="nv">c3</span><span class="o">:</span><span class="il">7</span><span class="w"> </span><span class="il">8</span><span class="w"> </span><span class="il">9</span><span class="p">)</span>

<span class="c1">/ Records can then be retrieved based on this key</span>
<span class="n">kt</span><span class="p">[</span><span class="il">1</span><span class="p">]</span>
<span class="c1">/ =&gt; c1| 1</span>
<span class="c1">/ =&gt; c2| 4</span>
<span class="c1">/ =&gt; c3| 7</span>
<span class="n">kt</span><span class="p">[</span><span class="ss">`id</span><span class="o">!</span><span class="il">1</span><span class="p">]</span>
<span class="c1">/ =&gt; c1| 1</span>
<span class="c1">/ =&gt; c2| 4</span>
<span class="c1">/ =&gt; c3| 7</span>


<span class="c1">////////////////////////////////////</span>
<span class="c1">////////     Functions      ////////</span>
<span class="c1">////////////////////////////////////</span>

<span class="c1">/ In q the function is similar to a mathematical map, mapping inputs to outputs</span>
<span class="c1">/ curly braces {} are used for function definition</span>
<span class="c1">/ and square brackets [] for calling functions (just like list indexing)</span>
<span class="c1">/ a very minimal function</span>
<span class="nf">f</span><span class="o">:</span><span class="p">{</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="p">}</span>
<span class="n">f</span><span class="p">[</span><span class="il">2</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 4</span>

<span class="c1">/ Functions can be anonymous and called at point of definition</span>
<span class="p">{</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="p">}[</span><span class="il">2</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 4</span>

<span class="c1">/ By default the last expression is returned</span>
<span class="c1">/ colon (:) can be used to specify return</span>
<span class="p">{</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="p">}[</span><span class="il">2</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 4</span>
<span class="p">{</span><span class="o">:</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="p">}[</span><span class="il">2</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 4</span>
<span class="c1">/ semi-colon (;) separates expressions</span>
<span class="p">{</span><span class="nv">r</span><span class="o">:</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="p">;</span><span class="o">:</span><span class="n">r</span><span class="p">}[</span><span class="il">2</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 4</span>

<span class="c1">/ Function arguments can be specified explicitly (separated by ;)</span>
<span class="p">{[</span><span class="n">arg1</span><span class="p">;</span><span class="n">arg2</span><span class="p">]</span><span class="w"> </span><span class="n">arg1</span><span class="o">+</span><span class="n">arg2</span><span class="p">}[</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>
<span class="c1">/ or if omitted will default to x, y and z</span>
<span class="p">{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="p">}[</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="il">3</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 6</span>

<span class="c1">/ Built in functions are no different, and can be called the same way (with [])</span>
<span class="o">+</span><span class="p">[</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 3</span>
<span class="o">&lt;</span><span class="p">[</span><span class="il">1</span><span class="p">;</span><span class="il">2</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 1b</span>

<span class="c1">/ Functions are first class in q, so can be returned, stored in lists etc.</span>
<span class="p">{</span><span class="o">:</span><span class="p">{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">}}[]</span><span class="w"> </span><span class="c1">/ =&gt; {x+y}</span>
<span class="p">(</span><span class="il">1</span><span class="p">;</span><span class="s2">&quot;hi&quot;</span><span class="p">;{</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">})</span>
<span class="c1">/ =&gt; 1</span>
<span class="c1">/ =&gt; &quot;hi&quot;</span>
<span class="c1">/ =&gt; {x+y}</span>

<span class="c1">/ There is no overloading and no keyword arguments for custom q functions</span>
<span class="c1">/ however using a dictionary as a single argument can overcome this</span>
<span class="c1">/ allows for optional arguments or differing functionality</span>
<span class="nv">d</span><span class="o">:</span><span class="ss">`arg1`arg2`arg3</span><span class="o">!</span><span class="p">(</span><span class="mf">1.0</span><span class="p">;</span><span class="il">2</span><span class="p">;</span><span class="s2">&quot;my function argument&quot;</span><span class="p">)</span>
<span class="p">{</span><span class="n">x</span><span class="p">[</span><span class="ss">`arg1</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="ss">`arg2</span><span class="p">]}[</span><span class="n">d</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 3f</span>

<span class="c1">/ Functions in q see the global scope</span>
<span class="nv">a</span><span class="o">:</span><span class="il">1</span>
<span class="p">{</span><span class="o">:</span><span class="n">a</span><span class="p">}[]</span><span class="w"> </span><span class="c1">/ =&gt; 1</span>

<span class="c1">/ However local scope obscures this</span>
<span class="nv">a</span><span class="o">:</span><span class="il">1</span>
<span class="p">{</span><span class="nv">a</span><span class="o">:</span><span class="il">2</span><span class="p">;</span><span class="o">:</span><span class="n">a</span><span class="p">}[]</span><span class="w"> </span><span class="c1">/ =&gt; 2</span>
<span class="n">a</span><span class="w"> </span><span class="c1">/ =&gt; 1</span>

<span class="c1">/ Functions cannot see nested scopes (only local and global)</span>
<span class="p">{</span><span class="nv">local</span><span class="o">:</span><span class="il">1</span><span class="p">;{</span><span class="o">:</span><span class="n">local</span><span class="p">}[]}[]</span><span class="w"> </span><span class="c1">/ throws error as local is not defined in inner function</span>

<span class="c1">/ A function can have one or more of its arguments fixed (projection)</span>
<span class="nv">f</span><span class="o">:+</span><span class="p">[</span><span class="il">4</span><span class="p">]</span>
<span class="n">f</span><span class="p">[</span><span class="il">4</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 8</span>
<span class="n">f</span><span class="p">[</span><span class="il">5</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 9</span>
<span class="n">f</span><span class="p">[</span><span class="il">6</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 10</span>


<span class="c1">////////////////////////////////////</span>
<span class="c1">//////////     q-sql      //////////</span>
<span class="c1">////////////////////////////////////</span>

<span class="c1">/ q has its own syntax for manipulating tables, similar to standard SQL</span>
<span class="c1">/ This contains the usual suspects of select, insert, update etc.</span>
<span class="c1">/ and some new functionality not typically available</span>
<span class="c1">/ q-sql has two significant differences (other than syntax) to normal SQL:</span>
<span class="c1">/ - q tables have well defined record orders</span>
<span class="c1">/ - tables are stored as a collection of columns</span>
<span class="c1">/   (so vectorized column operations are fast)</span>
<span class="c1">/ a full description of q-sql is a little beyond the scope of this intro</span>
<span class="c1">/ so we will just cover enough of the basics to get you going</span>

<span class="c1">/ First define ourselves a table</span>
<span class="nv">t</span><span class="o">:</span><span class="p">([]</span><span class="nv">name</span><span class="o">:</span><span class="ss">`Arthur`Thomas`Polly</span><span class="p">;</span><span class="nv">age</span><span class="o">:</span><span class="il">35</span><span class="w"> </span><span class="il">32</span><span class="w"> </span><span class="il">52</span><span class="p">;</span><span class="nv">height</span><span class="o">:</span><span class="il">180</span><span class="w"> </span><span class="il">175</span><span class="w"> </span><span class="il">160</span><span class="p">;</span><span class="nv">sex</span><span class="o">:</span><span class="ss">`m`m`f</span><span class="p">)</span>

<span class="c1">/ equivalent of SELECT * FROM t</span>
<span class="ow">select</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="c1">/ (must be lower case, and the wildcard is not necessary)</span>
<span class="c1">/ =&gt; name   age height sex</span>
<span class="c1">/ =&gt; ---------------------</span>
<span class="c1">/ =&gt; Arthur 35  180    m</span>
<span class="c1">/ =&gt; Thomas 32  175    m</span>
<span class="c1">/ =&gt; Polly  52  160    f</span>

<span class="c1">/ Select specific columns</span>
<span class="ow">select</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="n">age</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ =&gt; name   age</span>
<span class="c1">/ =&gt; ----------</span>
<span class="c1">/ =&gt; Arthur 35</span>
<span class="c1">/ =&gt; Thomas 32</span>
<span class="c1">/ =&gt; Polly  52</span>

<span class="c1">/ And name them (equivalent of using AS in standard SQL)</span>
<span class="ow">select</span><span class="w"> </span><span class="nv">charactername</span><span class="o">:</span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="nv">currentage</span><span class="o">:</span><span class="n">age</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ =&gt; charactername currentage</span>
<span class="c1">/ =&gt; ------------------------</span>
<span class="c1">/ =&gt; Arthur        35</span>
<span class="c1">/ =&gt; Thomas        32</span>
<span class="c1">/ =&gt; Polly         52</span>

<span class="c1">/ This SQL syntax is integrated with the q language</span>
<span class="c1">/ so q can be used seamlessly in SQL statements</span>
<span class="ow">select</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="nv">feet</span><span class="o">:</span><span class="nb">floor</span><span class="w"> </span><span class="n">height</span><span class="o">*</span><span class="mf">0.032</span><span class="o">,</span><span class="w"> </span><span class="nv">inches</span><span class="o">:</span><span class="il">12</span><span class="o">*</span><span class="p">(</span><span class="n">height</span><span class="o">*</span><span class="mf">0.032</span><span class="p">)</span><span class="w"> </span><span class="nb">mod</span><span class="w"> </span><span class="il">1</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ =&gt; name   feet inches</span>
<span class="c1">/ =&gt; ------------------</span>
<span class="c1">/ =&gt; Arthur 5    9.12</span>
<span class="c1">/ =&gt; Thomas 5    7.2</span>
<span class="c1">/ =&gt; Polly  5    1.44</span>

<span class="c1">/ Including custom functions</span>
<span class="ow">select</span><span class="w"> </span><span class="n">name</span><span class="o">,</span><span class="w"> </span><span class="nf">growth</span><span class="o">:</span><span class="p">{[</span><span class="n">h</span><span class="p">;</span><span class="n">a</span><span class="p">]</span><span class="n">h</span><span class="o">%</span><span class="n">a</span><span class="p">}[</span><span class="n">height</span><span class="p">;</span><span class="n">age</span><span class="p">]</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ =&gt; name   growth</span>
<span class="c1">/ =&gt; ---------------</span>
<span class="c1">/ =&gt; Arthur 5.142857</span>
<span class="c1">/ =&gt; Thomas 5.46875</span>
<span class="c1">/ =&gt; Polly  3.076923</span>

<span class="c1">/ The where clause can contain multiple statements separated by commas</span>
<span class="ow">select</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="nb">where</span><span class="w"> </span><span class="n">age</span><span class="o">&gt;</span><span class="il">33</span><span class="o">,</span><span class="n">height</span><span class="o">&gt;</span><span class="il">175</span>
<span class="c1">/ =&gt; name   age height sex</span>
<span class="c1">/ =&gt; ---------------------</span>
<span class="c1">/ =&gt; Arthur 35  180    m</span>

<span class="c1">/ The where statements are executed sequentially (not the same as logical AND)</span>
<span class="ow">select</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="nb">where</span><span class="w"> </span><span class="n">age</span><span class="o">&lt;</span><span class="il">40</span><span class="o">,</span><span class="n">height</span><span class="o">=</span><span class="ow">min</span><span class="w"> </span><span class="n">height</span>
<span class="c1">/ =&gt; name   age height sex</span>
<span class="c1">/ =&gt; ---------------------</span>
<span class="c1">/ =&gt; Thomas 32  175    m</span>
<span class="ow">select</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="nb">where</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="o">&lt;</span><span class="il">40</span><span class="p">)</span><span class="o">&amp;</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="ow">min</span><span class="w"> </span><span class="n">height</span><span class="p">)</span>
<span class="c1">/ =&gt; name age height sex</span>
<span class="c1">/ =&gt; -------------------</span>

<span class="c1">/ The by clause falls between select and from</span>
<span class="c1">/ and is equivalent to SQL&#39;s GROUP BY</span>
<span class="ow">select</span><span class="w"> </span><span class="ow">avg</span><span class="w"> </span><span class="n">height</span><span class="w"> </span><span class="ow">by</span><span class="w"> </span><span class="n">sex</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ =&gt; sex| height</span>
<span class="c1">/ =&gt; ---| ------</span>
<span class="c1">/ =&gt; f  | 160</span>
<span class="c1">/ =&gt; m  | 177.5</span>

<span class="c1">/ If no aggregation function is specified, last is assumed</span>
<span class="ow">select</span><span class="w"> </span><span class="ow">by</span><span class="w"> </span><span class="n">sex</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ =&gt; sex| name   age height</span>
<span class="c1">/ =&gt; ---| -----------------</span>
<span class="c1">/ =&gt; f  | Polly  52  160</span>
<span class="c1">/ =&gt; m  | Thomas 32  175</span>

<span class="c1">/ Update has the same basic form as select</span>
<span class="ow">update</span><span class="w"> </span><span class="nv">sex</span><span class="o">:</span><span class="ss">`male</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="nb">where</span><span class="w"> </span><span class="n">sex</span><span class="o">=</span><span class="ss">`m</span>
<span class="c1">/ =&gt; name   age height sex</span>
<span class="c1">/ =&gt; ----------------------</span>
<span class="c1">/ =&gt; Arthur 35  180    male</span>
<span class="c1">/ =&gt; Thomas 32  175    male</span>
<span class="c1">/ =&gt; Polly  52  160    f</span>

<span class="c1">/ As does delete</span>
<span class="ow">delete</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="nb">where</span><span class="w"> </span><span class="n">sex</span><span class="o">=</span><span class="ss">`m</span>
<span class="c1">/ =&gt; name  age height sex</span>
<span class="c1">/ =&gt; --------------------</span>
<span class="c1">/ =&gt; Polly 52  160    f</span>

<span class="c1">/ None of these sql operations are carried out in place</span>
<span class="n">t</span>
<span class="c1">/ =&gt; name   age height sex</span>
<span class="c1">/ =&gt; ---------------------</span>
<span class="c1">/ =&gt; Arthur 35  180    m</span>
<span class="c1">/ =&gt; Thomas 32  175    m</span>
<span class="c1">/ =&gt; Polly  52  160    f</span>

<span class="c1">/ Insert however is in place, it takes a table name, and new data</span>
<span class="ss">`t</span><span class="w"> </span><span class="ow">insert</span><span class="w"> </span><span class="p">(</span><span class="ss">`John</span><span class="p">;</span><span class="il">25</span><span class="p">;</span><span class="il">178</span><span class="p">;</span><span class="ss">`m</span><span class="p">)</span><span class="w"> </span><span class="c1">/ =&gt; ,3</span>
<span class="n">t</span>
<span class="c1">/ =&gt; name   age height sex</span>
<span class="c1">/ =&gt; ---------------------</span>
<span class="c1">/ =&gt; Arthur 35  180    m</span>
<span class="c1">/ =&gt; Thomas 32  175    m</span>
<span class="c1">/ =&gt; Polly  52  160    f</span>
<span class="c1">/ =&gt; John   25  178    m</span>

<span class="c1">/ Upsert is similar (but doesn&#39;t have to be in-place)</span>
<span class="n">t</span><span class="w"> </span><span class="nb">upsert</span><span class="w"> </span><span class="p">(</span><span class="ss">`Chester</span><span class="p">;</span><span class="il">58</span><span class="p">;</span><span class="il">179</span><span class="p">;</span><span class="ss">`m</span><span class="p">)</span>
<span class="c1">/ =&gt; name    age height sex</span>
<span class="c1">/ =&gt; ----------------------</span>
<span class="c1">/ =&gt; Arthur  35  180    m</span>
<span class="c1">/ =&gt; Thomas  32  175    m</span>
<span class="c1">/ =&gt; Polly   52  160    f</span>
<span class="c1">/ =&gt; John    25  178    m</span>
<span class="c1">/ =&gt; Chester 58  179    m</span>

<span class="c1">/ it will also upsert dicts or tables</span>
<span class="n">t</span><span class="w"> </span><span class="nb">upsert</span><span class="w"> </span><span class="ss">`name`age`height`sex</span><span class="o">!</span><span class="p">(</span><span class="ss">`Chester</span><span class="p">;</span><span class="il">58</span><span class="p">;</span><span class="il">179</span><span class="p">;</span><span class="ss">`m</span><span class="p">)</span>
<span class="n">t</span><span class="w"> </span><span class="nb">upsert</span><span class="w"> </span><span class="p">(</span><span class="ss">`Chester</span><span class="p">;</span><span class="il">58</span><span class="p">;</span><span class="il">179</span><span class="p">;</span><span class="ss">`m</span><span class="p">)</span>
<span class="c1">/ =&gt; name    age height sex</span>
<span class="c1">/ =&gt; ----------------------</span>
<span class="c1">/ =&gt; Arthur  35  180    m</span>
<span class="c1">/ =&gt; Thomas  32  175    m</span>
<span class="c1">/ =&gt; Polly   52  160    f</span>
<span class="c1">/ =&gt; John    25  178    m</span>
<span class="c1">/ =&gt; Chester 58  179    m</span>

<span class="c1">/ And if our table is keyed</span>
<span class="nv">kt</span><span class="o">:</span><span class="ss">`name</span><span class="w"> </span><span class="nb">xkey</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ upsert will replace records where required</span>
<span class="n">kt</span><span class="w"> </span><span class="nb">upsert</span><span class="w"> </span><span class="p">([]</span><span class="nv">name</span><span class="o">:</span><span class="ss">`Thomas`Chester</span><span class="p">;</span><span class="nv">age</span><span class="o">:</span><span class="il">33</span><span class="w"> </span><span class="il">58</span><span class="p">;</span><span class="nv">height</span><span class="o">:</span><span class="il">175</span><span class="w"> </span><span class="il">179</span><span class="p">;</span><span class="nv">sex</span><span class="o">:</span><span class="ss">`f`m</span><span class="p">)</span>
<span class="c1">/ =&gt; name   | age height sex</span>
<span class="c1">/ =&gt; -------| --------------</span>
<span class="c1">/ =&gt; Arthur | 35  180    m</span>
<span class="c1">/ =&gt; Thomas | 33  175    f</span>
<span class="c1">/ =&gt; Polly  | 52  160    f</span>
<span class="c1">/ =&gt; John   | 25  178    m</span>
<span class="c1">/ =&gt; Chester| 58  179    m</span>

<span class="c1">/ There is no ORDER BY clause in q-sql, instead use xasc/xdesc</span>
<span class="ss">`name</span><span class="w"> </span><span class="nb">xasc</span><span class="w"> </span><span class="n">t</span>
<span class="c1">/ =&gt; name   age height sex</span>
<span class="c1">/ =&gt; ---------------------</span>
<span class="c1">/ =&gt; Arthur 35  180    m</span>
<span class="c1">/ =&gt; John   25  178    m</span>
<span class="c1">/ =&gt; Polly  52  160    f</span>
<span class="c1">/ =&gt; Thomas 32  175    m</span>

<span class="c1">/ Most of the standard SQL joins are present in q-sql, plus a few new friends</span>
<span class="c1">/ see http://code.kx.com/q4m3/9_Queries_q-sql/#99-joins</span>
<span class="c1">/ the two most important (commonly used) are lj and aj</span>

<span class="c1">/ lj is basically the same as SQL LEFT JOIN</span>
<span class="c1">/ where the join is carried out on the key columns of the left table</span>
<span class="nv">le</span><span class="o">:</span><span class="p">([</span><span class="nv">sex</span><span class="o">:</span><span class="ss">`m`f</span><span class="p">]</span><span class="nv">lifeexpectancy</span><span class="o">:</span><span class="il">78</span><span class="w"> </span><span class="il">85</span><span class="p">)</span>
<span class="n">t</span><span class="w"> </span><span class="nb">lj</span><span class="w"> </span><span class="n">le</span>
<span class="c1">/ =&gt; name   age height sex lifeexpectancy</span>
<span class="c1">/ =&gt; ------------------------------------</span>
<span class="c1">/ =&gt; Arthur 35  180    m   78</span>
<span class="c1">/ =&gt; Thomas 32  175    m   78</span>
<span class="c1">/ =&gt; Polly  52  160    f   85</span>
<span class="c1">/ =&gt; John   25  178    m   78</span>

<span class="c1">/ aj is an asof join. This is not a standard SQL join, and can be very powerful</span>
<span class="c1">/ The canonical example of this is joining financial trades and quotes tables</span>
<span class="nv">trades</span><span class="o">:</span><span class="p">([]</span><span class="nv">time</span><span class="o">:</span><span class="ld">10:01:01</span><span class="w"> </span><span class="ld">10:01:03</span><span class="w"> </span><span class="ld">10:01:04</span><span class="p">;</span><span class="nv">sym</span><span class="o">:</span><span class="ss">`msft`ibm`ge</span><span class="p">;</span><span class="nv">qty</span><span class="o">:</span><span class="il">100</span><span class="w"> </span><span class="il">200</span><span class="w"> </span><span class="il">150</span><span class="p">)</span>
<span class="nv">quotes</span><span class="o">:</span><span class="p">([]</span><span class="nv">time</span><span class="o">:</span><span class="ld">10:01:00</span><span class="w"> </span><span class="ld">10:01:01</span><span class="w"> </span><span class="ld">10:01:01</span><span class="w"> </span><span class="ld">10:01:03</span><span class="p">;</span>
<span class="w">          </span><span class="nv">sym</span><span class="o">:</span><span class="ss">`ibm`msft`msft`ibm</span><span class="p">;</span><span class="w"> </span><span class="nv">px</span><span class="o">:</span><span class="il">100</span><span class="w"> </span><span class="il">99</span><span class="w"> </span><span class="il">101</span><span class="w"> </span><span class="il">98</span><span class="p">)</span>
<span class="nb">aj</span><span class="p">[</span><span class="ss">`time`sym</span><span class="p">;</span><span class="n">trades</span><span class="p">;</span><span class="n">quotes</span><span class="p">]</span>
<span class="c1">/ =&gt; time     sym  qty px</span>
<span class="c1">/ =&gt; ---------------------</span>
<span class="c1">/ =&gt; 10:01:01 msft 100 101</span>
<span class="c1">/ =&gt; 10:01:03 ibm  200 98</span>
<span class="c1">/ =&gt; 10:01:04 ge   150</span>
<span class="c1">/ for each row in the trade table, the last (prevailing) quote (px) for that sym</span>
<span class="c1">/ is joined on.</span>
<span class="c1">/ see http://code.kx.com/q4m3/9_Queries_q-sql/#998-as-of-joins</span>

<span class="c1">////////////////////////////////////</span>
<span class="c1">/////     Extra/Advanced      //////</span>
<span class="c1">////////////////////////////////////</span>

<span class="c1">////// Adverbs //////</span>
<span class="c1">/ You may have noticed the total lack of loops to this point</span>
<span class="c1">/ This is not a mistake!</span>
<span class="c1">/ q is a vector language so explicit loops (for, while etc.) are not encouraged</span>
<span class="c1">/ where possible functionality should be vectorized (i.e. operations on lists)</span>
<span class="c1">/ adverbs supplement this, modifying the behaviour of functions</span>
<span class="c1">/ and providing loop type functionality when required</span>
<span class="c1">/ (in q functions are sometimes referred to as verbs, hence adverbs)</span>
<span class="c1">/ the &quot;each&quot; adverb modifies a function to treat a list as individual variables</span>
<span class="nb">first</span><span class="w"> </span><span class="nb">each</span><span class="w"> </span><span class="p">(</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="p">;</span><span class="il">4</span><span class="w"> </span><span class="il">5</span><span class="w"> </span><span class="il">6</span><span class="p">;</span><span class="il">7</span><span class="w"> </span><span class="il">8</span><span class="w"> </span><span class="il">9</span><span class="p">)</span>
<span class="c1">/ =&gt; 1 4 7</span>

<span class="c1">/ each-left (\:) and each-right (/:) modify a two-argument function</span>
<span class="c1">/ to treat one of the arguments and individual variables instead of a list</span>
<span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="o">+\:</span><span class="w"> </span><span class="il">11</span><span class="w"> </span><span class="il">22</span><span class="w"> </span><span class="il">33</span>
<span class="c1">/ =&gt; 12 23 34</span>
<span class="c1">/ =&gt; 13 24 35</span>
<span class="c1">/ =&gt; 14 25 36</span>
<span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="o">+/:</span><span class="w"> </span><span class="il">11</span><span class="w"> </span><span class="il">22</span><span class="w"> </span><span class="il">33</span>
<span class="c1">/ =&gt; 12 13 14</span>
<span class="c1">/ =&gt; 23 24 25</span>
<span class="c1">/ =&gt; 34 35 36</span>

<span class="c1">/ The true alternatives to loops in q are the adverbs scan (\) and over (/)</span>
<span class="c1">/ their behaviour differs based on the number of arguments the function they</span>
<span class="c1">/ are modifying receives. Here I&#39;ll summarise some of the most useful cases</span>
<span class="c1">/ a single argument function modified by scan given 2 args behaves like &quot;do&quot;</span>
<span class="p">{</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="il">2</span><span class="p">}</span><span class="o">\</span><span class="p">[</span><span class="il">5</span><span class="p">;</span><span class="il">1</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 4 8 16 32 (i.e. multiply by 2, 5 times)</span>
<span class="p">{</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="il">2</span><span class="p">}</span><span class="o">/</span><span class="p">[</span><span class="il">5</span><span class="p">;</span><span class="il">1</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 32 (using over only the final result is shown)</span>

<span class="c1">/ If the first argument is a function, we have the equivalent of &quot;while&quot;</span>
<span class="p">{</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="il">2</span><span class="p">}</span><span class="o">\</span><span class="p">[{</span><span class="n">x</span><span class="o">&lt;</span><span class="il">100</span><span class="p">};</span><span class="il">1</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 1 2 4 8 16 32 64 128 (iterates until returns 0b)</span>
<span class="p">{</span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="il">2</span><span class="p">}</span><span class="o">/</span><span class="p">[{</span><span class="n">x</span><span class="o">&lt;</span><span class="il">100</span><span class="p">};</span><span class="il">1</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 128 (again returns only the final result)</span>

<span class="c1">/ If the function takes two arguments, and we pass a list, we have &quot;for&quot;</span>
<span class="c1">/ where the result of the previous execution is passed back into the next loop</span>
<span class="c1">/ along with the next member of the list</span>
<span class="p">{</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">}</span><span class="o">\</span><span class="p">[</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="il">4</span><span class="w"> </span><span class="il">5</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 1 3 6 10 15 (i.e. the running sum)</span>
<span class="p">{</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="p">}</span><span class="o">/</span><span class="p">[</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="w"> </span><span class="il">4</span><span class="w"> </span><span class="il">5</span><span class="p">]</span><span class="w"> </span><span class="c1">/ =&gt; 15 (only the final result)</span>

<span class="c1">/ There are other iterators and uses, this is only intended as quick overview</span>
<span class="c1">/ http://code.kx.com/q4m3/6_Functions/#67-iterators</span>

<span class="c1">////// Scripts //////</span>
<span class="c1">/ q scripts can be loaded from a q session using the &quot;\l&quot; command</span>
<span class="c1">/ for example &quot;\l learnkdb.q&quot; will load this script</span>
<span class="c1">/ or from the command prompt passing the script as an argument</span>
<span class="c1">/ for example &quot;q learnkdb.q&quot;</span>

<span class="c1">////// On-disk data //////</span>
<span class="c1">/ Tables can be persisted to disk in several formats</span>
<span class="c1">/ the two most fundamental are serialized and splayed</span>
<span class="nv">t</span><span class="o">:</span><span class="p">([]</span><span class="nv">a</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="il">3</span><span class="p">;</span><span class="nv">b</span><span class="o">:</span><span class="il">1</span><span class="w"> </span><span class="il">2</span><span class="w"> </span><span class="mf">3f</span><span class="p">)</span>
<span class="ss">`:serialized</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="c1">/ saves the table as a single serialized file</span>
<span class="ss">`:splayed/</span><span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="c1">/ saves the table splayed into a directory</span>

<span class="c1">/ the dir structure will now look something like:</span>
<span class="c1">/ db/</span>
<span class="c1">/ ├── serialized</span>
<span class="c1">/ └── splayed</span>
<span class="c1">/     ├── a</span>
<span class="c1">/     └── b</span>

<span class="c1">/ Loading this directory (as if it was as script, see above)</span>
<span class="c1">/ loads these tables into the q session</span>
<span class="cp">\l .</span>
<span class="c1">/ the serialized table will be loaded into memory</span>
<span class="c1">/ however the splayed table will only be mapped, not loaded</span>
<span class="c1">/ both tables can be queried using q-sql</span>
<span class="ow">select</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">serialized</span>
<span class="c1">/ =&gt; a b</span>
<span class="c1">/ =&gt; ---</span>
<span class="c1">/ =&gt; 1 1</span>
<span class="c1">/ =&gt; 2 2</span>
<span class="c1">/ =&gt; 3 3</span>
<span class="ow">select</span><span class="w"> </span><span class="ow">from</span><span class="w"> </span><span class="n">splayed</span><span class="w"> </span><span class="c1">/ (the columns are read from disk on request)</span>
<span class="c1">/ =&gt; a b</span>
<span class="c1">/ =&gt; ---</span>
<span class="c1">/ =&gt; 1 1</span>
<span class="c1">/ =&gt; 2 2</span>
<span class="c1">/ =&gt; 3 3</span>
<span class="c1">/ see http://code.kx.com/q4m3/14_Introduction_to_Kdb+/ for more</span>

<span class="c1">////// Frameworks //////</span>
<span class="c1">/ kdb+ is typically used for data capture and analysis.</span>
<span class="c1">/ This involves using an architecture with multiple processes</span>
<span class="c1">/ working together. kdb+ frameworks are available to streamline the setup</span>
<span class="c1">/ and configuration of this architecture and add additional functionality</span>
<span class="c1">/ such as disaster recovery, logging, access, load balancing etc.</span>
<span class="c1">/ https://github.com/DataIntellectTech/TorQ</span>
</pre></div>
<h2>Want to know more?</h2>
<ul>
<li><a href="http://code.kx.com/q4m3/"><em>q for mortals</em> q language tutorial</a></li>
<li><a href="http://code.kx.com/q4m3/14_Introduction_to_Kdb+/"><em>Introduction to Kdb+</em> on disk data tutorial</a></li>
<li><a href="https://code.kx.com/q/ref/">q language reference</a></li>
<li><a href="https://github.com/DataIntellectTech/TorQ">TorQ production framework</a></li>
</ul>

        <hr>
        <p>
          Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the GitHub Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/kdb+.md">pull request</a> yourself!
        </p>
        <p class="contributed">
          Originally contributed by Matt Doherty, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/kdb+.md">8 contributors</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="https://github.com/picodoc">Matt Doherty</a>,
            <a href="https://github.com/jonnypress">Jonny Press</a>
          </p>
        </footer>
      </div>
    </div>
  </body>
</html>