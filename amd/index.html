<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="en">
    <title>Learn AMD in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/amd/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <h1><a href="/">Learn X in Y minutes</a></h1>
      <h2>Where X=AMD</h2>

      <div class="lang-choice">
        <label for="lang-select">Language:</label>
        <select id="lang-select" name="lang-select">
          <option value="en">English</option>
          <option value="es" data-url="/es/amd/">español</option>
          <option value="hi" data-url="/hi/amd/">हिन्दी</option>
          <option value="nl" data-url="/nl/amd/">Nederlands</option>
          <option value="pt-br" data-url="/pt-br/amd/">português (Brasil)</option>
        </select>
      </div>
      <p class="filelink">
        Get the code:
        <a href="/files/learnamd.js">learnamd.js</a>
      </p>
      <div id="doc">
<h2>Getting Started with AMD</h2>
<p>The <strong>Asynchronous Module Definition</strong> API specifies a mechanism for defining
JavaScript modules such that the module and its dependencies can be asynchronously
loaded. This is particularly well suited for the browser environment where
synchronous loading of modules incurs performance, usability, debugging, and
cross-domain access problems.</p>
<h3>Basic concept</h3>
<div class="highlight"><pre lang="javascript"><span class="c1">// The basic AMD API consists of nothing but two methods: `define` and `require`</span>
<span class="c1">// and is all about module definition and consumption:</span>
<span class="c1">// `define(id?, dependencies?, factory)` defines a module</span>
<span class="c1">// `require(dependencies, callback)` imports a set of dependencies and</span>
<span class="c1">// consumes them in the passed callback</span>

<span class="c1">// Let&#39;s start by using define to define a new named module</span>
<span class="c1">// that has no dependencies. We&#39;ll do so by passing a name</span>
<span class="c1">// and a factory function to define:</span>
<span class="nx">define</span><span class="p">(</span><span class="s1">&#39;awesomeAMD&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">isAMDAwesome</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>
<span class="w">  </span><span class="c1">// The return value of a module&#39;s factory function is</span>
<span class="w">  </span><span class="c1">// what other modules or require calls will receive when</span>
<span class="w">  </span><span class="c1">// requiring our `awesomeAMD` module.</span>
<span class="w">  </span><span class="c1">// The exported value can be anything, (constructor) functions,</span>
<span class="w">  </span><span class="c1">// objects, primitives, even undefined (although that won&#39;t help too much).</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">isAMDAwesome</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// Now, let&#39;s define another module that depends upon our `awesomeAMD` module.</span>
<span class="c1">// Notice that there&#39;s an additional argument defining our</span>
<span class="c1">// module&#39;s dependencies now:</span>
<span class="nx">define</span><span class="p">(</span><span class="s1">&#39;loudmouth&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;awesomeAMD&#39;</span><span class="p">],</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">awesomeAMD</span><span class="p">){</span>
<span class="w">  </span><span class="c1">// dependencies will be passed to the factory&#39;s arguments</span>
<span class="w">  </span><span class="c1">// in the order they are specified</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">tellEveryone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">awesomeAMD</span><span class="p">()){</span>
<span class="w">      </span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;This is sOoOo rad!&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Pretty dull, isn\&#39;t it?&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">tellEveryone</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// As we do know how to use define now, let&#39;s use `require` to</span>
<span class="c1">// kick off our program. `require`&#39;s signature is `(arrayOfDependencies, callback)`.</span>
<span class="nx">require</span><span class="p">([</span><span class="s1">&#39;loudmouth&#39;</span><span class="p">],</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">loudmouth</span><span class="p">){</span>
<span class="w">  </span><span class="nx">loudmouth</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// To make this tutorial run code, let&#39;s implement a very basic</span>
<span class="c1">// (non-asynchronous) version of AMD right here on the spot:</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">define</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span><span class="w"> </span><span class="nx">deps</span><span class="p">,</span><span class="w"> </span><span class="nx">factory</span><span class="p">){</span>
<span class="w">  </span><span class="c1">// notice how modules without dependencies are handled</span>
<span class="w">  </span><span class="nx">define</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="nx">factory</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="nx">deps</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[],</span><span class="w"> </span><span class="nx">factory</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">deps</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="nx">deps</span><span class="p">,</span><span class="w"> </span><span class="nx">callback</span><span class="p">){</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">  </span><span class="c1">// first let&#39;s retrieve all the dependencies needed</span>
<span class="w">  </span><span class="c1">// by the require call</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">deps</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="nx">args</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">define</span><span class="p">[</span><span class="nx">deps</span><span class="p">[</span><span class="nx">i</span><span class="p">]];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// satisfy all the callback&#39;s dependencies</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="nx">args</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">// you can see this code in action here: http://jsfiddle.net/qap949pd/</span>
</pre></div>
<h3>Real-world usage with require.js</h3>
<p>In contrast to the introductory example, <code>require.js</code> (the most popular AMD library) actually implements the <strong>A</strong> in <strong>AMD</strong>, enabling you to load modules and their dependencies asynchronously via XHR:</p>
<div class="highlight"><pre lang="javascript"><span class="cm">/* file: app/main.js */</span>
<span class="nx">require</span><span class="p">([</span><span class="s1">&#39;modules/someClass&#39;</span><span class="p">],</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">SomeClass</span><span class="p">){</span>
<span class="w">  </span><span class="c1">// the callback is deferred until the dependency is loaded</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">thing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">SomeClass</span><span class="p">();</span>
<span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;So here we are, waiting!&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// this will run first</span>
</pre></div>
<p>By convention, you usually store one module in one file. <code>require.js</code> can resolve module names based on file paths, so you don't have to name your modules, but can simply reference them using their location. In the example <code>someClass</code> is assumed to be in the <code>modules</code> folder, relative to your configuration's <code>baseUrl</code>:</p>
<ul>
<li>app/
<ul>
<li>main.js</li>
<li>modules/
<ul>
<li>someClass.js</li>
<li>someHelpers.js</li>
<li>...</li>
</ul>
</li>
<li>daos/
<ul>
<li>things.js</li>
<li>...</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>This means we can define <code>someClass</code> without specifying a module id:</p>
<div class="highlight"><pre lang="javascript"><span class="cm">/* file: app/modules/someClass.js */</span>
<span class="nx">define</span><span class="p">([</span><span class="s1">&#39;daos/things&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;modules/someHelpers&#39;</span><span class="p">],</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">thingsDao</span><span class="p">,</span><span class="w"> </span><span class="nx">helpers</span><span class="p">){</span>
<span class="w">  </span><span class="c1">// module definition, of course, will also happen asynchronously</span>
<span class="w">  </span><span class="kd">function</span><span class="w"> </span><span class="nx">SomeClass</span><span class="p">(){</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(){</span><span class="cm">/**/</span><span class="p">};</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">SomeClass</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
<p>To alter the default path mapping behavior use <code>requirejs.config(configObj)</code> in your <code>main.js</code>:</p>
<div class="highlight"><pre lang="javascript"><span class="cm">/* file: main.js */</span>
<span class="nx">requirejs</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
<span class="w">  </span><span class="nx">baseUrl</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;app&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">paths</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// you can also load modules from other locations</span>
<span class="w">    </span><span class="nx">jquery</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">coolLibFromBower</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;../bower_components/cool-lib/coollib&#39;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">});</span>
<span class="nx">require</span><span class="p">([</span><span class="s1">&#39;jquery&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;coolLibFromBower&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;modules/someHelpers&#39;</span><span class="p">],</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">,</span><span class="w"> </span><span class="nx">coolLib</span><span class="p">,</span><span class="w"> </span><span class="nx">helpers</span><span class="p">){</span>
<span class="w">  </span><span class="c1">// a `main` file needs to call require at least once,</span>
<span class="w">  </span><span class="c1">// otherwise no code will ever run</span>
<span class="w">  </span><span class="nx">coolLib</span><span class="p">.</span><span class="nx">doFancyStuffWith</span><span class="p">(</span><span class="nx">helpers</span><span class="p">.</span><span class="nx">transform</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#foo&#39;</span><span class="p">)));</span>
<span class="p">});</span>
</pre></div>
<p><code>require.js</code>-based apps will usually have a single entry point (<code>main.js</code>) that is passed to the <code>require.js</code> script tag as a data-attribute. It will be automatically loaded and executed on pageload:</p>
<div class="highlight"><pre lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>A hundred script tags? Never again!<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;require.js&quot;</span> <span class="na">data-main</span><span class="o">=</span><span class="s">&quot;app/main&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>
<h3>Optimizing a whole project using r.js</h3>
<p>Many people prefer using AMD for sane code organization during development, but still want to ship a single script file in production instead of performing hundreds of XHRs on page load.</p>
<p><code>require.js</code> comes with a script called <code>r.js</code> (that you will probably run in node.js, although Rhino is supported too) that can analyse your project's dependency graph, and build a single file containing all your modules (properly named), minified and ready for consumption.</p>
<p>Install it using <code>npm</code>:</p>
<div class="highlight"><pre lang="shell">$<span class="w"> </span>npm<span class="w"> </span>install<span class="w"> </span>requirejs<span class="w"> </span>-g
</pre></div>
<p>Now you can feed it with a configuration file:</p>
<div class="highlight"><pre lang="shell">$<span class="w"> </span>r.js<span class="w"> </span>-o<span class="w"> </span>app.build.js
</pre></div>
<p>For our above example the configuration might look like:</p>
<div class="highlight"><pre lang="javascript"><span class="cm">/* file : app.build.js */</span>
<span class="p">({</span>
<span class="w">  </span><span class="nx">name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;main&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// name of the entry point</span>
<span class="w">  </span><span class="nx">out</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;main-built.js&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// name of the file to write the output to</span>
<span class="w">  </span><span class="nx">baseUrl</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;app&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">paths</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// `empty:` tells r.js that this should still be loaded from the CDN, using</span>
<span class="w">    </span><span class="c1">// the location specified in `main.js`</span>
<span class="w">    </span><span class="nx">jquery</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;empty:&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">coolLibFromBower</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;../bower_components/cool-lib/coollib&#39;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
</pre></div>
<p>To use the built file in production, simply swap <code>data-main</code>:</p>
<div class="highlight"><pre lang="html"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;require.js&quot;</span> <span class="na">data-main</span><span class="o">=</span><span class="s">&quot;app/main-built&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
<p>An incredibly detailed <a href="https://github.com/jrburke/r.js/blob/master/build/example.build.js">overview of build options</a> is available in the GitHub repo.</p>
<h3>Topics not covered in this tutorial</h3>
<ul>
<li><a href="http://requirejs.org/docs/plugins.html">Loader plugins / transforms</a></li>
<li><a href="http://requirejs.org/docs/commonjs.html">CommonJS style loading and exporting</a></li>
<li><a href="http://requirejs.org/docs/api.html#config">Advanced configuration</a></li>
<li><a href="http://requirejs.org/docs/api.html#config-shim">Shim configuration (loading non-AMD modules)</a></li>
<li><a href="http://requirejs.org/docs/optimization.html#onecss">CSS loading and optimizing with require.js</a></li>
<li><a href="https://github.com/jrburke/almond">Using almond.js for builds</a></li>
</ul>
<h3>Further reading:</h3>
<ul>
<li><a href="https://github.com/amdjs/amdjs-api/wiki/AMD">Official Spec</a></li>
<li><a href="http://requirejs.org/docs/whyamd.html">Why AMD?</a></li>
<li><a href="https://github.com/umdjs/umd">Universal Module Definition</a></li>
</ul>
<h3>Implementations:</h3>
<ul>
<li><a href="http://requirejs.org">require.js</a></li>
<li><a href="http://dojotoolkit.org/documentation/tutorials/1.9/modules/">dojo toolkit</a></li>
<li><a href="http://cujojs.com/">cujo.js</a></li>
<li><a href="https://github.com/cujojs/curl">curl.js</a></li>
<li><a href="https://github.com/zazl/lsjs">lsjs</a></li>
<li><a href="https://github.com/alexlawrence/mmd">mmd</a></li>
</ul>

        <hr>
        <p>
          Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the GitHub Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/amd.md">pull request</a> yourself!
        </p>
        <p class="contributed">
          Originally contributed by Frederik Ring, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/amd.md">1 contributor</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="https://github.com/m90">Frederik Ring</a>
          </p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const langSelect = document.getElementById('lang-select');
          langSelect?.addEventListener('change', () => {
            const selectedOption = langSelect.options[langSelect.selectedIndex];
            const url = selectedOption?.getAttribute('data-url');
            if (url) {
              window.location.href = url;
            }
          });
        });
      </script>
    </div>
  </body>
</html>