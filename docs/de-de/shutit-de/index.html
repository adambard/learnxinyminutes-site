<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="de-de" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="de-de" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="de-de" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="de-de" class="no-js"> <!--<![endif]-->
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WXC8R75DEN');
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="de-de">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn X in Y Minutes: Scenic Programming Language Tours</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/de-de/shutit-de/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Fde-de%2Fshutit-de%2F&text=Lerne+X+in+Y+Minuten%2C+wobei+X%3DShutIt">
        Teile diese Seite mit anderen
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">Thema wählen:</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">hell</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">dunkel</button>
  </div>
  <h1><a href="/">Lerne X in Y Minuten</a></h1>
  <h2>Wobei X=ShutIt</h2>
    <p class="filelink">
    Lade den Code herunter:
    <a href="/docs/files/learnshutit-de.html">learnshutit-de.html</a>
    </p>
  <div id="doc">
    <h2>ShutIt</h2>

<p>ShuIt ist eine Shellautomationsframework, welches für eine einfache 
Handhabung entwickelt wurde.</p>

<p>Er ist ein Wrapper, der auf einem Python expect Klon (pexpect) basiert.</p>

<p>Es ist damit ein &lsquo;expect ohne Schmerzen&rsquo;.</p>

<p>Es ist verfügbar als pip install.</p>

<h2>Hello World</h2>

<p>Starten wir mit dem einfachsten Beispiel. Erstelle eine Datei names example.py</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shutit</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;echo Hello World&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
<p>Führe es hiermit aus:</p>
<div class="highlight"><pre><span></span>python<span class="w"> </span>example.py
</pre></div>
<p>gibt aus:</p>
<div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>example.py
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span>
Hello<span class="w"> </span>World
Ians-MacBook-Air.local:ORIGIN_ENV:RhuebR2T#
</pre></div>
<p>Das erste Argument zu &lsquo;send&rsquo; ist der Befehl, den du ausführen möchtest.
Das &lsquo;echo&rsquo; Argument gibt die Terminalinteraktion aus. ShuIt ist standardmäßig leise.</p>

<p>&lsquo;Send&rsquo; kümmert sich um die nervige Arbeiten mit den Prompts und macht 
alles was du von &lsquo;expect&rsquo; erwarten würdest.</p>

<h2>Logge dich auf einen Server ein</h2>

<p>Sagen wir du möchtest dich auf einen Server einloggen und einen Befehl ausführen.
Ändere dafür example.py folgendermaßen:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shutit</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;ssh you@example.com&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;du&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;meinpassword&#39;</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;hostname&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
</pre></div>
<p>Dies erlaubt dir dich auf deinen Server einzuloggen
(ersetze die Details mit deinen Eigenen) und das Programm gibt dir deinen Hostnamen aus.</p>
<div class="highlight"><pre><span></span>$ python example.py
hostname
hostname
example.com
example.com:cgoIsdVv:heDa77HB#
</pre></div>
<p>Es ist klar das das nicht sicher ist. Stattdessen kann man Folgendes machen:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shutit</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_input</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ispass</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;ssh you@example.com&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;du&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;hostname&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
</pre></div>
<p>Dies zwingt dich dein Passwort einzugeben:</p>
<div class="highlight"><pre><span></span>$ python example.py
Input Secret:
hostname
hostname
example.com
example.com:cgoIsdVv:heDa77HB#
</pre></div>
<p>Die &lsquo;login&rsquo; Methode übernimmt wieder das veränderte Prompt für den Login.
Du übergibst ShutIt den User und das Passwort, falls es benötigt wird,
mit den du dich einloggen möchtest. ShutIt übernimmt den Rest.</p>

<p>&lsquo;logout&rsquo; behandelt das Ende von &lsquo;login&rsquo; und übernimmt alle Veränderungen des
Prompts für dich.</p>

<h2>Einloggen auf mehrere Server</h2>

<p>Sagen wir, dass du eine Serverfarm mit zwei Servern hast und du dich in
beide Server einloggen möchtest. Dafür musst du nur zwei Session und 
Logins erstellen und kannst dann Befehle schicken:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shutit</span>
<span class="n">session1</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">session2</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">password1</span> <span class="o">=</span> <span class="n">session1</span><span class="o">.</span><span class="n">get_input</span><span class="p">(</span><span class="s1">&#39;Password für server1&#39;</span><span class="p">,</span> <span class="n">ispass</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">password2</span> <span class="o">=</span> <span class="n">session2</span><span class="o">.</span><span class="n">get_input</span><span class="p">(</span><span class="s1">&#39;Password für server2&#39;</span><span class="p">,</span> <span class="n">ispass</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session1</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;ssh you@one.example.com&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;du&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password1</span><span class="p">)</span>
<span class="n">session2</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;ssh you@two.example.com&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;du&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password2</span><span class="p">)</span>
<span class="n">session1</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;hostname&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session2</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;hostname&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session1</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
<span class="n">session2</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
</pre></div>
<p>Gibt aus:</p>
<div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>example.py
Password<span class="w"> </span><span class="k">for</span><span class="w"> </span>server1
Input<span class="w"> </span>Secret:

Password<span class="w"> </span><span class="k">for</span><span class="w"> </span>server2
Input<span class="w"> </span>Secret:
hostname
hostname
one.example.com
one.example.com:Fnh2pyFj:qkrsmUNs#<span class="w"> </span>hostname
hostname
two.example.com
two.example.com:Gl2lldEo:D3FavQjA#
</pre></div>
<h2>Beispiel: Überwachen mehrerer Server</h2>

<p>Wir können das obige Programm in ein einfaches Überwachungstool bringen indem 
wir Logik hinzufügen um die Ausgabe von einem Befehl zu betrachten.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shutit</span>
<span class="n">capacity_command</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;df / | awk &#39;{print $5}&#39; | tail -1 | sed s/[^0-9]//&quot;&quot;&quot;</span>
<span class="n">session1</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">session2</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">password1</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_input</span><span class="p">(</span><span class="s1">&#39;Passwort für Server1&#39;</span><span class="p">,</span> <span class="n">ispass</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">password2</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get_input</span><span class="p">(</span><span class="s1">&#39;Passwort für Server2&#39;</span><span class="p">,</span> <span class="n">ispass</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session1</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;ssh you@one.example.com&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;du&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password1</span><span class="p">)</span>
<span class="n">session2</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;ssh you@two.example.com&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;du&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password2</span><span class="p">)</span>
<span class="n">capacity</span> <span class="o">=</span> <span class="n">session1</span><span class="o">.</span><span class="n">send_and_get_output</span><span class="p">(</span><span class="n">capacity_command</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">capacity</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">kein</span> <span class="n">Platz</span> <span class="n">mehr</span> <span class="n">auf</span> <span class="n">Server1</span><span class="err">!</span><span class="s1">&#39;)</span>
<span class="n">capacity</span> <span class="o">=</span> <span class="n">session2</span><span class="o">.</span><span class="n">send_and_get_output</span><span class="p">(</span><span class="n">capacity_command</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">capacity</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">kein</span> <span class="n">Platz</span> <span class="n">mehr</span> <span class="n">auf</span> <span class="n">Server2</span><span class="err">!</span><span class="s1">&#39;)</span>
<span class="n">session1</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
<span class="n">session2</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
</pre></div>
<p>Hier kannst du die &lsquo;send_and_get_output&rsquo; Methode verwenden um die Ausgabe von dem 
Kapazitätsbefehl (df) zu erhalten.</p>

<p>Es gibt elegantere Wege als oben (z.B. kannst du ein Dictionary verwenden um über 
die Server zu iterieren), aber es hängt and dir wie clever das Python sein muss.</p>

<h2>kompliziertere IO - Expecting</h2>

<p>Sagen wir du hast eine Interaktion mit einer interaktiven Kommandozeilenprogramm, 
die du automatisieren möchtest. Hier werden wir Telnet als triviales Beispiel verwenden:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shutit</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;telnet&#39;</span><span class="p">,</span> <span class="n">expect</span><span class="o">=</span><span class="s1">&#39;elnet&gt;&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;open google.com 80&#39;</span><span class="p">,</span> <span class="n">expect</span><span class="o">=</span><span class="s1">&#39;scape character&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;GET /&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">check_exit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">logout</span><span class="p">()</span>
</pre></div>
<p>Beachte das &lsquo;expect&rsquo; Argument. Du brauchst nur ein Subset von Telnets 
Eingabeaufforderung um es abzugleichen und fortzufahren.</p>

<p>Beachte auch das neue Argument &lsquo;check_exit&rsquo;. Wir werden nachher nochmal 
darauf zurückkommen. Die Ausgabe von oben ist:</p>
<div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>example.py
telnet
telnet&gt;<span class="w"> </span>open<span class="w"> </span>google.com<span class="w"> </span><span class="m">80</span>
Trying<span class="w"> </span><span class="m">216</span>.58.214.14...
Connected<span class="w"> </span>to<span class="w"> </span>google.com.
Escape<span class="w"> </span>character<span class="w"> </span>is<span class="w"> </span><span class="s1">&#39;^]&#39;</span>.
GET<span class="w"> </span>/
HTTP/1.0<span class="w"> </span><span class="m">302</span><span class="w"> </span>Found
Cache-Control:<span class="w"> </span>private
Content-Type:<span class="w"> </span>text/html<span class="p">;</span><span class="w"> </span><span class="nv">charset</span><span class="o">=</span>UTF-8
Referrer-Policy:<span class="w"> </span>no-referrer
Location:<span class="w"> </span>http://www.google.co.uk/?gfe_rd<span class="o">=</span>cr<span class="p">&amp;</span><span class="nv">ei</span><span class="o">=</span>huczWcj3GfTW8gfq0paQDA
Content-Length:<span class="w"> </span><span class="m">261</span>
Date:<span class="w"> </span>Sun,<span class="w"> </span><span class="m">04</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">2017</span><span class="w"> </span><span class="m">10</span>:57:10<span class="w"> </span>GMT

&lt;HTML&gt;&lt;HEAD&gt;&lt;meta<span class="w"> </span>http-equiv<span class="o">=</span><span class="s2">&quot;content-type&quot;</span><span class="w"> </span><span class="nv">content</span><span class="o">=</span><span class="s2">&quot;text/html;charset=utf-8&quot;</span>&gt;
&lt;TITLE&gt;302<span class="w"> </span>Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
&lt;H1&gt;302<span class="w"> </span>Moved&lt;/H1&gt;
The<span class="w"> </span>document<span class="w"> </span>has<span class="w"> </span>moved
&lt;A<span class="w"> </span><span class="nv">HREF</span><span class="o">=</span><span class="s2">&quot;http://www.google.co.uk/?gfe_rd=cr&amp;amp;ei=huczWcj3GfTW8gfq0paQDA&quot;</span>&gt;
here
&lt;/A&gt;.
&lt;/BODY&gt;&lt;/HTML&gt;
Connection<span class="w"> </span>closed<span class="w"> </span>by<span class="w"> </span>foreign<span class="w"> </span>host.
</pre></div>
<p>Nun zurück zu &lsquo;check_exit=False&rsquo;. Da das Telnet Programm einen Fehler mit 
Fehlercode (1) zurückgibt und wir nicht möchten das das Skript fehlschlägt
kannst du &lsquo;check_exit=False&rsquo; setzen und damit ShuIt wissen lassen, dass 
der Ausgabecode dich nicht interessiert.</p>

<p>Wenn du das Argument nicht mitgegeben hättest, dann hätte dir ShutIt 
ein interaktives Terminal zurückgegeben, falls es ein Terminal zum
kommunizieren gibt. Dies nennt sich ein &lsquo;Pause point&rsquo;.</p>

<h2>Pause Points</h2>

<p>Du kannst jederzeit &lsquo;pause point&rsquo; auslösen, wenn du Folgendes in deinem Skript aufrufst:</p>
<div class="highlight"><pre><span></span><span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="n">session</span><span class="o">.</span><span class="n">pause_point</span><span class="p">(</span><span class="s1">&#39;Das ist ein pause point&#39;</span><span class="p">)</span>
<span class="p">[</span><span class="o">...</span><span class="p">]</span>
</pre></div>
<p>Danach kannst du das Skript fortführen, wenn du CTRL und &lsquo;]&rsquo; zur selben Zeit drückst.
Dies ist gut für Debugging: Füge ein Pause Point hinzu und schaue dich um.
Danach kannst du das Programm weiter ausführen. Probiere folgendes aus:</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shutit</span>
<span class="n">session</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">pause_point</span><span class="p">(</span><span class="s1">&#39;Schaue dich um!&#39;</span><span class="p">)</span>
<span class="n">session</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="s1">&#39;echo &quot;Hat dir der Pause point gefallen?&quot;&#39;</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
<p>Dies würde folgendes ausgeben:</p>
<div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>example.py
Schaue<span class="w"> </span>dich<span class="w"> </span>um!

Ians-Air.home:ORIGIN_ENV:I00LA1Mq#<span class="w">  </span>bash
imiell@Ians-Air:/space/git/shutit<span class="w">  </span>⑂<span class="w"> </span>master<span class="w"> </span>+<span class="w">  </span><span class="w">  </span>
CTRL-<span class="o">]</span><span class="w"> </span>caught,<span class="w"> </span>continuing<span class="w"> </span>with<span class="w"> </span>run...
<span class="m">2017</span>-06-05<span class="w"> </span><span class="m">15</span>:12:33,577<span class="w"> </span>INFO:<span class="w"> </span>Sending:<span class="w">  </span><span class="nb">exit</span>
<span class="m">2017</span>-06-05<span class="w"> </span><span class="m">15</span>:12:33,633<span class="w"> </span>INFO:<span class="w"> </span>Output<span class="w"> </span><span class="o">(</span>squashed<span class="o">)</span>:<span class="w">  </span>exitexitIans-Air.home:ORIGIN_ENV:I00LA1Mq#<span class="w">  </span><span class="o">[</span>...<span class="o">]</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hat dir der Pause point gefallen?&quot;</span>
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hat dir der Pause point gefallen?&quot;</span>
Hat<span class="w"> </span>dir<span class="w"> </span>der<span class="w"> </span>Pause<span class="w"> </span>point<span class="w"> </span>gefallen?
Ians-Air.home:ORIGIN_ENV:I00LA1Mq#
</pre></div>
<h2>noch kompliziertere IO - Hintergrund</h2>

<p>Kehren wir zu unseren Beispiel mit dem Überwachen von mehreren Servern zurück.
Stellen wir uns vor, dass wir eine langlaufende Aufgabe auf jedem Server durchführen möchten.
Standardmäßig arbeitet ShutIt seriell, was sehr lange dauern würde.
Wir können jedoch die Aufgaben im Hintergrund laufen lassen um sie zu beschleunigen.</p>

<p>Hier ist ein Beispiel, welches du ausprobieren kannst.
Es verwendet den trivialen Befehl: &lsquo;sleep&rsquo;.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">shutit</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="n">long_command</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;sleep 60&quot;&quot;&quot;</span>
<span class="n">session1</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">session2</span> <span class="o">=</span> <span class="n">shutit</span><span class="o">.</span><span class="n">create_session</span><span class="p">(</span><span class="s1">&#39;bash&#39;</span><span class="p">)</span>
<span class="n">password1</span> <span class="o">=</span> <span class="n">session1</span><span class="o">.</span><span class="n">get_input</span><span class="p">(</span><span class="s1">&#39;Password for server1&#39;</span><span class="p">,</span> <span class="n">ispass</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">password2</span> <span class="o">=</span> <span class="n">session2</span><span class="o">.</span><span class="n">get_input</span><span class="p">(</span><span class="s1">&#39;Password for server2&#39;</span><span class="p">,</span> <span class="n">ispass</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session1</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;ssh you@one.example.com&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;du&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password1</span><span class="p">)</span>
<span class="n">session2</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="s1">&#39;ssh you@two.example.com&#39;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s1">&#39;du&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password2</span><span class="p">)</span>
<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">session1</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">long_command</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">session2</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">long_command</span><span class="p">,</span> <span class="n">background</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Es hat: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; Sekunden zum Starten gebraucht&#39;</span><span class="p">)</span>
<span class="n">session1</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
<span class="n">session2</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Es hat:&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; Sekunden zum Vollenden gebraucht&#39;</span><span class="p">)</span>
</pre></div>
<p>Mein Computer meint, dass er 0.5 Sekunden gebraucht hat um die Befehle zu starten 
und dann nur etwas über eine Minute gebraucht um sie zu beenden
(mit Verwendung der &lsquo;wait&rsquo; Methode).</p>

<p>Das alles ist trivial, aber stelle dir vor das du hunderte an Servern so managen
kannst und man kann nun das Potential sehen, die in ein paar Zeilen Code und ein Python 
import liegen können.</p>

<h2>Lerne mehr</h2>

<p>Es gibt noch viel mehr, was mit ShutIt erreicht werden kann.</p>

<p>Um mehr zu erfahren, siehe:</p>

<p><a href="https://ianmiell.github.io/shutit/">ShutIt</a>
<a href="https://github.com/ianmiell/shutit/blob/master/README.md">GitHub</a></p>

<p>Es handelt sich um ein breiteres Automatiesierungsframework, und das oben
genannte ist der sogennante &lsquo;standalone Modus&rsquo;.</p>

<p>Feedback, feature requests, &lsquo;Wie mache ich es&rsquo; sind herzlich willkommen! Erreiche mit unter
<a href="https://twitter.com/ianmiell">@ianmiell</a></p>

    <hr>
    <p>Du hast einen Verbesserungsvorschlag oder einen Fehler gefunden? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Erstelle ein Ticket</a> im offiziellen Github Repo, oder du erstellst einfach gleich einen <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/de-de/shutit-de.html.markdown">pull request</a>!
    </p>
    <p class="contributed">
    Originalversion von Ian Miell, mit Updates von <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/de-de/shutit-de.html.markdown">1 contributor(s)</a>.
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="http://ian.meirionconsulting.tk">Ian Miell</a>
    </p>

    <p>
      Translated by:
        <a href="https://github.com/denniskeller">Dennis Keller</a>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
