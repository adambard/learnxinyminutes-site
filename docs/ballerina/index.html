<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en-us" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en-us" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en-us" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en-us" class="no-js"> <!--<![endif]-->
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WXC8R75DEN');
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="en-us">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn Ballerina in Y Minutes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/ballerina/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Fballerina%2F&text=Learn+X+in+Y+minutes%2C+where+X%3DBallerina">
        Share this page
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">Select theme:</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">light</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">dark</button>
  </div>
  <h1><a href="/">Learn X in Y minutes</a></h1>
  <h2>Where X=Ballerina</h2>
    <p class="filelink">
    Get the code:
    <a href="/docs/files/learn_ballerina.bal">learn_ballerina.bal</a>
    </p>
  <div id="doc">
    <p><a href="https://ballerina.io/">Ballerina</a> is a statically-typed programming language for making development for the cloud an enjoyable experience. </p>
<div class="highlight"><pre><span></span><span class="c1">// Single-line comment</span>

<span class="c1">// Import modules into the current source file </span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ballerina</span><span class="o">/</span><span class="n">io</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ballerina</span><span class="o">/</span><span class="n">time</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ballerina</span><span class="o">/</span><span class="n">http</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ballerinax</span><span class="o">/</span><span class="n">java</span><span class="p">.</span><span class="na">jdbc</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ballerina</span><span class="o">/</span><span class="n">lang</span><span class="p">.</span><span class="err">&#39;</span><span class="kt">int</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">ints</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ballerinax</span><span class="o">/</span><span class="n">awslambda</span><span class="p">;</span>
<span class="c1">// Module alias &quot;af&quot; used in code in place of the full module name</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ballerinax</span><span class="o">/</span><span class="n">azure</span><span class="p">.</span><span class="na">functions</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">af</span><span class="p">;</span>

<span class="nl">http</span><span class="p">:</span><span class="n">Client</span><span class="w"> </span><span class="n">clientEP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;https://freegeoip.app/&quot;</span><span class="p">);</span>
<span class="nl">jdbc</span><span class="p">:</span><span class="n">Client</span><span class="w"> </span><span class="n">accountsDB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="p">({</span><span class="n">url</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;jdbc:mysql://localhost:3306/AccountsDB&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">                               </span><span class="n">username</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test&quot;</span><span class="p">});</span>

<span class="c1">// A service is a first-class concept in Ballerina, and is one of the </span>
<span class="c1">// entrypoints to a Ballerina program. </span>
<span class="c1">// The Ballerina platform also provides support for easy deployment to </span>
<span class="c1">// environments such as Kubernetes (https://ballerina.io/learn/deployment/kubernetes/).</span>
<span class="n">service</span><span class="w"> </span><span class="n">geoservice</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="n">Listener</span><span class="p">(</span><span class="mi">8080</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@http</span><span class="p">:</span><span class="n">ResourceConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">path</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/geoip/{ip}&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">resource</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">geoip</span><span class="p">(</span><span class="n">http</span><span class="p">:</span><span class="n">Caller</span><span class="w"> </span><span class="n">caller</span><span class="p">,</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="n">Request</span><span class="w"> </span><span class="n">request</span><span class="p">,</span>
<span class="w">                            </span><span class="n">string</span><span class="w"> </span><span class="n">ip</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="nd">@tainted</span><span class="w"> </span><span class="n">error</span><span class="o">?</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">http</span><span class="p">:</span><span class="n">Response</span><span class="w"> </span><span class="n">resp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">clientEP</span><span class="o">-&gt;</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/json/&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">&lt;</span><span class="nd">@untainted</span><span class="o">&gt;</span><span class="n">ip</span><span class="p">);</span>
<span class="w">        </span><span class="n">check</span><span class="w"> </span><span class="n">caller</span><span class="o">-&gt;</span><span class="n">respond</span><span class="p">(</span><span class="o">&lt;</span><span class="nd">@untainted</span><span class="o">&gt;</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">resp</span><span class="p">.</span><span class="na">getTextPayload</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>

<span class="p">}</span>

<span class="c1">// Serverless Function-as-a-Service support with AWS Lambda.</span>
<span class="c1">// The Ballerina compiler automatically generates the final deployment </span>
<span class="c1">// artifact to be deployed.</span>
<span class="nd">@awslambda</span><span class="p">:</span><span class="n">Function</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">echo</span><span class="p">(</span><span class="n">awslambda</span><span class="p">:</span><span class="n">Context</span><span class="w"> </span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">input</span><span class="p">;</span>
<span class="p">}</span>

<span class="nd">@awslambda</span><span class="p">:</span><span class="n">Function</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">notifyS3</span><span class="p">(</span><span class="n">awslambda</span><span class="p">:</span><span class="n">Context</span><span class="w"> </span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span>
<span class="w">                         </span><span class="n">awslambda</span><span class="p">:</span><span class="n">S3Event</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">event</span><span class="p">.</span><span class="na">Records</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">.</span><span class="na">s3</span><span class="p">.</span><span class="err">&#39;</span><span class="n">object</span><span class="p">.</span><span class="na">key</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Serverless Function-as-a-Service support with Azure Functions.</span>
<span class="c1">// Similar to AWS Lambda, the compiler generates the deployment artifacts.</span>
<span class="nd">@af</span><span class="p">:</span><span class="n">Function</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">fromQueueToQueue</span><span class="p">(</span><span class="n">af</span><span class="p">:</span><span class="n">Context</span><span class="w"> </span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="nd">@af</span><span class="p">:</span><span class="n">QueueTrigger</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">queueName</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;queue1&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">inMsg</span><span class="p">,</span>
<span class="w">        </span><span class="nd">@af</span><span class="p">:</span><span class="n">QueueOutput</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">queueName</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;queue2&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">af</span><span class="p">:</span><span class="n">StringOutputBinding</span><span class="w"> </span><span class="n">outMsg</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">outMsg</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inMsg</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// A custom record type</span>
<span class="kd">public</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w">              </span><span class="c1">// required field</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">            </span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="o">?</span><span class="p">;</span><span class="w">               </span><span class="c1">// optional field</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">country</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;N/A&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// default value</span>
<span class="p">};</span>

<span class="nd">@af</span><span class="p">:</span><span class="n">Function</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">fromHttpTriggerCosmosDBInput</span><span class="p">(</span>
<span class="w">        </span><span class="nd">@af</span><span class="p">:</span><span class="n">HTTPTrigger</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">route</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;c1/{country}&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">af</span><span class="p">:</span><span class="n">HTTPRequest</span><span class="w"> </span><span class="n">httpReq</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="nd">@af</span><span class="p">:</span><span class="n">CosmosDBInput</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">connectionStringSetting</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;CosmosDBConnection&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">databaseName</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;db1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">collectionName</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;c1&quot;</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">sqlQuery</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;select * from c1 where c1.country = {country}&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span>
<span class="w">        </span><span class="n">Person</span><span class="o">[]</span><span class="w"> </span><span class="n">dbReq</span><span class="p">)</span>
<span class="w">        </span><span class="n">returns</span><span class="w"> </span><span class="nd">@af</span><span class="p">:</span><span class="n">HTTPOutput</span><span class="w"> </span><span class="n">string</span><span class="o">|</span><span class="n">error</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">dbReq</span><span class="p">.</span><span class="na">toString</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="nd">@tainted</span><span class="w"> </span><span class="n">error</span><span class="o">?</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">               </span><span class="c1">// 64-bit signed integer</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.56</span><span class="p">;</span><span class="w">           </span><span class="c1">// 64-bit IEEE 754-2008 binary floating point number</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">;</span><span class="w">       </span><span class="c1">// a unicode string</span>
<span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">         </span><span class="c1">// true, false</span>
<span class="w">    </span><span class="n">decimal</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">15.335</span><span class="p">;</span><span class="w">       </span><span class="c1">// decimal floating point number</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">               </span><span class="c1">// type inference with &#39;var&#39; - &#39;f&#39; is an int</span>

<span class="w">    </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">intArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intArray</span><span class="p">.</span><span class="na">shift</span><span class="p">();</span><span class="w"> </span><span class="c1">// similar to a dequeue operation</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">intArray</span><span class="p">.</span><span class="na">pop</span><span class="p">();</span><span class="w">       </span><span class="c1">// removes the last element</span>
<span class="w">    </span><span class="n">intArray</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span><span class="w">        </span><span class="c1">// add to the end</span>

<span class="w">    </span><span class="c1">// Tuples - similar to a fixed length array with a distinct type for each slot</span>
<span class="w">    </span><span class="o">[</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">]</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s">&quot;Jack&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1990</span><span class="o">]</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="o">[</span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">]</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s">&quot;Tom&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1986</span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Name: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; Birth Year: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">p1</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">);</span>

<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">name1</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">birthYear1</span><span class="p">;</span>
<span class="w">    </span><span class="o">[</span><span class="n">name1</span><span class="p">,</span><span class="w"> </span><span class="n">birthYear1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p1</span><span class="p">;</span><span class="w">     </span><span class="c1">// tuple destructuring</span>

<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="err">[</span><span class="n">name2</span><span class="p">,</span><span class="w"> </span><span class="n">birthYear2</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">p2</span><span class="p">;</span><span class="w"> </span><span class="c1">// declare and assign values in the same statement</span>

<span class="w">    </span><span class="c1">// If statements</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">ix</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;value is less than 10&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">ix</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;value equals to 10&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;value is greater than 10&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Loops</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// Loop from 0 to count (inclusive)</span>
<span class="w">    </span><span class="n">foreach</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="mf">0.</span><span class="p">..</span><span class="na">count</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// Loop from 0 to count (non-inclusive)</span>
<span class="w">    </span><span class="n">foreach</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="mf">0.</span><span class="p">.</span><span class="o">&lt;</span><span class="n">count</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// Loop a list</span>
<span class="w">    </span><span class="n">foreach</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">intArray</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">json</span><span class="w"> </span><span class="n">j1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">name1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;birthYear&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">birthYear1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;zipcode&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">90210</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">j1</span><span class="p">.</span><span class="na">name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; - &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">j1</span><span class="p">.</span><span class="na">zipcode</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// New fields are added to a JSON value through &quot;mergeJson&quot;</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">j2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j1</span><span class="p">.</span><span class="na">mergeJson</span><span class="p">({</span><span class="w"> </span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;90400593053&quot;</span><span class="p">});</span>

<span class="w">    </span><span class="c1">// XML namespace declaration</span>
<span class="w">    </span><span class="n">xmlns</span><span class="w"> </span><span class="s">&quot;http://example.com/ns1&quot;</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">ns1</span><span class="p">;</span>
<span class="w">    </span><span class="n">xmlns</span><span class="w"> </span><span class="s">&quot;http://example.com/default&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// XML variable from a literal value</span>
<span class="w">    </span><span class="n">xml</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xml</span><span class="w"> </span><span class="err">`</span><span class="o">&lt;</span><span class="n">ns1</span><span class="p">:</span><span class="n">entry</span><span class="o">&gt;&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">name1</span><span class="p">}}</span><span class="o">&lt;/</span><span class="n">name</span><span class="o">&gt;&lt;</span><span class="n">birthYear</span><span class="o">&gt;</span><span class="p">{{</span><span class="n">birthYear1</span><span class="p">}}</span><span class="o">&lt;/</span><span class="n">birthYear</span><span class="o">&gt;&lt;/</span><span class="n">ns1</span><span class="p">:</span><span class="n">entry</span><span class="o">&gt;</span><span class="err">`</span><span class="p">;</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">x1</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Access specific elements in the XML value</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">x1</span><span class="o">/&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// List all child items in the XML value</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">x1</span><span class="o">/*</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Function invocations</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">multiply</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// Invocation providing value for the defaultable parameter</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">multiply</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// Invocation with values to a rest parameter (multi-valued)</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">addAll</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">addAll</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">));</span>

<span class="w">    </span><span class="c1">// Function pointers</span>
<span class="w">    </span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">op1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getOperation</span><span class="p">(</span><span class="s">&quot;add&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">op2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getOperation</span><span class="p">(</span><span class="s">&quot;mod&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">op1</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">op2</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">));</span>

<span class="w">    </span><span class="c1">// Closures</span>
<span class="w">    </span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">add5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getAdder</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="w">    </span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">add10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getAdder</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">add5</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">add10</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>

<span class="w">    </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// Functional iteration</span>
<span class="w">    </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">evenNumbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbers</span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">});</span>

<span class="w">    </span><span class="c1">// Union types - &quot;input&quot; is of type either string or byte[]</span>
<span class="w">    </span><span class="n">string</span><span class="o">|</span><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">uval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;XXX&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// A type test expression (&quot;uval is string&quot;) can be used to check the </span>
<span class="w">    </span><span class="c1">// runtime type of a variable.</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">uval</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// In the current scope, &quot;uval&quot; is a string value</span>
<span class="w">        </span><span class="n">string</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;data:&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">uval</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Since the expression in the &quot;if&quot; statement ruled out that it&#39;s not a string,</span>
<span class="w">        </span><span class="c1">// the only type left is &quot;byte[]&quot;; so in the current scope, &quot;uval&quot; will always</span>
<span class="w">        </span><span class="c1">// be a &quot;byte[]&quot;.</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">inputLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uval</span><span class="p">.</span><span class="na">length</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Error handling</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">io</span><span class="p">:</span><span class="n">readln</span><span class="p">(</span><span class="s">&quot;Enter number: &quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kt">int</span><span class="o">|</span><span class="n">error</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ints</span><span class="p">:</span><span class="n">fromString</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Number: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Invalid number: &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">input</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// A check expression can be used to directly return the error from</span>
<span class="w">    </span><span class="c1">// the current function if its subexpression evaluated to an error</span>
<span class="w">    </span><span class="c1">// value in the runtime. </span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">ints</span><span class="p">:</span><span class="n">fromString</span><span class="p">(</span><span class="n">input</span><span class="p">);</span><span class="w"> </span>

<span class="w">    </span><span class="c1">// Concurrent execution using workers in a function</span>
<span class="w">    </span><span class="n">doWorkers</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Asynchronous execution with futures</span>
<span class="w">    </span><span class="n">future</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">f10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="nf">fib</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">webresult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clientEP</span><span class="o">-&gt;</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">fresult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wait</span><span class="w"> </span><span class="n">f10</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">webresult</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">http</span><span class="p">:</span><span class="n">Response</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">webresult</span><span class="p">.</span><span class="na">getTextPayload</span><span class="p">());</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">fresult</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Mapping types</span>
<span class="w">    </span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ageMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span>
<span class="w">    </span><span class="n">ageMap</span><span class="o">[</span><span class="s">&quot;Peter&quot;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span>
<span class="w">    </span><span class="n">ageMap</span><span class="o">[</span><span class="s">&quot;John&quot;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="o">?</span><span class="w"> </span><span class="n">agePeter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ageMap</span><span class="o">[</span><span class="s">&quot;Peter&quot;</span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="c1">// int? is the union type int|() - int or nill</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">agePeter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Peter&#39;s age is &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">agePeter</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Peter&#39;s age is not found&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;p1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Anne&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Sri Lanka&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">Scores</span><span class="w"> </span><span class="n">score1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">physics</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">mathematics</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">score1</span><span class="o">[</span><span class="s">&quot;chemistry&quot;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">75</span><span class="p">;</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">score1</span><span class="o">[</span><span class="s">&quot;chemistry&quot;</span><span class="o">]</span><span class="p">);</span>

<span class="w">    </span><span class="n">Student</span><span class="w"> </span><span class="n">student1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;s1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Jack&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Japan&quot;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">student1</span><span class="p">.</span><span class="na">college</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Stanford&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">string</span><span class="o">?</span><span class="w"> </span><span class="n">jacksCollege</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">student1</span><span class="o">?</span><span class="p">.</span><span class="na">college</span><span class="p">;</span><span class="w"> </span><span class="c1">// optional field access</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">jacksCollege</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Jack&#39;s college is &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">jacksCollege</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Due to the structural type system, &quot;student1&quot; can be assigned to &quot;person2&quot;,</span>
<span class="w">    </span><span class="c1">// since the student1&#39;s structure is compatible with person2&#39;s,</span>
<span class="w">    </span><span class="c1">// where we can say, a &quot;Student&quot; is a &quot;Person&quot; as well. </span>
<span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">student1</span><span class="p">;</span>

<span class="w">    </span><span class="n">map</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">grades</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s">&quot;Jack&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Anne&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;John&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Bill&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="p">};</span>
<span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="n">px1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;px1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Jack&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Canada&quot;</span><span class="p">};</span>
<span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="n">px2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;px2&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;John&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">};</span>
<span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="n">px3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;px3&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Anne&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;UK&quot;</span><span class="p">};</span>
<span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="n">px4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;px4&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Bill&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="n">country</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;USA&quot;</span><span class="p">};</span>
<span class="w">    </span><span class="n">Person</span><span class="o">[]</span><span class="w"> </span><span class="n">persons</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[]</span><span class="p">;</span>
<span class="w">    </span><span class="n">persons</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">px1</span><span class="p">);</span>
<span class="w">    </span><span class="n">persons</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">px2</span><span class="p">);</span>
<span class="w">    </span><span class="n">persons</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">px3</span><span class="p">);</span>
<span class="w">    </span><span class="n">persons</span><span class="p">.</span><span class="na">push</span><span class="p">(</span><span class="n">px4</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Query expressions used to execute complex queries for list data</span>
<span class="w">    </span><span class="n">Result</span><span class="o">[]</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">persons</span>
<span class="w">                       </span><span class="n">let</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">lgrade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">grades</span><span class="o">[</span><span class="n">person</span><span class="p">.</span><span class="na">name</span><span class="o">]</span><span class="w"> </span><span class="o">?</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">                       </span><span class="n">where</span><span class="w"> </span><span class="n">lgrade</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">75</span><span class="w"> </span>
<span class="w">                           </span><span class="n">let</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">targetCollege</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Stanford&quot;</span>
<span class="w">                           </span><span class="n">select</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="w">                               </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="n">person</span><span class="p">.</span><span class="na">name</span><span class="p">,</span><span class="w"> </span>
<span class="w">                               </span><span class="n">college</span><span class="p">:</span><span class="w"> </span><span class="n">targetCollege</span><span class="p">,</span><span class="w"> </span>
<span class="w">                               </span><span class="n">grade</span><span class="p">:</span><span class="w"> </span><span class="n">lgrade</span><span class="w"> </span>
<span class="w">                           </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// Compile-time taint checking for handling untrusted data</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">s1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">mySecureFunction</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Explicitely make &quot;s2&quot; a tainted value. External input to a Ballerina</span>
<span class="w">    </span><span class="c1">// program such as command-line arguments and network input are by-default</span>
<span class="w">    </span><span class="c1">// marked as tainted data.</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;</span><span class="nd">@tainted</span><span class="o">&gt;</span><span class="w"> </span><span class="n">s1</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// &quot;s2x&quot; is now a tainted value, since its value is derived using a </span>
<span class="w">    </span><span class="c1">// tainted value (s1).</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">s2x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// The following line uncommented will result in a compilation error,</span>
<span class="w">    </span><span class="c1">// since we are passing a tainted value (s2x) to a function which </span>
<span class="w">    </span><span class="c1">// exepects an untainted value.</span>
<span class="w">    </span><span class="c1">// mySecureFunction(s2x);</span>

<span class="w">    </span><span class="c1">// Instantiating objects</span>
<span class="w">    </span><span class="n">Employee</span><span class="w"> </span><span class="n">emp1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="p">(</span><span class="s">&quot;E0001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Jack Smith&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Sales&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2009</span><span class="p">);</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The company service duration of &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">emp1</span><span class="p">.</span><span class="na">name</span><span class="p">,</span><span class="w"> </span>
<span class="w">               </span><span class="s">&quot; is &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">emp1</span><span class="p">.</span><span class="na">serviceDuration</span><span class="p">());</span>

<span class="w">    </span><span class="c1">// Supported operations can be executed in a transaction by enclosing the actions</span>
<span class="w">    </span><span class="c1">// in a &quot;transaction&quot; block. </span>
<span class="w">    </span><span class="n">transaction</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Executes the below database operations in a single local transactions</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountsDB</span><span class="o">-&gt;</span><span class="n">update</span><span class="p">(</span><span class="s">&quot;UPDATE Employee SET balance = balance + ? WHERE id = ?&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">5500.0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ID001&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">accountsDB</span><span class="o">-&gt;</span><span class="n">update</span><span class="p">(</span><span class="s">&quot;UPDATE Employee SET balance = balance + ? WHERE id = ?&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">5500.0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ID001&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// An object is a behavioural type, which encapsulates both data and functionality.</span>
<span class="n">type</span><span class="w"> </span><span class="n">Employee</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// Private fields are only visible within the object and its methods</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">empId</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// Public fields can be accessed by anyone</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">department</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// The default qualifier is a &quot;protected&quot; field, </span>
<span class="w">    </span><span class="c1">// which are accessible only within the module.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">yearJoined</span><span class="p">;</span><span class="w">           </span>

<span class="w">    </span><span class="c1">// The object initialization function; automatically called when an object is instantiated.</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">__init</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="n">empId</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">department</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">yearJoined</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="na">empId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">empId</span><span class="p">;</span>
<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="na">department</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">department</span><span class="p">;</span>
<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="na">yearJoined</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yearJoined</span><span class="p">;</span><span class="w">        </span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// An object method</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">serviceDuration</span><span class="p">()</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">time</span><span class="p">:</span><span class="n">Time</span><span class="w"> </span><span class="n">ct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">time</span><span class="p">:</span><span class="n">currentTime</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">time</span><span class="p">:</span><span class="n">getYear</span><span class="p">(</span><span class="n">ct</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="na">yearJoined</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="p">};</span>

<span class="c1">// Student is a subtype of Person</span>
<span class="n">type</span><span class="w"> </span><span class="n">Student</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">;</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">college</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">country</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">type</span><span class="w"> </span><span class="n">Scores</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">physics</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">mathematics</span><span class="p">;</span>
<span class="p">};</span>

<span class="n">type</span><span class="w"> </span><span class="n">Result</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">college</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">grade</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">getOperation</span><span class="p">(</span><span class="n">string</span><span class="w"> </span><span class="n">op</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">op</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;add&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">add</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">op</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;mod&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// anonymous function</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// single expression anonymous no-op function </span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Two required parameters</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// &#39;log&#39; is a defaultable parameter</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">multiply</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Multiplying &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="s">&quot; with &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// &#39;numbers&#39; is a rest parameter - it can have multiple values, </span>
<span class="c1">// similar to an array.</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">addAll</span><span class="p">(</span><span class="kt">int</span><span class="p">...</span><span class="w"> </span><span class="n">numbers</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">foreach</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">getAdder</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="p">(</span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// returns closure</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="p">}</span>

<span class="n">function</span><span class="w"> </span><span class="nf">fib</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// The code in worker blocks &quot;w1&quot; and &quot;w2&quot; are executed concurrency </span>
<span class="c1">// when this function is invoked. The &quot;wait&quot; expressions waits for</span>
<span class="c1">// the given workers to finish to retrieve their results.</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">doWorkers</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">worker</span><span class="w"> </span><span class="n">w1</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">        </span><span class="n">j</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">w2</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">        </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">w2</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">worker</span><span class="w"> </span><span class="n">w2</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">;</span>
<span class="w">        </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">w1</span><span class="p">;</span>
<span class="w">        </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">w1</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kd">record</span> <span class="err">{</span><span class="nc">int</span><span class="w"> </span><span class="n">w1</span><span class="p">;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">w2</span><span class="p">;}</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wait</span><span class="w"> </span><span class="p">{</span><span class="n">w1</span><span class="p">,</span><span class="w"> </span><span class="n">w2</span><span class="p">};</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// A function which takes in only an untainted string value.</span>
<span class="kd">public</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="nf">mySecureFunction</span><span class="p">(</span><span class="nd">@untainted</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">io</span><span class="p">:</span><span class="n">println</span><span class="p">(</span><span class="n">input</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<h3>Further Reading</h3>

<ul>
<li><a href="https://ballerina.io/learn/by-example/">Ballerina by Example</a></li>
<li><a href="https://ballerina.io/learn/installing-ballerina/">User Guide</a></li>
<li><a href="https://ballerina.io/learn/api-docs/ballerina/">API Documentation</a></li>
<li><a href="https://ballerina.io/spec/">Language Specification</a></li>
</ul>

    <hr>
    <p>Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the Github Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/ballerina.html.markdown">pull request</a> yourself!
    </p>
    <p class="contributed">
    Originally contributed by Anjana Fernando, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/ballerina.html.markdown">1 contributor</a>.
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="https://github.com/lafernando">Anjana Fernando</a>
    </p>

    <p>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
