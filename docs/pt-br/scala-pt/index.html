<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="pt-br" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="pt-br" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="pt-br" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="pt-br" class="no-js"> <!--<![endif]-->
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WXC8R75DEN');
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="pt-br">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn Scala in Y Minutes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/pt-br/scala-pt/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Fpt-br%2Fscala-pt%2F&text=Aprenda+X+em+Y+Minutos%2C+onde+X%3DScala">
        Compartilhe esta página
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">Selecione o tema:</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">claro</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">sombrio</button>
  </div>
  <h1><a href="/">Aprenda X em Y Minutos</a></h1>
  <h2>Onde X=Scala</h2>
    <p class="filelink">
    Baixar o código:
    <a href="/docs/files/learnscala-pt.scala">learnscala-pt.scala</a>
    </p>
  <div id="doc">
    <p>Scala - a linguagem escalável</p>
<div class="highlight"><pre><span></span><span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 0. O básico</span>
<span class="c1">/////////////////////////////////////////////////</span>
<span class="cm">/*</span>
<span class="cm">  Configurando o Scala:</span>

<span class="cm">  1) Baixe o instalador do Scala - http://www.scala-lang.org/downloads</span>
<span class="cm">  2) Extraia (unzip ou tar) para sua localização favorita e coloque o subdiretório</span>
<span class="cm">  bin na variável de ambiente `PATH`</span>
<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm">  Tente o REPL</span>

<span class="cm">  Scala tem uma ferramenta chamada REPL (Read-Eval-Print Loop) que é análogo a</span>
<span class="cm">  interpretadores de linha de comando de outras linguagens. Você pode digitar</span>
<span class="cm">  qualquer expressão de Scala e o resultado será calculado e impresso.</span>

<span class="cm">  O REPL é uma ferramenta muito conveniente para testar e verificar código. Use-o</span>
<span class="cm">  enquanto você lê o tutorial para explorar os conceitos rapidamente por conta própria.</span>
<span class="cm">*/</span>

<span class="c1">//Inicialize um REPL de Scala executando o comando scala no terminal. Você deve ver o prompt:</span>
<span class="n">$</span><span class="w"> </span><span class="n">scala</span>
<span class="n">scala</span><span class="o">&gt;</span>

<span class="c1">//Por padrão, cada expressão que você executa é salva como um novo valor enumerado:</span>
<span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span>
<span class="n">res0</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>

<span class="c1">// Valores padrões podem ser reutilizados. Observe o tipo do valor exibido no resultado...</span>
<span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="n">res0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span>
<span class="n">res1</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span>

<span class="c1">// Scala é uma linguagem fortemente tipada. Você pode usar o REPL para verfificar o tipo</span>
<span class="c1">// sem avaliar uma expressão.</span>

<span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="k">type</span><span class="w"> </span><span class="p">(</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="p">)</span>
<span class="p">(</span><span class="nc">Boolean</span><span class="p">,</span><span class="w"> </span><span class="nc">Double</span><span class="p">)</span>

<span class="c1">// As sessões do REPL podem ser salvas</span>
<span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="n">save</span><span class="w"> </span><span class="o">/</span><span class="n">sites</span><span class="o">/</span><span class="n">repl</span><span class="o">-</span><span class="n">test</span><span class="p">.</span><span class="n">scala</span>

<span class="c1">//Arquivos podem ser carregados no REPL</span>
<span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="n">load</span><span class="w"> </span><span class="o">/</span><span class="n">sites</span><span class="o">/</span><span class="n">repl</span><span class="o">-</span><span class="n">test</span><span class="p">.</span><span class="n">scala</span>
<span class="nc">Loading</span><span class="w"> </span><span class="o">/</span><span class="n">sites</span><span class="o">/</span><span class="n">repl</span><span class="o">-</span><span class="n">test</span><span class="p">.</span><span class="n">scala</span><span class="p">...</span>
<span class="n">res2</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<span class="n">res3</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span>

<span class="c1">// Você pode pesquisar em seu histórico recente</span>
<span class="n">scala</span><span class="o">&gt;</span><span class="w"> </span><span class="p">:</span><span class="n">h</span><span class="o">?</span>
<span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span>
<span class="mi">2</span><span class="w"> </span><span class="n">res0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span>
<span class="mi">3</span><span class="w"> </span><span class="p">:</span><span class="n">save</span><span class="w"> </span><span class="o">/</span><span class="n">sites</span><span class="o">/</span><span class="n">repl</span><span class="o">-</span><span class="n">test</span><span class="p">.</span><span class="n">scala</span>
<span class="mi">4</span><span class="w"> </span><span class="p">:</span><span class="n">load</span><span class="w"> </span><span class="o">/</span><span class="n">sites</span><span class="o">/</span><span class="n">repl</span><span class="o">-</span><span class="n">test</span><span class="p">.</span><span class="n">scala</span>
<span class="mi">5</span><span class="w"> </span><span class="p">:</span><span class="n">h</span><span class="o">?</span>

<span class="c1">// Agora que você já sabe brincar, vamos aprender um pouco de Scala...</span>

<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 1. Introdução</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="c1">// Comentários de uma linha começam com duas barras</span>

<span class="cm">/*</span>
<span class="cm">  Comentários com múltiplas linhas, como você já pode ver, são assim.</span>
<span class="cm">*/</span>

<span class="c1">// Imprimir e forçar uma linha na próxima impressão</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;Hello world!&quot;</span><span class="p">)</span>
<span class="n">println</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="c1">// Hello world!</span>
<span class="c1">// 10</span>

<span class="c1">//Imprimir sem forçar uma nova linha na próxima impressão</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">)</span>
<span class="n">print</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="c1">// Hello world10</span>

<span class="c1">//A declaração de valores pode ser feita usando tanto o var quanto o val.</span>
<span class="c1">// Declarações feitas com `val` são imutáveis, enquanto que declarações feitas</span>
<span class="c1">// com var são mutáveis. Imutabilidade é uma coisa boa.</span>
<span class="kd">val</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="c1">// x is now 10</span>
<span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="w">     </span><span class="c1">// error: reassignment to val</span>
<span class="kd">var</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="w">     </span><span class="c1">// y agora é 20</span>

<span class="cm">/*</span>
<span class="cm">  Scala é uma linguagem estaticamente tipada. Observe ainda que nas declarações</span>
<span class="cm">  acima nós não especificamos um tipo. Isso se deve a um recurso da linguagem</span>
<span class="cm">  chamado de inferência. Na maioria dos casos, o compilador do Scala consegue</span>
<span class="cm">  adivinhar qual tipo é, de forma que você não precisa digitar sempre. Nós</span>
<span class="cm">  podemos declarar o tipo da variável de maneira explícita asim:</span>
<span class="cm">*/</span>

<span class="kd">val</span><span class="w"> </span><span class="n">z</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>
<span class="kd">val</span><span class="w"> </span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span>

<span class="c1">// Note que a conversão automática de Int para Double, o resultado é 10.0, não 10</span>
<span class="kd">val</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>

<span class="c1">//Valores booleanos</span>
<span class="kc">true</span>
<span class="kc">false</span>

<span class="c1">//Operações booleanas</span>
<span class="o">!</span><span class="kc">true</span><span class="w">         </span><span class="c1">// false</span>
<span class="o">!</span><span class="kc">false</span><span class="w">        </span><span class="c1">// true</span>
<span class="kc">true</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">// false</span>
<span class="mi">10</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="w">        </span><span class="c1">// true</span>

<span class="c1">// Matemática é como o de costume</span>
<span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// 2</span>
<span class="mi">2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w">   </span><span class="c1">// 1</span>
<span class="mi">5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span><span class="c1">// 15</span>
<span class="mi">6</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w">   </span><span class="c1">// 3</span>
<span class="mi">6</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="w">   </span><span class="c1">// 1</span>
<span class="mf">6.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="c1">// 1.5</span>
<span class="mi">6</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">4.0</span><span class="w"> </span><span class="c1">// 1.5</span>

<span class="c1">// Calcular uma expressão no REPL te dá o tipo e o valor do resultado</span>
<span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">7</span>

<span class="cm">/* A linha acima resulta em:</span>
<span class="cm">  scala&gt; 1 + 7</span>
<span class="cm">  res29: Int = 8</span>

<span class="cm">  Isso significa que o resultado ao culcular  1 + 7 é um objeto do tipo Int com</span>
<span class="cm">  valor 8.</span>

<span class="cm">  Note que &quot;res29&quot; é o nome de uma variável gerada sequencialmente para guardar</span>
<span class="cm">  os resultados das expressões que você executa, logo seu nome pode ser</span>
<span class="cm">  diferente.</span>
<span class="cm">*/</span>

<span class="s">&quot;Strings em Scala são delimitadas por aspas duplas&quot;</span>
<span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="c1">// Um caractere em Scala</span>
<span class="c1">// &#39;Strings com aspas simples não existem em Scala.&#39; &lt;= isso causa um erro.</span>

<span class="c1">// Strings possuem os métodos comuns de Java definidos</span>
<span class="s">&quot;hello world&quot;</span><span class="p">.</span><span class="n">length</span>
<span class="s">&quot;hello world&quot;</span><span class="p">.</span><span class="n">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<span class="s">&quot;hello world&quot;</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;3&quot;</span><span class="p">)</span>

<span class="c1">// Elas também possuem alguns métodos extras do Scala. Veja também:</span>
<span class="n">scala</span><span class="p">.</span><span class="n">collection</span><span class="p">.</span><span class="n">immutable</span><span class="p">.</span><span class="nc">StringOps</span>
<span class="s">&quot;hello world&quot;</span><span class="p">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="s">&quot;hello world&quot;</span><span class="p">.</span><span class="n">drop</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="c1">//Interpolação de string: observe o prefixo &quot;s&quot;</span>
<span class="kd">val</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span>
<span class="s">s&quot;We have </span><span class="si">$</span><span class="n">n</span><span class="s"> apples&quot;</span><span class="w"> </span><span class="c1">// =&gt; &quot;We have 45 apples&quot;</span>

<span class="c1">// Também é possível ter expressões dentro de interpolação de strings</span>
<span class="kd">val</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<span class="s">s&quot;My second daughter is </span><span class="si">${</span><span class="n">a</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s"> years old.&quot;</span><span class="w">    </span><span class="c1">// =&gt; &quot;My second daughter is 5 years old.&quot;</span>
<span class="s">s&quot;We have double the amount of </span><span class="si">${</span><span class="n">n</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.0</span><span class="si">}</span><span class="s"> in apples.&quot;</span><span class="w"> </span><span class="c1">// =&gt; &quot;We have double the amount of 22.5 in apples.&quot;</span>
<span class="s">s&quot;Power of 2: </span><span class="si">${</span><span class="n">math</span><span class="p">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s">&quot;</span><span class="w">                      </span><span class="c1">// =&gt; &quot;Power of 2: 4&quot;</span>

<span class="c1">// Formatação de strings interpoladas com o prefixo &quot;f&quot;</span>
<span class="s">f&quot;Power of 5: </span><span class="si">${</span><span class="n">math</span><span class="p">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="si">}</span><span class="s">%1.0f&quot;</span><span class="w">         </span><span class="c1">// &quot;Power of 5: 25&quot;</span>
<span class="s">f&quot;Square root of 122: </span><span class="si">${</span><span class="n">math</span><span class="p">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">122</span><span class="p">)</span><span class="si">}</span><span class="s">%1.4f&quot;</span><span class="w"> </span><span class="c1">// &quot;Square root of 122: 11.0454&quot;</span>


<span class="c1">// Strings cruas, ignorando caracteres especiais</span>
<span class="s">raw&quot;New line feed: \n. Carriage return: \r.&quot;</span><span class="w"> </span><span class="c1">// =&gt; &quot;New line feed: \n. Carriage return: \r.&quot;</span>

<span class="c1">//Alguns caracteres precisam ser &quot;escapados&quot;, ex. uma aspa dupla dentro de uma string</span>

<span class="s">&quot;They stood outside the \&quot;Rose and Crown\&quot;&quot;</span><span class="w"> </span><span class="c1">// =&gt; &quot;They stood outside the &quot;Rose and Crown&quot;&quot;</span>

<span class="c1">// Aspas triplas permitem strings a abrangerem múltiplas linhas e conter Aspas</span>
<span class="kd">val</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;&quot;&lt;form id=&quot;daform&quot;&gt;</span>
<span class="s">                &lt;p&gt;Press belo&#39;, Joe&lt;/p&gt;</span>
<span class="s">                &lt;input type=&quot;submit&quot;&gt;</span>
<span class="s">              &lt;/form&gt;&quot;&quot;&quot;</span>


<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 2. Funções</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="c1">// Funções são definidas da seguinte maneira:</span>
<span class="c1">//</span>
<span class="c1">//   def nomeDaFuncao(args ...): TipoDeRetorno = {body ...}</span>
<span class="c1">//</span>
<span class="c1">// Se você vem de linguagens mais tradicionais, note a omissão da palavra chave</span>
<span class="c1">//return. Em Scala a última expressão no bloco da função é o valor de retorno</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sumOfSquares</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">):</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">y2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">y</span>
<span class="w">  </span><span class="n">x2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y2</span>
<span class="p">}</span>

<span class="c1">// As { } podem ser omitidas se o corpo da função possui apenas uma expressão:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sumOfSquaresShort</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">):</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">y</span>

<span class="c1">// A sintaxe para chamar funções é familiar:</span>
<span class="n">sumOfSquares</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">  </span><span class="c1">// =&gt; 25</span>

<span class="c1">// Você poode usar o nome dos parâmetros para especificá-los numa ordem diferente</span>
<span class="k">def</span><span class="w"> </span><span class="nf">subtract</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">):</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y</span>

<span class="n">subtract</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">     </span><span class="c1">// =&gt; 7</span>
<span class="n">subtract</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">// =&gt; -7</span>

<span class="c1">// Na maioria dos casos (sendo funções recursivas a a exceção mais notável) o</span>
<span class="c1">// tipo de retorno da função pode ser omitido, e o mesmo tipo de inferência que</span>
<span class="c1">// vimos nas variáveis funcionará com o valor de retorno da função:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sq</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w">  </span><span class="c1">// O compilador consegue adivinhar que o tipo de retorno é Int</span>

<span class="c1">// Funções podem ter parâmetros padrão:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">addWithDefault</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span>
<span class="n">addWithDefault</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">// =&gt; 3</span>
<span class="n">addWithDefault</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">    </span><span class="c1">// =&gt; 6</span>

<span class="c1">// Funções anônimas são semelhantes a essa:</span>
<span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span>

<span class="c1">// Diferente de defs, até mesmo a entrada de funções anônimas podem ser omitidas</span>
<span class="c1">// se o contexto deixar isso claro. Observe o tipo &quot;Int =&gt; Int&quot;, que significa</span>
<span class="c1">// uma função que recebe umn Int e retorna um Int.</span>
<span class="kd">val</span><span class="w"> </span><span class="n">sq</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span>

<span class="c1">// Se cada argumento na sua função anônima é usado apenas uma vez, Scala te fornece</span>
<span class="c1">// uma maneira ainda mais curta de definí-lo. Estas funções anônimas acabam por</span>
<span class="c1">// ser muito comuns, como será mostrado na sessão de estrutura de dados.</span>
<span class="kd">val</span><span class="w"> </span><span class="n">addOne</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="kd">val</span><span class="w"> </span><span class="n">weirdSum</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>

<span class="n">addOne</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">      </span><span class="c1">// =&gt; 6</span>
<span class="n">weirdSum</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="c1">// =&gt; 16</span>

<span class="c1">// A palavra chave return existe em Scala, mas só retorna do def mais profundo que o cerca.</span>
<span class="c1">//AVISO: O uso do return em Scala é propenso a erros e deve ser evitado.</span>
<span class="c1">//Não há efeito em funções anônimas. Per exemplo:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">):</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">anonFunc</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=&gt;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">z</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="c1">// Esta linha faz Z retornar o valor de foo!</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">      </span><span class="n">z</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w">    </span><span class="c1">// Esta linha retorna o valor de anonFunc</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">anonFunc</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="c1">// Esta linha retorna o valor de foo</span>
<span class="p">}</span>

<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 3. Controle de Fluxo</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">5</span>
<span class="kd">val</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">5</span>
<span class="n">r</span><span class="p">.</span><span class="n">foreach</span><span class="p">(</span><span class="n">println</span><span class="p">)</span>

<span class="n">r</span><span class="w"> </span><span class="n">foreach</span><span class="w"> </span><span class="n">println</span>
<span class="c1">///N.B.: Scala é bem flexível quando se fala de pontos e parêntesis - estude as regras</span>
<span class="c1">//separadamente. Isso ajuda a escrever DSLs e APIs que são lidas como inglês.</span>

<span class="p">(</span><span class="mi">5</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">foreach</span><span class="w"> </span><span class="p">(</span><span class="n">println</span><span class="p">)</span>

<span class="c1">// Um loop while</span>
<span class="kd">var</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;i &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span>

<span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;i &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}</span><span class="w">   </span><span class="c1">// Sim, de novo. O que aconteceu? Por quê?</span>

<span class="n">i</span><span class="w">    </span><span class="c1">// Exibe o valor de i. Note que o while é um loop no senso clássico -</span>
<span class="w">     </span><span class="c1">// executa sequencialmente enquanto muda a variável do loop. While é muito</span>
<span class="w">     </span><span class="c1">// rápido, mas usar os combinadores e compreenões acima é mais fácil</span>
<span class="w">     </span><span class="c1">// para entender e paralizar</span>

<span class="c1">// Um loop do-while</span>
<span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;i ainda é menor que 10&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>


<span class="c1">// Recursão é a forma mais idiomática de repetir uma ação em Scala (assim como na</span>
<span class="c1">// maioria das linguagens de programação funcional)</span>
<span class="c1">// Funções recursivas precisam de um tipo de retorno explícito, o compilador não</span>
<span class="c1">// consegue inferir;</span>
<span class="c1">// Aqui está o Unit</span>
<span class="k">def</span><span class="w"> </span><span class="nf">showNumbersInRange</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">):</span><span class="w"> </span><span class="nc">Unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="w">    </span><span class="n">showNumbersInRange</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">showNumbersInRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span>

<span class="c1">// Condicionais</span>

<span class="n">al</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;yeah&quot;</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;yeah&quot;</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;yeah&quot;</span><span class="p">)</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;yeah&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;nay&quot;</span><span class="p">)</span>

<span class="n">println</span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="s">&quot;yeah&quot;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s">&quot;nope&quot;</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="s">&quot;yeah&quot;</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s">&quot;nope&quot;</span>

<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 4. Estrutura de Dados</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="kd">val</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">)</span>
<span class="n">a</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">     </span><span class="c1">// Int = 1</span>
<span class="n">a</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w">     </span><span class="c1">// Int = 5</span>
<span class="n">a</span><span class="p">(</span><span class="mi">21</span><span class="p">)</span><span class="w">    </span><span class="c1">// Lança uma exceção</span>

<span class="kd">val</span><span class="w"> </span><span class="n">safeM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">.</span><span class="n">withDefaultValue</span><span class="p">(</span><span class="s">&quot;no lo se&quot;</span><span class="p">)</span>
<span class="n">safeM</span><span class="p">(</span><span class="s">&quot;bottle&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">// java.lang.String = no lo se</span>

<span class="kd">val</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Set</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span>
<span class="n">s</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">      </span><span class="c1">// Boolean = false</span>
<span class="n">s</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w">      </span><span class="c1">// Boolean = true</span>

<span class="cm">/* Veja a documantação do map aqui -</span>
<span class="cm"> * http://www.scala-lang.org/api/current/index.html#scala.collection.immutable.Map</span>
<span class="cm"> * e garanta que você leia</span>
<span class="cm"> */</span>

<span class="w"> </span><span class="c1">// Tuplas</span>

<span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>

<span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>

<span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;three&quot;</span><span class="p">)</span>

<span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;three&quot;</span><span class="p">)</span>

<span class="w"> </span><span class="c1">//Por que ter isso?</span>
<span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">divideInts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>

<span class="c1">//A função divideInts te dá o resultado e o resultado</span>
<span class="n">divideInts</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">    </span><span class="c1">// (Int, Int) = (3,1)</span>

<span class="c1">//Para acessar os elementos de uma tupla, use _._n onde n é o índex do elemento</span>

<span class="kd">val</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">divideInts</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">    </span><span class="c1">// (Int, Int) = (3,1)</span>

<span class="n">d</span><span class="p">.</span><span class="n">_1</span><span class="w">    </span><span class="c1">// Int = 3</span>
<span class="n">d</span><span class="p">.</span><span class="n">_2</span><span class="w">    </span><span class="c1">// Int = 1</span>

<span class="c1">// Alternativamente, você pode atribuir múltiplas variáveis para uma tupla, o</span>
<span class="c1">// que é mais conveniente e legível em muitos casos</span>
<span class="kd">val</span><span class="w"> </span><span class="p">(</span><span class="n">div</span><span class="p">,</span><span class="w"> </span><span class="n">mod</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">divideInts</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>

<span class="n">div</span><span class="w">     </span><span class="c1">// Int = 3</span>
<span class="n">mod</span><span class="w">     </span><span class="c1">// Int = 1</span>

<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 5. Object Oriented Programming</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="cm">/*</span>
<span class="cm">    Tudo o que vimos até agora neste tutorial foram expressões simples (valores, funções, etc).</span>
<span class="cm">    Essas expressões são boas para digitar no interpretador da linha de comando para</span>
<span class="cm">    testes rápidos, mas elas não podem existir por si só em um arquivo Scala. Por exemplo,</span>
<span class="cm">    você não pode ter simplesmente &quot;val x = 5&quot; em um arquivo Scala. Ao invés disso, os únicos</span>
<span class="cm">    construtores de alto nível permitidos em Scala são:</span>

<span class="cm">    - objects</span>
<span class="cm">    - classes</span>
<span class="cm">    - case classes</span>
<span class="cm">    - traits</span>

<span class="cm">    E agora vamos explicar o que é cada um deles.</span>
<span class="cm">*/</span>

<span class="c1">//classes são similares a classes em outras linguagens. Os argumentos do construtor</span>
<span class="c1">// são declarados logo depois do nome da classe e a inicialização é feita no corpo da classe.</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Dog</span><span class="p">(</span><span class="n">br</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// codigo do construtor aqui</span>
<span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="n">breed</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">br</span>

<span class="w">  </span><span class="c1">// Define um método chamado bark que retorna uma String</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">bark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Woof, woof!&quot;</span>

<span class="w">  </span><span class="c1">// Assume-se que os métodos e valores são públicos. As palavras chave &quot;protected&quot;</span>
<span class="w">  </span><span class="c1">// e &quot;private&quot; também estão disponíveis.</span>
<span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">sleep</span><span class="p">(</span><span class="n">hours</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">s&quot;I&#39;m sleeping for </span><span class="si">$</span><span class="n">hours</span><span class="s"> hours&quot;</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Métodos abstratos são simplesmente métodos sem corpo. Se a gente remover o</span>
<span class="w">  </span><span class="c1">// comentário da próxima linha a classe Dog teria que ser declarada como abstrata</span>

<span class="w">  </span><span class="c1">//   abstract class Dog(...) { ... }</span>
<span class="w">  </span><span class="c1">// def chaseAfter(what: String): String</span>
<span class="p">}</span>

<span class="c1">// A palavra chave &quot;object&quot; cria um tipo e uma instância singlenton desse tipo.</span>
<span class="c1">// É comum para classes em Scala ter um &quot;companion object&quot; (objeto companheiro),</span>
<span class="c1">// onde, por exemlo, o comportamento é capturado pelas classes em si, mas o comportamento</span>
<span class="c1">// relacionado a toda instância da classe vai em objects. A diferença é semelhante</span>
<span class="c1">// a métodos versus métodos estáticos em outras linguagens. Note que objects e</span>
<span class="c1">// classes podem ter o mesmo nome.</span>

<span class="k">object</span><span class="w"> </span><span class="nc">Dog</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">allKnownBreeds</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="s">&quot;pitbull&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;shepherd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;retriever&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">createDog</span><span class="p">(</span><span class="n">breed</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Dog</span><span class="p">(</span><span class="n">breed</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Case classes são classes que possuem uma funcionalidade extra incorporada.</span>
<span class="c1">// Uma dúvida comum para iniciantes em Scala é quando usar classes e quando usar</span>
<span class="c1">// case classes. A linha é bem tênue, mas em geral classes tendem a focar em encapsulamento,</span>
<span class="c1">// polimorfismo e comportamento. Os valores nestas classes tendem a ser privados e</span>
<span class="c1">// apenas métodos ficam expostos. O propósito primário de uma case class é guardar</span>
<span class="c1">// dados imutáveis. Às vezes as case classes possuem alguns poucos métodos, os quais</span>
<span class="c1">// raramente possuem efeitos colaterais (side effects).</span>
<span class="k">case</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="n">phoneNumber</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">)</span>

<span class="c1">// Cria uma nova instância. Observe que case classes não precisam de usar &quot;new&quot; ao serem instanciadas</span>
<span class="kd">val</span><span class="w"> </span><span class="n">george</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="s">&quot;George&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">kate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="s">&quot;Kate&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;4567&quot;</span><span class="p">)</span>

<span class="c1">// Com case classes você ganha algumas regalias, como getters:</span>
<span class="c1">// With case classes, you get a few perks for free, like getters:</span>
<span class="n">george</span><span class="p">.</span><span class="n">phoneNumber</span><span class="w">  </span><span class="c1">// =&gt; &quot;1234&quot;</span>

<span class="c1">// Verificação de igualdade por campo (sem a necessidade de sobrescrever o método equals)</span>
<span class="nc">Person</span><span class="p">(</span><span class="s">&quot;George&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1234&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="s">&quot;Kate&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1236&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">// =&gt; false</span>

<span class="c1">// Uma maneira fácil de copiar</span>
<span class="c1">// otherGeorge == Person(&quot;george&quot;, &quot;9876&quot;)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">otherGeorge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">george</span><span class="p">.</span><span class="n">copy</span><span class="p">(</span><span class="n">phoneNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;9876&quot;</span><span class="p">)</span>

<span class="c1">// E muitas outras. Case classes também possuem pattern matching de graça. Veja no próximo tópico.</span>

<span class="c1">// Traits a caminho.</span>


<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 6. Pattern Matching</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="c1">// Pattern matching é um recurso muito poderoso e muito usado em Scala. Aqui</span>
<span class="c1">// mostramos como o seu pattern se adequa a uma case class.</span>
<span class="c1">// NB: Diferente de outras linguagens, Scala não precisa de quebras. Entrar em</span>
<span class="c1">// todas as condições do pattern matching simples não acontece.</span>

<span class="k">def</span><span class="w"> </span><span class="nf">matchPerson</span><span class="p">(</span><span class="n">person</span><span class="p">:</span><span class="w"> </span><span class="nc">Person</span><span class="p">):</span><span class="w"> </span><span class="nc">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Enrão você especifica os padrões</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="s">&quot;George&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&quot;We found George! His number is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="s">&quot;Kate&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w">   </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&quot;We found Kate! Her number is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w">     </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&quot;We matched someone : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot;, phone : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">number</span>
<span class="p">}</span>

<span class="kd">val</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;(.*)@(.*)&quot;</span><span class="p">.</span><span class="n">r</span><span class="w">  </span><span class="c1">// Define uma regex para o próximo exemplo.</span>

<span class="c1">// Pattern matching pode parecer com o comando switch nas liguagens da família C,</span>
<span class="c1">// mas é muito mais poderoso. Em Scala você pode encontrar mais correpondências:</span>

<span class="k">def</span><span class="w"> </span><span class="nf">matchEverything</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span><span class="w"> </span><span class="nc">Any</span><span class="p">):</span><span class="w"> </span><span class="nc">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Você pode encontrar valores correspondentes:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&quot;Got the string Hello world&quot;</span>

<span class="w">  </span><span class="c1">// Você pode fazer correspondência por tipo:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&quot;Got a Double: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span>

<span class="w">  </span><span class="c1">// Você pode especificar condições:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&quot;Got a pretty big number!&quot;</span>

<span class="w">  </span><span class="c1">// Você pode encontrar correspondência com case classes, como fizemos antes:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">s&quot;Got contact info for </span><span class="si">$</span><span class="n">name</span><span class="s">!&quot;</span>

<span class="w">  </span><span class="c1">// Você pode encontrar correspondências por regex:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">email</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">domain</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">s&quot;Got email address </span><span class="si">$</span><span class="n">name</span><span class="s">@</span><span class="si">$</span><span class="n">domain</span><span class="s">&quot;</span>

<span class="w">  </span><span class="c1">// Você pode encontrar correspondencias por tuplas:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="nc">Double</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">s&quot;Got a tuple: </span><span class="si">$</span><span class="n">a</span><span class="s">, </span><span class="si">$</span><span class="n">b</span><span class="s">, </span><span class="si">$</span><span class="n">c</span><span class="s">&quot;</span>

<span class="w">  </span><span class="c1">// Você pode encontrar corresponências por estruturas de dados:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">s&quot;Got a list with three elements and starts with 1: 1, </span><span class="si">$</span><span class="n">b</span><span class="s">, </span><span class="si">$</span><span class="n">c</span><span class="s">&quot;</span>

<span class="w">  </span><span class="c1">// Você pode aninhar padrões:</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="nc">List</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;YAY&quot;</span><span class="p">)))</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&quot;Got a list of list of tuple&quot;</span>

<span class="w">  </span><span class="c1">// Retornar qualquer valor (padrão - default) caso nenhuma das possibilidades é correspondente.</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">&quot;Got unknown object&quot;</span>

<span class="w">  </span><span class="c1">// Na verdade, você pode fazer correspondência de padrão de qualquer objeto que</span>
<span class="w">  </span><span class="c1">// tenha o método &quot;unnaply&quot;. Este recurso é tão poderoso que o Scala te deixa</span>
<span class="w">  </span><span class="c1">// criar funções inteiras como patterns:</span>

<span class="w">  </span><span class="kd">val</span><span class="w"> </span><span class="n">patternFunc</span><span class="p">:</span><span class="w"> </span><span class="nc">Person</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="s">&quot;George&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">s&quot;George&#39;s number: </span><span class="si">$</span><span class="n">number</span><span class="s">&quot;</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s">s&quot;Random person&#39;s number: </span><span class="si">$</span><span class="n">number</span><span class="s">&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 7. Programação Funcional</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="c1">// Scala permite que métodos e funções recebam ou retornem outras funções ou métodos.</span>

<span class="kd">val</span><span class="w"> </span><span class="n">add10</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="c1">// A function taking an Int and returning an Int</span>
<span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="n">add10</span><span class="w"> </span><span class="c1">// List(11, 12, 13) - add10 is applied to each element</span>

<span class="c1">// Funções anônimas podem ser usadas ao invés de funções com nomes:</span>
<span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>

<span class="c1">// E o símbolo underline (&quot;_&quot;) pode ser usado quando há apenas um argumento para a função anônima.</span>
<span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>

<span class="c1">// Se tanto o bloco animo quanto a função que você estiver usando receberem apenas</span>
<span class="c1">// um argumento, você pode inclusive omitir o símbolo _</span>
<span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>

<span class="c1">// Combinadores</span>

<span class="n">s</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">sq</span><span class="p">)</span>

<span class="kd">val</span><span class="w"> </span><span class="n">sSquared</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="w"> </span><span class="n">map</span><span class="p">(</span><span class="n">sq</span><span class="p">)</span>

<span class="n">sSquared</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>

<span class="n">sSquared</span><span class="p">.</span><span class="n">reduce</span><span class="w"> </span><span class="p">(</span><span class="n">_+_</span><span class="p">)</span>

<span class="c1">// A função filter recebe um predicado (uma função do tipo A -&gt; Boolean) e seleciona</span>
<span class="c1">// todos os elementos que satisfazem o predicado.</span>
<span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="p">(</span><span class="n">_</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">// List(3)</span>
<span class="k">case</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span>
<span class="nc">List</span><span class="p">(</span>
<span class="w">  </span><span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Dom&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">23</span><span class="p">),</span>
<span class="w">  </span><span class="nc">Person</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Bob&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
<span class="p">).</span><span class="n">filter</span><span class="p">(</span><span class="n">_</span><span class="p">.</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span><span class="w"> </span><span class="c1">// List(Person(&quot;Bob&quot;, 30))</span>

<span class="c1">// Scala tem o método foreach definido em algumas collections em específico, o qual</span>
<span class="c1">// recebe um tipo e retorna Unit (um método void)</span>
<span class="kd">val</span><span class="w"> </span><span class="n">aListOfNumbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="n">aListOfNumbers</span><span class="w"> </span><span class="n">foreach</span><span class="w"> </span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">aListOfNumbers</span><span class="w"> </span><span class="n">foreach</span><span class="w"> </span><span class="n">println</span>

<span class="cm">/* NB Ests não são laços for. A semântica dos laços for é &#39;repetir&#39; enquanto um</span>
<span class="cm">  for-comprehension define um relacionamento entre dois conjuntos de dados */</span>


<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 8. Implicits</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="cm">/* ALERTA ALERTA:</span>
<span class="cm">  Implicits são um conjunto de recursos poderosos de Scala e consequentemente é</span>
<span class="cm">  fácil abusar deles. Iniciantes em Scala deveriam resistir a tentação de usá-los</span>
<span class="cm">  até que eles entendam não apenas como eles funcionam mas também as melhores práticas</span>
<span class="cm">  deles. Incluimos uma sessão neste tutorial sobre isso porque implicits são tão</span>
<span class="cm">  corriqueiros em bibliotecas do Scala que é impossível fazer qualqeuer coisa expressiva</span>
<span class="cm">  sem utilizar uma biblioteca que usa implicits. Isto é para você entender e trabalhar</span>
<span class="cm">  com implicits. Não declare seus próprios implicits por conta própria.</span>
<span class="cm">*/</span>

<span class="c1">// qualquer valor (val, function, objects, etc) pode ser declarado para ser implícito</span>
<span class="c1">// usando a, você adivinhou, palavra chave &quot;implicit&quot;. Usaremos a classe Dog definida</span>
<span class="c1">// na sessão 5 para os próximos exemplos.</span>
<span class="k">implicit</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="n">myImplicitInt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
<span class="k">implicit</span><span class="w"> </span><span class="k">def</span><span class="w"> </span><span class="nf">myImplicitFunction</span><span class="p">(</span><span class="n">breed</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nc">Dog</span><span class="p">(</span><span class="s">&quot;Golden &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">breed</span><span class="p">)</span>

<span class="c1">// A palavra chave implicit não muda o comportamento do valor por si só, então</span>
<span class="c1">// os valores acima podem ser usados como de costume.</span>
<span class="n">myImplicitInt</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w">                   </span><span class="c1">// =&gt; 102</span>
<span class="n">myImplicitFunction</span><span class="p">(</span><span class="s">&quot;Pitbull&quot;</span><span class="p">).</span><span class="n">breed</span><span class="w"> </span><span class="c1">// =&gt; &quot;Golden Pitbull&quot;</span>

<span class="nc">A</span><span class="w"> </span><span class="n">diferença</span><span class="w"> </span><span class="n">é</span><span class="w"> </span><span class="n">que</span><span class="w"> </span><span class="n">agora</span><span class="w"> </span><span class="n">esses</span><span class="w"> </span><span class="n">valores</span><span class="w"> </span><span class="n">são</span><span class="w"> </span><span class="n">elegíveis</span><span class="w"> </span><span class="n">para</span><span class="w"> </span><span class="n">serem</span><span class="w"> </span><span class="n">usados</span><span class="w"> </span><span class="n">quando</span><span class="w"> </span><span class="n">outra</span>
<span class="c1">// parte do código &quot;precisa&quot; de um valor implícito. Uma situação é uma função</span>
<span class="c1">// com argumentos implícitos:</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sendGreetings</span><span class="p">(</span><span class="n">toWhom</span><span class="p">:</span><span class="w"> </span><span class="nc">String</span><span class="p">)(</span><span class="k">implicit</span><span class="w"> </span><span class="n">howMany</span><span class="p">:</span><span class="w"> </span><span class="nc">Int</span><span class="p">)</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="s">s&quot;Hello </span><span class="si">$</span><span class="n">toWhom</span><span class="s">, </span><span class="si">$</span><span class="n">howMany</span><span class="s"> blessings to you and yours!&quot;</span>

<span class="c1">// Se fornecermos um valor para &quot;howMany&quot; a função se comporta como sempre</span>
<span class="n">sendGreetings</span><span class="p">(</span><span class="s">&quot;John&quot;</span><span class="p">)(</span><span class="mi">1000</span><span class="p">)</span><span class="w">  </span><span class="c1">// =&gt; &quot;Hello John, 1000 blessings to you and yours!&quot;</span>

<span class="c1">// Mas se omitirmos o parâmetro implícito um valor implícito de mesmo tipo é usado,</span>
<span class="c1">// neste caso, &quot;myImplicitInt&quot;:</span>
<span class="n">sendGreetings</span><span class="p">(</span><span class="s">&quot;Jane&quot;</span><span class="p">)</span><span class="w">  </span><span class="c1">// =&gt; &quot;Hello Jane, 100 blessings to you and yours!&quot;</span>

<span class="c1">// Parâmetros implícitos de funções nos permitem simular type classes em outras</span>
<span class="c1">//linguagens funcionais. As linhas abaixo são a mesma coisa:</span>
<span class="c1">// def foo[T](implicit c: C[T]) = ...</span>
<span class="c1">// def foo[T : C] = ...</span>

<span class="c1">// Outro caso no qual o compilador procura por um implicit é quando você tem obj.method(...)</span>
<span class="c1">// mas &quot;obj&quot; não possui &quot;method&quot; como um método. Neste caso, se houver uma conversão</span>
<span class="c1">// de implicit do tipo A =&gt; B, onde A é o tipo do &quot;obj&quot; e B tem um método chamado</span>
<span class="c1">// &quot;method&quot;, a conversão é aplicada. Então, tendo myImplicitFunction acima em escopo, podemos dizer:</span>
<span class="s">&quot;Retriever&quot;</span><span class="p">.</span><span class="n">breed</span><span class="w"> </span><span class="c1">// =&gt; &quot;Golden Retriever&quot;</span>
<span class="s">&quot;Sheperd&quot;</span><span class="p">.</span><span class="n">bark</span><span class="w">    </span><span class="c1">// =&gt; &quot;Woof, woof!&quot;</span>

<span class="c1">// Aqui, a String é convertida para Dog usando nossa função acima, então o método</span>
<span class="c1">// apropriado é chamado. Isso é um recurso extremamente poderoso, mas de novo, não</span>
<span class="c1">// é para ser usado de maneira leviana. Na verdade, quando você define a função</span>
<span class="c1">// implícita, o seu compilador deve exibir um aviso de que você não deveria fazer isso,</span>
<span class="c1">// a menos que você realmente saiba o que você está fazendo.</span>

<span class="c1">/////////////////////////////////////////////////</span>
<span class="c1">// 9. Misc</span>
<span class="c1">/////////////////////////////////////////////////</span>

<span class="c1">// Importando coisas</span>
<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">collection</span><span class="p">.</span><span class="nn">immutable</span><span class="p">.</span><span class="nc">List</span>

<span class="c1">// Importando todos os sub pacotes</span>
<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">collection</span><span class="p">.</span><span class="nn">immutable</span><span class="p">.</span><span class="n">_</span>

<span class="c1">// Importando várias classes em um único comando</span>
<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">collection</span><span class="p">.</span><span class="nn">immutable</span><span class="p">.{</span><span class="nc">List</span><span class="p">,</span><span class="w"> </span><span class="nc">Map</span><span class="p">}</span>

<span class="c1">// Renomeando um import usando &#39;=&gt;&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">collection</span><span class="p">.</span><span class="nn">immutable</span><span class="p">.{</span><span class="nc">List</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nc">ImmutableList</span><span class="p">}</span>

<span class="c1">// Importa todas as classes, com exceção de algumas. O import abaixo importa todas as classes excluindo Map e Set:</span>
<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">collection</span><span class="p">.</span><span class="nn">immutable</span><span class="p">.{</span><span class="nc">Map</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="nc">Set</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">}</span>

<span class="c1">// Classes Java também podem ser importadas. A syntaxe de Scala pode ser usada:</span>
<span class="k">import</span><span class="w"> </span><span class="nn">java</span><span class="p">.</span><span class="nn">swing</span><span class="p">.{</span><span class="nc">JFrame</span><span class="p">,</span><span class="w"> </span><span class="nc">JWindow</span><span class="p">}</span>

<span class="c1">// O ponto de entrada do seu programa é definido em um arquivo Scala usando um object com um único método main:</span>
<span class="k">object</span><span class="w"> </span><span class="nc">Application</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span><span class="w"> </span><span class="nc">Array</span><span class="p">[</span><span class="nc">String</span><span class="p">]):</span><span class="w"> </span><span class="nc">Unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// o código fica aqui</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Arquivos podem ter múltiplas classes e objects. Compile com scalac</span>

<span class="c1">// Entrada e saída</span>

<span class="c1">// Para ler um arquivo linha a linha</span>
<span class="k">import</span><span class="w"> </span><span class="nn">scala</span><span class="p">.</span><span class="nn">io</span><span class="p">.</span><span class="nc">Source</span>
<span class="k">for</span><span class="p">(</span><span class="n">line</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nc">Source</span><span class="p">.</span><span class="n">fromFile</span><span class="p">(</span><span class="s">&quot;myfile.txt&quot;</span><span class="p">).</span><span class="n">getLines</span><span class="p">())</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1">// Para escrever um arquivo use o PrintWriter do Javaval writer = new PrintWriter(&quot;myfile.txt&quot;)</span>
<span class="n">writer</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Writing line for line&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">util</span><span class="p">.</span><span class="nc">Properties</span><span class="p">.</span><span class="n">lineSeparator</span><span class="p">)</span>
<span class="n">writer</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Another line here&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">util</span><span class="p">.</span><span class="nc">Properties</span><span class="p">.</span><span class="n">lineSeparator</span><span class="p">)</span>
<span class="n">writer</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>

<span class="o">##</span><span class="w">  </span><span class="nc">Recursos</span><span class="w"> </span><span class="n">adicionais</span>

<span class="o">*</span><span class="w"> </span><span class="p">[</span><span class="nc">Scala</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">impatient</span><span class="p">](</span><span class="n">http</span><span class="p">:</span><span class="c1">//horstmann.com/scala/)</span>
<span class="o">*</span><span class="w"> </span><span class="p">[</span><span class="nc">Twitter</span><span class="w"> </span><span class="nc">Scala</span><span class="w"> </span><span class="n">school</span><span class="p">](</span><span class="n">http</span><span class="p">:</span><span class="c1">//twitter.github.io/scala_school/)</span>
<span class="o">*</span><span class="w"> </span><span class="p">[</span><span class="nc">Documentação</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="nc">Scala</span><span class="p">](</span><span class="n">http</span><span class="p">:</span><span class="c1">//docs.scala-lang.org/)</span>
<span class="o">*</span><span class="w"> </span><span class="p">[</span><span class="nc">Tente</span><span class="w"> </span><span class="nc">Scala</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">seu</span><span class="w"> </span><span class="n">navegador</span><span class="p">](</span><span class="n">http</span><span class="p">:</span><span class="c1">//scalatutorials.com/tour/)</span>
<span class="o">*</span><span class="w"> </span><span class="nc">Junte</span><span class="w"> </span><span class="p">[</span><span class="nc">Scala</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">group</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="c1">//groups.google.com/forum/#!forum/scala-user)</span>
</pre></div>
    <hr>
    <p>Sugestões ou correções? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Abra uma issue</a> no repositório do Github, ou faça um <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/pt-br/scala-pt.html.markdown">pull request</a> você mesmo!
    </p>
    <p class="contributed">
    Originalmente contribuído por George Petrov e atualizado por <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/pt-br/scala-pt.html.markdown">3 colaborador(es)</a>.
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="http://github.com/petrovg">George Petrov</a>,
        <a href="http://dbousamra.github.com">Dominic Bou-Samra</a>,
        <a href="http://geoffliu.me">Geoff Liu</a>,
        <a href="http://reference-error.org">Ha-Duong Nguyen</a>
    </p>

    <p>
      Translated by:
        <a href="https://github.com/FFrancieli">Francieli Viane</a>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
