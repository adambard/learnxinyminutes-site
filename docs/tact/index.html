<!DOCTYPE html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml">
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WXC8R75DEN');
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="en-us">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn Tact in Y Minutes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/tact/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Ftact%2F&text=Learn+X+in+Y+minutes%2C+where+X%3DTact">
        Share this page
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">Select theme:</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">light</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">dark</button>
  </div>
  <h1><a href="/">Learn X in Y minutes</a></h1>
  <h2>Where X=Tact</h2>
    <p class="filelink">
    Get the code:
    <a href="/docs/files/tact.tc">tact.tc</a>
    </p>
  <div id="doc">
    <p>Tact language is used to program smart contracts on the
<a href="https://ton.org">The Open Network</a> blockchain. Contract logic is executed in
TVM, the stack-based TON Virtual Machine.</p>

<p>Tact is a statically typed, but language was designed to be friendly for
developers with JS and Python background.</p>

<p>This page is based on <a href="https://tact-by-example.org/">Tact-by-Example</a>.
You can use this resource to play around with contracts and check out
the interactive features.</p>

<h1>Basic syntax, function definition</h1>
<div class="highlight"><pre class="highlight c"><code><span class="c1">// Single line comment</span>

 <span class="c1">// This is a multi-line comment</span>
  <span class="c1">// this is a comment in the comment</span>

    <span class="n">get</span> <span class="n">fun</span> <span class="n">greeting</span><span class="p">()</span><span class="o">:</span> <span class="n">String</span> <span class="p">{</span>
    <span class="c1">// This is a function that returns "hello world" message</span>
    <span class="c1">// Return type is specified after a colon :</span>
        <span class="k">return</span> <span class="s">"hello world"</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre></div>
<h1>A Simple Counter contract</h1>

<p>This is a simple counter contract that allows users to increment its value.</p>

<p>This contract has a state variable <code>val</code> that persists between contract calls</p>

<ul>
<li>the counter value. When persisted, this variable is encoded as <code>uint32</code> -
a 32-bit unsigned integer. Contracts pay rent in proportion to the amount
of persistent space they consume, so compact representations are encouraged.</li>
</ul>

<p>State variables should be initialized in <code>init()</code> that runs on deployment of
the contract.</p>

<h2>Messages</h2>

<p>The actor model is a model of concurrent computation and is at the heart of TON
smart contracts. Each smart contract can process one message at a time, change
its own state, or send one or several messages. Processing of the message
occurs in one transaction, that is, it cannot be interrupted. Messages to one
contract are processed consequently one by one. As a result, the execution of
each transaction is local and can be parallelized at the blockchain level,
which allows for on-demand throughput horizontal scaling and hosting an
unlimited number of users and transactions.</p>

<h2>Receiving messages</h2>

<p>This contract can receive messages from users. Unlike getters that are just
read-only, messages can do write operations and change the contract&rsquo;s
persistent state. Incoming messages are processed in receive() methods as
transactions and cost gas for the sender.</p>

<p>After deploying the contract, send the increment message by pressing the Send
increment button in order to increase the counter value by one. Afterwards,
call the getter value() to see that the value indeed changed.</p>
<div class="highlight"><pre class="highlight c"><code><span class="n">contract</span> <span class="n">Counter</span> <span class="p">{</span>
<span class="c1">// Tact allows to create a contract</span>
    <span class="c1">// persistent state variable of type Int to hold the counter value</span>
    <span class="nl">val:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">uint32</span><span class="p">;</span>

    <span class="c1">// initialize the state variable when contract is deployed</span>
    <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// handler for incoming increment messages that change the state</span>
    <span class="n">receive</span><span class="p">(</span><span class="s">"increment"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">val</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// read-only getter for querying the counter value</span>
    <span class="n">get</span> <span class="n">fun</span> <span class="n">value</span><span class="p">()</span><span class="o">:</span> <span class="n">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h1>The Deployable Trait</h1>

<p>Tact doesn&rsquo;t support classical class inheritance, but contracts can implement
traits. One of the commonly used traits is <code>Deployable</code>. It implements a simple
receiver for the Deploy message which helps deploy contracts in a standard way.</p>

<p>All contracts are deployed by sending them a message. This can be any message,
but best practice is to designate the special <code>Deploy</code>
message for this purpose.</p>

<p>This message has a single field, <code>queryId</code>, which is provided by the deployer
(normally zero). If the deploy succeeds, the contract will reply with the
message <code>DeployOk</code> and echo the same <code>queryId</code> in the response.</p>

<p>If you&rsquo;re using Tact&rsquo;s <a href="https://docs.tact-lang.org/tools/typescript#tact-contract-in-typescript">auto-generated</a> TypeScript
classes to deploy, sending the deploy message should look like:</p>
<div class="highlight"><pre class="highlight c"><code><span class="k">const</span> <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span> <span class="err">$$</span><span class="n">type</span><span class="o">:</span> <span class="s">"Deploy"</span><span class="p">,</span> <span class="n">queryId</span><span class="o">:</span> <span class="mi">0</span><span class="n">n</span> <span class="p">};</span>
 <span class="n">await</span> <span class="n">contract</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="p">{</span> <span class="n">value</span><span class="o">:</span> <span class="n">toNano</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">},</span> <span class="n">msg</span><span class="p">);</span>
</code></pre></div>
<p>You can see the implementation of the trait <a href="https://github.com/tact-lang/tact/blob/main/stdlib/libs/deploy.tact">here</a>.
Notice that the file deploy.tact needs to be imported from the standard
library using the import keyword.</p>
<div class="highlight"><pre class="highlight c"><code><span class="c1">// this trait has to be imported</span>
<span class="n">import</span> <span class="s">"@stdlib/deploy"</span><span class="p">;</span>

<span class="c1">// the Deployable trait adds a default receiver for the "Deploy" message</span>
<span class="n">contract</span> <span class="n">Counter</span> <span class="n">with</span> <span class="n">Deployable</span> <span class="p">{</span>

    <span class="nl">val:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">uint32</span><span class="p">;</span>

    <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">receive</span><span class="p">(</span><span class="s">"increment"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">val</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">get</span> <span class="n">fun</span> <span class="n">value</span><span class="p">()</span><span class="o">:</span> <span class="n">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h1>Integers</h1>

<p>Tact supports a number of primitive data types that are tailored for
smart contract use.</p>

<p><code>Int</code> is the primary number type. Math in smart contracts is always done
with integers and never with floating points since floats are <a href="https://learn.microsoft.com/en-us/cpp/build/why-floating-point-numbers-may-lose-precision">unpredictable</a>.</p>

<p>The runtime type <code>Int</code> is always 257-bit signed, so all runtime calculations
are done at 257-bit. This should be large enough for pretty much anything you
need as it&rsquo;s large enough to hold the number of atoms in the universe.</p>

<p>Persistent state variables can be initialized inline or inside <code>init()</code>.
If you forget to initialize a state variable, the code will not compile.</p>

<h2>State costs</h2>

<p>When encoding <code>Int</code> to persistent state, we will usually use smaller
representations than 257-bit to reduce storage cost.
The persistent state size is specified in every declaration of
a state variable after the <code>as</code> keyword.</p>

<p>Storing 1000 257-bit integers in state <a href="https://ton.org/docs/develop/smart-contracts/fees#how-to-calculate-fees">costs</a> about
0.184 TON per year. Storing 1000 32-bit integers only costs
0.023 TON per year by comparison.</p>
<div class="highlight"><pre class="highlight c"><code><span class="n">import</span> <span class="s">"@stdlib/deploy"</span><span class="p">;</span>

<span class="n">contract</span> <span class="n">Integers</span> <span class="n">with</span> <span class="n">Deployable</span> <span class="p">{</span>

    <span class="c1">// contract persistent state variables</span>
    <span class="c1">// integers can be persisted in state in various sizes</span>
    <span class="c1">// range -2^256 to 2^256 - 1 (takes 257 bit = 32 bytes + 1 bit)</span>
    <span class="nl">i1:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">int257</span> <span class="o">=</span> <span class="mi">3001</span><span class="p">;</span>
    <span class="nl">i2:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">uint256</span><span class="p">;</span>         <span class="c1">// range 0 to 2^256 - 1 (takes 256 bit = 32 bytes)</span>
    <span class="c1">// range -2^255 to 2^255 - 1 (takes 256 bit = 32 bytes)</span>
    <span class="nl">i3:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">int256</span> <span class="o">=</span> <span class="mi">17</span><span class="p">;</span>
    <span class="nl">i4:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">uint128</span><span class="p">;</span>         <span class="c1">// range 0 to 2^128 - 1 (takes 128 bit = 16 bytes)</span>
    <span class="c1">// range -2^127 to 2^127 - 1 (takes 128 bit = 16 bytes)</span>
    <span class="nl">i5:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">int128</span><span class="p">;</span>
    <span class="nl">i6:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">coins</span><span class="p">;</span>           <span class="c1">// range 0 to 2^120 - 1 (takes 120 bit = 15 bytes)</span>
    <span class="c1">// range 0 to 18,446,744,073,709,551,615 (takes 64 bit = 8 bytes)</span>
    <span class="nl">i7:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">uint64</span> <span class="o">=</span> <span class="mh">0x1c4a</span><span class="p">;</span>
    <span class="c1">// range -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807</span>
    <span class="c1">// (takes 64 bit = 8 bytes)</span>
    <span class="nl">i8:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">int64</span> <span class="o">=</span> <span class="o">-</span><span class="mi">203</span><span class="p">;</span>
    <span class="nl">i9:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">uint32</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>      <span class="c1">// range 0 to 4,294,967,295 (takes 32 bit = 4 bytes)</span>
    <span class="c1">// range -2,147,483,648 to 2,147,483,647 (takes 32 bit = 4 bytes)</span>
    <span class="nl">i10:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">int32</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nl">i11:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">uint16</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>     <span class="c1">// range 0 to 65,535 (takes 16 bit = 2 bytes)</span>
    <span class="nl">i12:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">int16</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>      <span class="c1">// range -32,768 to 32,767 (takes 16 bit = 2 bytes)</span>
    <span class="nl">i13:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">uint8</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>      <span class="c1">// range 0 to 255 (takes 8 bit = 1 byte)</span>
    <span class="nl">i14:</span> <span class="n">Int</span> <span class="n">as</span> <span class="n">int8</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>       <span class="c1">// range -128 to 127 (takes 8 bit = 1 byte)</span>

    <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// we can define numbers in hex (base 16)</span>
        <span class="n">self</span><span class="p">.</span><span class="n">i2</span> <span class="o">=</span> <span class="mh">0x83dfd552e6372</span><span class="p">;</span>
        <span class="n">self</span><span class="p">.</span><span class="n">i4</span> <span class="o">=</span> <span class="mi">1507998500293440234999</span><span class="p">;</span> <span class="c1">// we can define numbers in decimal</span>
        <span class="n">self</span><span class="p">.</span><span class="n">i5</span> <span class="o">=</span> <span class="n">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span>   <span class="c1">// this is 10^9 = 1,000,000,000</span>
        <span class="n">self</span><span class="p">.</span><span class="n">i6</span> <span class="o">=</span> <span class="n">ton</span><span class="p">(</span><span class="s">"1.23"</span><span class="p">);</span>  <span class="c1">// easy to read coin balances</span>
        <span class="c1">//  (coins type is nano-tons, like cents, just with 9 decimals)</span>
    <span class="p">}</span>

    <span class="n">receive</span><span class="p">(</span><span class="s">"show all"</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">i1</span><span class="p">);</span>
        <span class="n">dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">i2</span><span class="p">);</span>
        <span class="n">dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">i3</span><span class="p">);</span>
        <span class="n">dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">i4</span><span class="p">);</span>
        <span class="n">dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">i5</span><span class="p">);</span>
        <span class="n">dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">i6</span><span class="p">);</span>
        <span class="n">dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">i7</span><span class="p">);</span>
        <span class="n">dump</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">i8</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">get</span> <span class="n">fun</span> <span class="n">result</span><span class="p">()</span><span class="o">:</span> <span class="n">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">i1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Bools, Addresses, Strings, Operators and Constants</h2>

<h3>Bool</h3>

<p>Bool can be used for boolean variables</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">b1</span><span class="p">:</span> <span class="nx">Bool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="nl">b2</span><span class="p">:</span> <span class="nx">Bool</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</code></pre></div>
<h3>Address</h3>

<p>Address is another primitive data type. It represents standard addresses on
the TON blockchain.
TON is divided into multiple chains called workchains. One of the internal
fields of the address is the workchain id:
0 - The standard workchain, for regular users. Your contracts will be here.
-1 - The masterchain, usually for validators.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="c1">// bouncable (same foundation wallet)</span>
<span class="nx">a1</span><span class="p">:</span> <span class="nx">Address</span> <span class="o">=</span> <span class="nx">address</span><span class="p">(</span><span class="dl">"</span><span class="s2">EQCD39VS5jcptHL8vMjEXrzGaRcCVYto7HUn4bpAOg8xqB2N</span><span class="dl">"</span><span class="p">);</span>
<span class="c1">// non-bounceable (same foundation wallet)</span>
<span class="nl">a2</span><span class="p">:</span> <span class="nx">Address</span> <span class="o">=</span> <span class="nx">address</span><span class="p">(</span><span class="dl">"</span><span class="s2">UQCD39VS5jcptHL8vMjEXrzGaRcCVYto7HUn4bpAOg8xqEBI</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div>
<h3>String</h3>

<p>Tact has basic support for strings. Strings support unicode and don&rsquo;t
have any special escape characters like \n.
Strings are immutable. Once a sequence of characters is created, this
sequence cannot be modified.
If you need to concatenate strings in run-time, you can use a StringBuilder.
This object handles gas efficiently and supports append() of various types to
the string.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">s1</span><span class="p">:</span> <span class="nb">String</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">hello world</span><span class="dl">"</span><span class="p">;</span>
<span class="nl">sb</span><span class="p">:</span> <span class="nx">StringBuilder</span> <span class="o">=</span> <span class="nx">beginString</span><span class="p">();</span>
<span class="nx">sb</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="nx">s1</span><span class="p">);</span>
</code></pre></div>
<h3>Integer Operations</h3>

<p>Addition, subtraction, multiplication, division, modulo,
shift left and right, minimum and maximum numbers, absolute value</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">i</span><span class="p">:</span> <span class="nx">Int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">12</span><span class="p">;</span> <span class="c1">// temporary variable, runtime Int type is always int257</span>
<span class="nx">i</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="p">(</span><span class="nx">i2</span> <span class="o">-</span> <span class="nx">i</span><span class="p">);</span> <span class="c1">// basic math expressions</span>
<span class="nx">i</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">%</span> <span class="mi">10</span><span class="p">;</span> <span class="c1">// modulo (remainder after division), 3001 % 10 = 1</span>
<span class="nx">i</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">;</span> <span class="c1">// integer division (truncation toward zero), 3001 / 1000 = 3</span>
<span class="nx">i</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// shift right (multiply by 2^n)</span>
<span class="nx">i</span> <span class="o">=</span> <span class="nx">i1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// shift left (divide by 2^n)</span>
<span class="nx">i</span> <span class="o">=</span> <span class="nx">min</span><span class="p">(</span><span class="nx">i2</span><span class="p">,</span> <span class="mi">11</span><span class="p">);</span> <span class="c1">// minimum between two numbers</span>
<span class="nx">i</span> <span class="o">=</span> <span class="nx">max</span><span class="p">(</span><span class="nx">i2</span><span class="p">,</span> <span class="mi">66</span><span class="p">);</span> <span class="c1">// maximum between two numbers</span>
<span class="nx">i</span> <span class="o">=</span> <span class="nx">abs</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="nx">i2</span><span class="p">);</span> <span class="c1">// absolute value</span>
</code></pre></div>
<h3>Constants</h3>

<p>Unlike variables, constants cannot change. Their values are
calculated in compile-time and cannot change during execution.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">StateUnpaid</span><span class="p">:</span> <span class="nx">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</code></pre></div>
<h2>Getters, Receivers and Messages</h2>

<h3>Getters</h3>

<p>Getters are special contract functions that allow users to query
information from the contract.
Contract methods starting with the prefix get fun are all getters.
Calling getters is free and does not cost gas.
Getters are read-only, they cannot change the contract persistent state.
A contract cannot execute a getter of another contract. Getters are only
executable by end-users off-chain.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">count</span><span class="p">:</span> <span class="nx">Int</span> <span class="k">as</span> <span class="nx">uint32</span> <span class="o">=</span> <span class="mi">17</span><span class="p">;</span>

<span class="kd">get</span> <span class="nx">fun</span> <span class="nx">counter</span><span class="p">():</span> <span class="nx">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">self</span><span class="p">.</span><span class="nx">count</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3>Receivers</h3>

<p>Contract methods named receive() are the handlers that process
each incoming message type.
Tact will automatically route every incoming message to the correct receiver
listening for it according to its type. A message is only handled by one receiver.</p>

<p>Handler for &ldquo;increment&rdquo; textual message - this is a textual string message,
these cannot carry input arguments</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">receive</span><span class="p">(</span><span class="dl">"</span><span class="s2">increment</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h3>Messages</h3>

<p>Messages are defined using the message keyword. They can carry input
arguments. For integers, you must define the encoding size, just like in
state variables.</p>

<p>Handler for the &ldquo;Add&rdquo; message - this is a binary message that has an input
argument (amount)</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">receive</span><span class="p">(</span><span class="nx">msg</span><span class="p">:</span> <span class="nx">Add</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">+</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">amount</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h2>Structs</h2>

<p>Structs allow you to combine multiple primitives together in a more semantic way.
Structs can define complex data types that contain multiple fields of
different types. They can also be nested.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="c1">// Normal struct</span>
<span class="nx">struct</span> <span class="nx">Point</span> <span class="p">{</span>
    <span class="nl">x</span><span class="p">:</span> <span class="nx">Int</span> <span class="k">as</span> <span class="nx">int64</span><span class="p">;</span>
    <span class="nl">y</span><span class="p">:</span> <span class="nx">Int</span> <span class="k">as</span> <span class="nx">int64</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Nested struct</span>
<span class="nx">struct</span> <span class="nx">Params</span> <span class="p">{</span>
    <span class="nl">name</span><span class="p">:</span> <span class="nb">String</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Satoshi</span><span class="dl">"</span><span class="p">;</span>   <span class="c1">// default value</span>
    <span class="nl">age</span><span class="p">:</span> <span class="nx">Int</span><span class="p">?</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>           <span class="c1">// optional field</span>
    <span class="nl">point</span><span class="p">:</span> <span class="nx">Point</span><span class="p">;</span>               <span class="c1">// nested structs</span>
<span class="p">}</span>
</code></pre></div>
<h2>Message Sender and Throwing Errors</h2>

<h3>Message Sender</h3>

<p>Every incoming message is sent from some contract that has
an address. You can query the address of the message sender by calling sender()</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">deployer</span><span class="p">:</span> <span class="nx">Address</span> <span class="o">=</span> <span class="nx">sender</span><span class="p">();</span>
</code></pre></div>
<h3>Errors</h3>

<p>When an error is thrown, the transaction reverts. By writing a
require() on a condition that isn&rsquo;t met</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">require</span><span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Counter is too high</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div>
<h2>Messages Between Contracts, Sending and Receiving TON Coins</h2>

<h3>Messages Between Contracts</h3>

<p>Different contracts can only communicate with
each other by sending each other messages.</p>

<p>This example sends a message to the to address with value of 1 TON and body
of a comment with a string &ldquo;Hello, World!&rdquo;.
SendIgnoreErrors means that even when error occurs during message sending
next messages would be sent anyway.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">let</span> <span class="nx">to</span><span class="p">:</span> <span class="nx">Address</span> <span class="o">=</span> <span class="p">...;</span>
<span class="kd">let</span> <span class="nx">value</span><span class="p">:</span> <span class="nx">Int</span> <span class="o">=</span> <span class="nx">ton</span><span class="p">(</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">send</span><span class="p">(</span><span class="nx">SendParameters</span><span class="p">{</span>
    <span class="nl">to</span><span class="p">:</span> <span class="nx">to</span><span class="p">,</span>                             <span class="c1">// address of receiver</span>
    <span class="nx">value</span><span class="p">:</span> <span class="nx">value</span><span class="p">,</span>                       <span class="c1">//  amount of TON you want to send</span>
    <span class="nx">mode</span><span class="p">:</span> <span class="nx">SendIgnoreErrors</span><span class="p">,</span>             <span class="c1">// 8-bit flag configuring how to send message</span>
    <span class="nx">bounce</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>                       <span class="c1">// if set to true (default) then message</span>
                                        <span class="c1">// will be bounced back to sender</span>
    <span class="nx">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Hello, World!</span><span class="dl">"</span><span class="p">.</span><span class="nx">asComment</span><span class="p">()</span>   <span class="c1">// message body as Cell</span>
<span class="p">});</span>
</code></pre></div>
<h3>Receiving TONs</h3>

<p>You can query the contract balance with myBalance() - note
that the value is in nano-tons (like cents, just with 9 decimals). The balance
already contains the incoming message value.
You can also get the incoming TON balance with context().value</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">val</span><span class="p">:</span> <span class="nx">Int</span> <span class="k">as</span> <span class="nx">int64</span> <span class="o">=</span> <span class="nx">myBalance</span><span class="p">()</span>
<span class="c1">// or</span>
<span class="c1">// print how much TON coin were sent with this message</span>
<span class="nx">dump</span><span class="p">(</span><span class="nx">context</span><span class="p">().</span><span class="nx">value</span><span class="p">);</span>
</code></pre></div>
<h3>Sending TONs</h3>

<p>We can send any amount of TON to any address just like we created
a send call between different contracts</p>

<p>Send mode SendRemainingValue will add to the outgoing value any excess left
from the incoming message after all gas costs are deducted from it.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">amount</span><span class="p">:</span> <span class="nx">Int</span> <span class="k">as</span> <span class="nx">coins</span> <span class="o">=</span> <span class="nx">ton</span><span class="p">(</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">send</span><span class="p">(</span><span class="nx">SendParameters</span><span class="p">{</span>
    <span class="nl">to</span><span class="p">:</span> <span class="nx">sender</span><span class="p">(),</span>
    <span class="nx">bounce</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nx">value</span><span class="p">:</span> <span class="nx">amount</span><span class="p">,</span>
    <span class="nx">mode</span><span class="p">:</span> <span class="nx">SendRemainingValue</span> <span class="o">+</span> <span class="nx">SendIgnoreErrors</span>
<span class="p">});</span>
</code></pre></div>
<h2>If/Else statements and Loops</h2>

<h3>If</h3>

<p>Tact supports if statements in a similar syntax to most programming
languages. Curly braces are required.
We can have the else and else if similar to other programming languages.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">dump</span><span class="p">(</span><span class="dl">"</span><span class="s2">larger than 1000</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">&gt;</span> <span class="mi">500</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">dump</span><span class="p">(</span><span class="dl">"</span><span class="s2">between 500 and 1000</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">dump</span><span class="p">(</span><span class="dl">"</span><span class="s2">smaller than 500</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3>Loops</h3>

<p>Tact does not support traditional &lsquo;for&rsquo; loops, &lsquo;break&rsquo; and &lsquo;continue&rsquo;
statements in loops.
The repeat loop statement input number must fit within an int32.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="c1">// repeat exactly 10 times</span>

<span class="nx">repeat</span> <span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">i</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nx">sum</span> <span class="o">=</span> <span class="nx">sum</span> <span class="o">+</span> <span class="nx">i</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// While loop</span>

<span class="kd">let</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">Int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// do-until loop</span>

<span class="kd">let</span> <span class="nx">x</span><span class="p">:</span> <span class="nx">Int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="k">do</span> <span class="p">{</span>
  <span class="nx">x</span> <span class="o">=</span> <span class="nx">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="nx">until</span> <span class="p">(</span><span class="nx">x</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">);</span>
</code></pre></div>
<h2>Functions</h2>

<p>Functions in Tact start with the fun keyword. Functions can receive multiple
input arguments and can optionally return a single output value. You can
return a struct if you want to return multiple values.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">fun</span> <span class="nx">average</span><span class="p">(</span><span class="nx">a</span><span class="p">:</span> <span class="nx">Int</span><span class="p">,</span> <span class="nx">b</span><span class="p">:</span> <span class="nx">Int</span><span class="p">):</span> <span class="nx">Int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h2>Maps and Arrays</h2>

<h3>Maps</h3>

<p>Maps are a dictionary type that can hold an arbitrary number of items,
each under a different key.
The keys in maps can either be an Int type or an Address type.
You can check if a key is found in the map by calling the get() method.
Replace the value under a key by calling the set() method.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">mi1</span><span class="p">:</span> <span class="nx">map</span><span class="o">&lt;</span><span class="nx">Int</span><span class="p">,</span> <span class="nx">TokenInfo</span><span class="o">&gt;</span><span class="p">;</span>           <span class="c1">// maps with Int as key</span>
<span class="nl">ma1</span><span class="p">:</span> <span class="nx">map</span><span class="o">&lt;</span><span class="nx">Address</span><span class="p">,</span> <span class="nx">TokenInfo</span><span class="o">&gt;</span><span class="p">;</span>       <span class="c1">// maps with Address as key</span>
</code></pre></div>
<h3>Arrays</h3>

<p>To create an array, define a map with &lsquo;Int&rsquo; type as key as well as value.</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">arr</span><span class="p">:</span> <span class="nx">map</span><span class="o">&lt;</span><span class="nx">Int</span><span class="p">,</span> <span class="nx">Int</span><span class="o">&gt;</span><span class="p">;</span> <span class="c1">// this is our array implemented with a map</span>
</code></pre></div>
<h2>Ownable Standard Library</h2>

<p>The Ownable trait allows the contract to set an owner role, which can have
higher priviliges from everybody else.
For this you would need to import the &ldquo;@stdlib/ownable&rdquo; library and inherit
it in your contract</p>

<ul>
<li>Use the self.requireOwner() call to verify that the person making that
function call is the owner of contract</li>
<li>&lsquo;ChangeOwner{newOwner: Address}&rsquo; message which allows the owner to
transfer ownership.</li>
<li>Define state variables named &lsquo;owner: Address&rsquo; and &lsquo;stopped: Bool&rsquo; and
call &lsquo;self.requireNotStopped()&rsquo; on actions that should be stopped.</li>
<li>Define state variables named &lsquo;owner: Address&rsquo; and &ldquo;stopped: Bool&rsquo; and
call &lsquo;self.requireNotStopped()&rsquo; on actions that should be stopped.</li>
</ul>
<div class="highlight"><pre class="highlight javascript"><code><span class="k">import</span> <span class="dl">"</span><span class="s2">@stdlib/ownable</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">@stdlib/deploy</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">contract</span> <span class="nx">Counter</span> <span class="kd">with</span> <span class="nx">Deployable</span><span class="p">,</span> <span class="nx">Ownable</span> <span class="p">{</span>
    <span class="nl">owner</span><span class="p">:</span> <span class="nx">Address</span><span class="p">;</span>

    <span class="nx">init</span><span class="p">()</span> <span class="p">{</span> <span class="c1">// initialize a contract with default values like 'constructor'</span>
        <span class="nb">self</span><span class="p">.</span><span class="nx">owner</span> <span class="o">=</span> <span class="nx">sender</span><span class="p">();</span> <span class="c1">// we can initialize owner to any value we want, the deployer in this case</span>
        <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// this message in only available to the owner</span>
    <span class="nx">receive</span><span class="p">(</span><span class="dl">"</span><span class="s2">double</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">self</span><span class="p">.</span><span class="nx">requireOwner</span><span class="p">();</span>
        <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// this message will only work until the contract was stopped</span>
    <span class="nx">receive</span><span class="p">(</span><span class="dl">"</span><span class="s2">increment</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">self</span><span class="p">.</span><span class="nx">requireNotStopped</span><span class="p">();</span>
        <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// this message will only work as long as the contract is not stopped</span>
    <span class="nx">receive</span><span class="p">(</span><span class="dl">"</span><span class="s2">increment2</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="nb">self</span><span class="p">.</span><span class="nx">requireNotStopped</span><span class="p">();</span>
        <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="nx">val</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2>Additional resources</h2>

<ul>
<li><a href="https://ton.org/docs/#/">TON Documentation</a></li>
<li><a href="https://docs.tact-lang.org/">Tact Docs</a></li>
<li><a href="https://tact-by-example.org/">Tact by Example</a></li>
<li><a href="https://society.ton.org">Community portal</a></li>
<li><a href="https://ton.org">Blockchain portal</a></li>
<li><a href="https://stackoverflow.com/questions/tagged/ton">Stackoverflow</a></li>
</ul>

<h2>Social</h2>

<ul>
<li><a href="https://t.me/tactlang">Tact community</a></li>
<li><a href="https://t.me/tondev_eng">Developer community</a></li>
<li><a href="https://t.me/ton_learn">TON Learn</a></li>
<li><a href="https://t.me/tondevnews">Tondev News</a></li>
<li><a href="https://t.me/thetontech">TON Technical Updates</a></li>
</ul>

<h2>Useful blogposts</h2>

<ul>
<li><a href="https://society.ton.org/setting-up-a-ton-development-environment">Setting up a TON Development Environment</a></li>
<li><a href="https://society.ton.org/ton-hello-world-step-by-step-guide-for-writing-your-first-smart-contract-in-func">Hello World on TON</a></li>
</ul>

<h2>Future To Dos</h2>

<ul>
<li>Add smart contracts examples</li>
<li>Add more links to documentations</li>
</ul>

<p>This file is based on <a href="https://tact-by-example.org">Tact By Example</a>.</p>

<p>P.S. If by any chance you&rsquo;re familiar with <a href="https://learnxinyminutes.com/docs/forth/">Forth</a>,
you can also take a look at <a href="https://ton-blockchain.github.io/docs/fiftbase.pdf">Fift</a>.</p>

    <hr>
    <p>Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the Github Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/tact.html.markdown">pull request</a> yourself!
    </p>
    <p class="contributed">
    Originally contributed by Tal Kol, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/tact.html.markdown">3 contributor(s)</a>.
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="https://www.orbs.com/">Tal Kol</a>,
        <a href="https://fslabs.io">Kirill Malev</a>,
        <a href="https://github.com/yash0501">Yash Garg</a>
    </p>

    <p>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
