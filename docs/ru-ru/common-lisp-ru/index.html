<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="ru-ru" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="ru-ru" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="ru-ru" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="ru-ru" class="no-js"> <!--<![endif]-->
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WXC8R75DEN');
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="ru-ru">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn Common Lisp in Y Minutes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/ru-ru/common-lisp-ru/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Fru-ru%2Fcommon-lisp-ru%2F&text=%D0%98%D0%B7%D1%83%D1%87%D0%B8%D1%82%D0%B5+X+%D0%B7%D0%B0+Y+%D0%BC%D0%B8%D0%BD%D1%83%D1%82%2C+%D0%B3%D0%B4%D0%B5+X%3DCommon+Lisp">
        Поделиться страницей
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">Выберите тему:</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">светлая</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">тёмная</button>
  </div>
  <h1><a href="/">Изучите X за Y минут</a></h1>
  <h2>Где X=Common Lisp</h2>
    <p class="filelink">
    Получить исходный код:
    <a href="/docs/files/commonlisp.lisp">commonlisp.lisp</a>
    </p>
  <div id="doc">
    <p>Common Lisp - мультипарадигменный язык программирования общего назначения, подходящий для широкого
спектра задач.
Его частенько называют программируемым языком программирования.</p>

<p>Идеальная отправная точка - книга
<a href="https://github.com/pcl-ru/pcl-ru/releases/download/v1.1/pcl-ru.pdf">Common Lisp на практике (перевод)</a>.
Ещё одна популярная книга <a href="http://landoflisp.com/">Land of Lisp</a>.
И одна из последних книг <a href="http://weitz.de/cl-recipes/">Common Lisp Recipes</a> вобрала в себя лучшие
архитектурные решения на основе опыта коммерческой работки автора.</p>
<div class="highlight"><pre><span></span><span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 0. Синтаксис</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; Основные формы</span>

<span class="c1">;;; Существует два фундамента CL: АТОМ и S-выражение.</span>
<span class="c1">;;; Как правило, сгруппированные S-выражения называют `формами`.</span>

<span class="mi">10</span><span class="w">            </span><span class="c1">; атом; вычисляется в самого себя</span>
<span class="ss">:thing</span><span class="w">        </span><span class="c1">; другой атом; вычисляется в символ :thing</span>
<span class="no">t</span><span class="w">             </span><span class="c1">; ещё один атом, обозначает `истину` (true)</span>
<span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w">   </span><span class="c1">; s-выражение</span>
<span class="o">&#39;</span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="ss">:foo</span><span class="w"> </span><span class="no">t</span><span class="p">)</span><span class="w">   </span><span class="c1">; ещё одно s-выражение</span>

<span class="c1">;;; Комментарии</span>

<span class="c1">;;; Однострочные комментарии начинаются точкой с запятой. Четыре знака подряд</span>
<span class="c1">;;; используют для комментария всего файла, три для раздела, два для текущего</span>
<span class="c1">;;; определения; один для текущей строки. Например:</span>

<span class="c1">;;;; life.lisp</span>

<span class="c1">;;; То-сё - пятое-десятое. Оптимизировано для максимального бадабума и ччччч.</span>
<span class="c1">;;; Требуется для функции PoschitatBenzinIsRossiiVBelarus</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">meaning</span><span class="w"> </span><span class="p">(</span><span class="nv">life</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Возвращает смысл Жизни&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">meh</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p">))</span>
<span class="w">    </span><span class="c1">;; Вызывает бадабум</span>
<span class="w">    </span><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="ss">:for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="ss">:across</span><span class="w"> </span><span class="nv">meh</span>
<span class="w">       </span><span class="ss">:collect</span><span class="w"> </span><span class="nv">x</span><span class="p">)))</span><span class="w">                    </span><span class="c1">; сохранить значения в x, и потом вернуть</span>

<span class="c1">;;; А вот целый блок комментария можно использовать как угодно.</span>
<span class="c1">;;; Для него используются #| и |#</span>

<span class="cm">#| Целый блок комментария, который размазан</span>
<span class="cm">   на несколько строк</span>
<span class="cm">    #|</span>
<span class="cm">       которые могут быть вложенными!</span>
<span class="cm">    |#</span>
<span class="cm">|#</span>

<span class="c1">;;; Чем пользоваться</span>

<span class="c1">;;; Существует несколько реализаций: и коммерческих, и открытых.</span>
<span class="c1">;;; Все они максимально соответствуют стандарту языка.</span>
<span class="c1">;;; SBCL, например, добротен. А за дополнительными библиотеками</span>
<span class="c1">;;; нужно ходить в Quicklisp</span>

<span class="c1">;;; Обычно разработка ведется в текстовом редакторе с запущенным в цикле</span>
<span class="c1">;;; интерпретатором (в CL это Read Eval Print Loop). Этот цикл (REPL)</span>
<span class="c1">;;; позволяет интерактивно выполнять части программы вживую сразу наблюдая</span>
<span class="c1">;;; результат.</span>

<span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 1. Базовые типы и операторы</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; Символы</span>

<span class="ss">&#39;foo</span><span class="w"> </span><span class="c1">; =&gt; FOO Символы автоматически приводятся к верхнему регистру.</span>

<span class="c1">;;; INTERN создаёт символ из строки.</span>

<span class="p">(</span><span class="nb">intern</span><span class="w"> </span><span class="s">&quot;AAAA&quot;</span><span class="p">)</span><span class="w">        </span><span class="c1">; =&gt; AAAA</span>
<span class="p">(</span><span class="nb">intern</span><span class="w"> </span><span class="s">&quot;aaa&quot;</span><span class="p">)</span><span class="w">         </span><span class="c1">; =&gt; |aaa|</span>

<span class="c1">;;; Числа</span>

<span class="mi">9999999999999999999999</span><span class="w"> </span><span class="c1">; целые</span>
<span class="mb">#b111</span><span class="w">                  </span><span class="c1">; двоичные =&gt; 7</span>
<span class="mo">#o111</span><span class="w">                  </span><span class="c1">; восьмеричные =&gt; 73</span>
<span class="mh">#x111</span><span class="w">                  </span><span class="c1">; шестнадцатиричные =&gt; 273</span>
<span class="mf">3.14159s0</span><span class="w">              </span><span class="c1">; с плавающей точкой</span>
<span class="mf">3.14159d0</span><span class="w">              </span><span class="c1">; с плавающей точкой с двойной точностью</span>
<span class="m">1/2</span><span class="w">                    </span><span class="c1">; рациональные)</span>
<span class="m">#C</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">                </span><span class="c1">; комплексные</span>

<span class="c1">;;; Вызов функции пишется как s-выражение (f x y z ....), где f это функция,</span>
<span class="c1">;;; x, y, z, ... аругменты.</span>

<span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">                </span><span class="c1">; =&gt; 3</span>

<span class="c1">;;; Если вы хотите просто представить код как данные, воспользуйтесь формой QUOTE</span>
<span class="c1">;;; Она не вычисляет аргументы, а возвращает их как есть.</span>
<span class="c1">;;; Она даёт начало метапрограммированию</span>

<span class="p">(</span><span class="k">quote</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w">        </span><span class="c1">; =&gt; (+ 1 2)</span>
<span class="p">(</span><span class="k">quote</span><span class="w"> </span><span class="nv">a</span><span class="p">)</span><span class="w">              </span><span class="c1">; =&gt; A</span>

<span class="c1">;;; QUOTE можно сокращенно записать знаком &#39;</span>

<span class="o">&#39;</span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">               </span><span class="c1">; =&gt; (+ 1 2)</span>
<span class="ss">&#39;a</span><span class="w">                     </span><span class="c1">; =&gt; A</span>

<span class="c1">;;; Арифметические операции</span>

<span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">                </span><span class="c1">; =&gt; 2</span>
<span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">                </span><span class="c1">; =&gt; 7</span>
<span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">               </span><span class="c1">; =&gt; 20</span>
<span class="p">(</span><span class="nb">expt</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">             </span><span class="c1">; =&gt; 8</span>
<span class="p">(</span><span class="nb">mod</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">              </span><span class="c1">; =&gt; 1</span>
<span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">35</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w">               </span><span class="c1">; =&gt; 7</span>
<span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">                </span><span class="c1">; =&gt; 1/3</span>
<span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="m">#C</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="m">#C</span><span class="p">(</span><span class="mi">6</span><span class="w"> </span><span class="mi">-4</span><span class="p">))</span><span class="w">   </span><span class="c1">; =&gt; #C(7 -2)</span>

<span class="c1">;;; Булевые</span>

<span class="no">t</span><span class="w">                      </span><span class="c1">; истина; любое не-NIL значение `истинно`</span>
<span class="no">nil</span><span class="w">                    </span><span class="c1">; ложь; а ещё пустой список () тоже `ложь`</span>
<span class="p">(</span><span class="nb">not</span><span class="w"> </span><span class="no">nil</span><span class="p">)</span><span class="w">              </span><span class="c1">; =&gt; T</span>
<span class="p">(</span><span class="nb">and</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="no">t</span><span class="p">)</span><span class="w">              </span><span class="c1">; =&gt; T</span>
<span class="p">(</span><span class="nb">or</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="no">nil</span><span class="p">)</span><span class="w">             </span><span class="c1">; =&gt; 0</span>

<span class="c1">;;; Строковые символы</span>

<span class="sc">#\A</span><span class="w">                    </span><span class="c1">; =&gt; #\A</span>
<span class="sc">#\λ</span><span class="w">                    </span><span class="c1">; =&gt; #\GREEK_SMALL_LETTER_LAMDA</span>
<span class="sc">#\u03BB</span><span class="w">                </span><span class="c1">; =&gt; #\GREEK_SMALL_LETTER_LAMDA</span>

<span class="c1">;;; Строки это фиксированные массивы символов</span>

<span class="s">&quot;Hello, world!&quot;</span>
<span class="s">&quot;Тимур \&quot;Каштан\&quot; Бадтрудинов&quot;</span><span class="w">   </span><span class="c1">; экранировать двойную кавычку обратным слешом</span>

<span class="c1">;;; Строки можно соединять</span>

<span class="p">(</span><span class="nb">concatenate</span><span class="w"> </span><span class="ss">&#39;string</span><span class="w"> </span><span class="s">&quot;ПРивет, &quot;</span><span class="w"> </span><span class="s">&quot;мир!&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;ПРивет, мир!&quot;</span>

<span class="c1">;;; Можно пройтись по строке как по массиву символов</span>

<span class="p">(</span><span class="nb">elt</span><span class="w"> </span><span class="s">&quot;Apple&quot;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #\A</span>

<span class="c1">;;; Для форматированного вывода используется FORMAT. Он умеет выводить, как просто значения,</span>
<span class="c1">;;; так и производить циклы и учитывать условия. Первый агрумент указывает куда отправить</span>
<span class="c1">;;; результат. Если NIL, FORMAT вернет результат как строку, если T результат отправиться</span>
<span class="c1">;;; консоль вывода а форма вернет NIL.</span>

<span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">nil</span><span class="w"> </span><span class="s">&quot;~A, ~A!&quot;</span><span class="w"> </span><span class="s">&quot;Привет&quot;</span><span class="w"> </span><span class="s">&quot;мир&quot;</span><span class="p">)</span><span class="w">   </span><span class="c1">; =&gt; &quot;Привет, мир!&quot;</span>
<span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">&quot;~A, ~A!&quot;</span><span class="w"> </span><span class="s">&quot;Привет&quot;</span><span class="w"> </span><span class="s">&quot;мир&quot;</span><span class="p">)</span><span class="w">     </span><span class="c1">; =&gt; NIL</span>


<span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 2. Переменные</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; С помощью DEFVAR и DEFPARAMETER вы можете создать глобальную (динамческой видимости)</span>
<span class="c1">;;; переменную.</span>
<span class="c1">;;; Имя переменной может состоять из любых символов кроме: ()&quot;,&#39;`;#|\</span>

<span class="c1">;;; Разница между DEFVAR и DEFPARAMETER в том, что повторное выполнение DEFVAR</span>
<span class="c1">;;; переменную не поменяет. А вот DEFPARAMETER меняет переменную при каждом вызове.</span>

<span class="c1">;;; Обычно глобальные (динамически видимые) переменные содержат звездочки в имени.</span>

<span class="p">(</span><span class="nb">defparameter</span><span class="w"> </span><span class="vg">*some-var*</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="vg">*some-var*</span><span class="w"> </span><span class="c1">; =&gt; 5</span>

<span class="c1">;;; Можете использовать unicode.</span>
<span class="p">(</span><span class="nb">defparameter</span><span class="w"> </span><span class="vg">*КУКУ*</span><span class="w"> </span><span class="no">nil</span><span class="p">)</span>

<span class="c1">;;; Доступ к необъявленной переменной - это непредсказуемое поведение. Не делайте так.</span>

<span class="c1">;;; С помощью LET можете сделать локальное связывание.</span>
<span class="c1">;;; В следующем куске кода, `я` связывается с &quot;танцую с тобой&quot; только</span>
<span class="c1">;;; внутри формы (let ...). LET всегда возвращает значение последней формы.</span>

<span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">я</span><span class="w"> </span><span class="s">&quot;танцую с тобой&quot;</span><span class="p">))</span><span class="w"> </span><span class="nv">я</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;танцую с тобой&quot;</span>


<span class="c1">;;;-----------------------------------------------------------------------------;</span>
<span class="c1">;;; 3. Структуры и коллекции</span>
<span class="c1">;;;-----------------------------------------------------------------------------;</span>


<span class="c1">;;; Структуры</span>

<span class="p">(</span><span class="nb">defstruct</span><span class="w"> </span><span class="nv">dog</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="nv">breed</span><span class="w"> </span><span class="nv">age</span><span class="p">)</span>
<span class="p">(</span><span class="nb">defparameter</span><span class="w"> </span><span class="vg">*rover*</span>
<span class="w">    </span><span class="p">(</span><span class="nv">make-dog</span><span class="w"> </span><span class="ss">:name</span><span class="w"> </span><span class="s">&quot;rover&quot;</span>
<span class="w">              </span><span class="ss">:breed</span><span class="w"> </span><span class="s">&quot;collie&quot;</span>
<span class="w">              </span><span class="ss">:age</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span>
<span class="vg">*rover*</span><span class="w">            </span><span class="c1">; =&gt; #S(DOG :NAME &quot;rover&quot; :BREED &quot;collie&quot; :AGE 5)</span>
<span class="p">(</span><span class="nv">dog-p</span><span class="w"> </span><span class="vg">*rover*</span><span class="p">)</span><span class="w">    </span><span class="c1">; =&gt; T</span>
<span class="p">(</span><span class="nv">dog-name</span><span class="w"> </span><span class="vg">*rover*</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;rover&quot;</span>

<span class="c1">;;; DEFSTRUCT автоматически создала DOG-P, MAKE-DOG, и DOG-NAME</span>


<span class="c1">;;; Пары (cons-ячейки)</span>

<span class="c1">;;; CONS создаёт пары. CAR и CDR возвращают начало и конец CONS-пары.</span>

<span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="ss">&#39;SUBJECT</span><span class="w"> </span><span class="ss">&#39;VERB</span><span class="p">)</span><span class="w">         </span><span class="c1">; =&gt; &#39;(SUBJECT . VERB)</span>
<span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="ss">&#39;SUBJECT</span><span class="w"> </span><span class="ss">&#39;VERB</span><span class="p">))</span><span class="w">   </span><span class="c1">; =&gt; SUBJECT</span>
<span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="ss">&#39;SUBJECT</span><span class="w"> </span><span class="ss">&#39;VERB</span><span class="p">))</span><span class="w">   </span><span class="c1">; =&gt; VERB</span>


<span class="c1">;;; Списки</span>

<span class="c1">;;; Списки это связанные CONS-пары, в конце самой последней из которых стоит NIL</span>
<span class="c1">;;; (или &#39;() ).</span>

<span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="no">nil</span><span class="p">)))</span><span class="w">     </span><span class="c1">; =&gt; &#39;(1 2 3)</span>

<span class="c1">;;; Списки с произвольным количеством элементов удобно создавать с помощью LIST</span>

<span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">                       </span><span class="c1">; =&gt; &#39;(1 2 3)</span>

<span class="c1">;;; Если первый аргумент для CONS это атом и второй аргумент список, CONS</span>
<span class="c1">;;; возвращает новую CONS-пару, которая представляет собой список</span>

<span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w">                  </span><span class="c1">; =&gt; &#39;(4 1 2 3)</span>

<span class="c1">;;; Чтобы объединить списки, используйте APPEND</span>

<span class="p">(</span><span class="nb">append</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w">             </span><span class="c1">; =&gt; &#39;(1 2 3 4)</span>

<span class="c1">;;; Или CONCATENATE</span>

<span class="p">(</span><span class="nb">concatenate</span><span class="w"> </span><span class="ss">&#39;list</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w">  </span><span class="c1">; =&gt; &#39;(1 2 3 4)</span>

<span class="c1">;;; Списки это самый используемый элемент языка. Поэтому с ними можно делать</span>
<span class="c1">;;; многие вещи. Вот несколько примеров:</span>

<span class="p">(</span><span class="nb">mapcar</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nb">1+</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w">             </span><span class="c1">; =&gt; &#39;(2 3 4)</span>
<span class="p">(</span><span class="nb">mapcar</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nb">+</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">10</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="mi">30</span><span class="p">))</span><span class="w">  </span><span class="c1">; =&gt; &#39;(11 22 33)</span>
<span class="p">(</span><span class="nb">remove-if-not</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nb">evenp</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;(2 4)</span>
<span class="p">(</span><span class="nb">every</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nb">evenp</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w">         </span><span class="c1">; =&gt; NIL</span>
<span class="p">(</span><span class="nb">some</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nb">oddp</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w">           </span><span class="c1">; =&gt; T</span>
<span class="p">(</span><span class="nb">butlast</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">subject</span><span class="w"> </span><span class="nv">verb</span><span class="w"> </span><span class="nv">object</span><span class="p">))</span><span class="w">   </span><span class="c1">; =&gt; (SUBJECT VERB)</span>


<span class="c1">;;; Вектора</span>

<span class="c1">;;; Вектора заданные прямо в коде - это массивы с фиксированной длинной.</span>

<span class="o">#(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #(1 2 3)</span>

<span class="c1">;;; Для соединения векторов используйте CONCATENATE</span>

<span class="p">(</span><span class="nb">concatenate</span><span class="w"> </span><span class="ss">&#39;vector</span><span class="w"> </span><span class="o">#(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">#(</span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #(1 2 3 4 5 6)</span>


<span class="c1">;;; Массивы</span>

<span class="c1">;;; И вектора и строки это подмножества массивов.</span>

<span class="c1">;;; Двухмерные массивы</span>

<span class="p">(</span><span class="nb">make-array</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w">         </span><span class="c1">; =&gt; #2A((0 0) (0 0))</span>
<span class="p">(</span><span class="nb">make-array</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w">             </span><span class="c1">; =&gt; #2A((0 0) (0 0))</span>
<span class="p">(</span><span class="nb">make-array</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w">       </span><span class="c1">; =&gt; #3A(((0 0) (0 0)) ((0 0) (0 0)))</span>

<span class="c1">;;; Внимание: значение по-умолчанию элемента массива зависит от реализации.</span>
<span class="c1">;;; Лучше явно указывайте:</span>

<span class="p">(</span><span class="nb">make-array</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="ss">:initial-element</span><span class="w"> </span><span class="ss">&#39;unset</span><span class="p">)</span><span class="w">  </span><span class="c1">; =&gt; #(UNSET UNSET)</span>

<span class="c1">;;; Для доступа к элементу в позиции 1, 1, 1:</span>

<span class="p">(</span><span class="nb">aref</span><span class="w"> </span><span class="p">(</span><span class="nb">make-array</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">     </span><span class="c1">;  =&gt; 0</span>


<span class="c1">;;; Вектора с изменяемой длиной</span>

<span class="c1">;;; Вектора с изменяемой длиной при выводе на консоль выглядят также,</span>
<span class="c1">;;; как и вектора, с константной длиной</span>

<span class="p">(</span><span class="nb">defparameter</span><span class="w"> </span><span class="vg">*adjvec*</span><span class="w"> </span><span class="p">(</span><span class="nb">make-array</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="ss">:initial-contents</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">                                   </span><span class="ss">:adjustable</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="ss">:fill-pointer</span><span class="w"> </span><span class="no">t</span><span class="p">))</span>
<span class="vg">*adjvec*</span><span class="w"> </span><span class="c1">; =&gt; #(1 2 3)</span>

<span class="c1">;;; Добавление новых элементов</span>

<span class="p">(</span><span class="nb">vector-push-extend</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="vg">*adjvec*</span><span class="p">)</span><span class="w">   </span><span class="c1">; =&gt; 3</span>
<span class="vg">*adjvec*</span><span class="w">                          </span><span class="c1">; =&gt; #(1 2 3 4)</span>


<span class="c1">;;; Множества, это просто списки:</span>

<span class="p">(</span><span class="nb">set-difference</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="p">))</span><span class="w">   </span><span class="c1">; =&gt; (3 2 1)</span>
<span class="p">(</span><span class="nb">intersection</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="p">))</span><span class="w">     </span><span class="c1">; =&gt; 4</span>
<span class="p">(</span><span class="nb">union</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="mi">7</span><span class="p">))</span><span class="w">            </span><span class="c1">; =&gt; (3 2 1 4 5 6 7)</span>
<span class="p">(</span><span class="nb">adjoin</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w">                    </span><span class="c1">; =&gt; (1 2 3 4)</span>

<span class="c1">;;; Несмотря на все, для действительно больших объемов данных, вам нужно что-то</span>
<span class="c1">;;; лучше, чем просто связанные списки</span>

<span class="c1">;;; Словари представлены хеш таблицами.</span>

<span class="c1">;;; Создание хеш таблицы:</span>

<span class="p">(</span><span class="nb">defparameter</span><span class="w"> </span><span class="vg">*m*</span><span class="w"> </span><span class="p">(</span><span class="nb">make-hash-table</span><span class="p">))</span>

<span class="c1">;;; Установка пары ключ-значение</span>

<span class="p">(</span><span class="nb">setf</span><span class="w"> </span><span class="p">(</span><span class="nb">gethash</span><span class="w"> </span><span class="ss">&#39;a</span><span class="w"> </span><span class="vg">*m*</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>

<span class="c1">;;; Возврат значения по ключу</span>

<span class="p">(</span><span class="nb">gethash</span><span class="w"> </span><span class="ss">&#39;a</span><span class="w"> </span><span class="vg">*m*</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 1, T</span>

<span class="c1">;;; CL выражения умеют возвращать сразу несколько значений.</span>

<span class="p">(</span><span class="nb">values</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 1, 2</span>

<span class="c1">;;; которые могут быть распределены по переменным с помощью MULTIPLE-VALUE-BIND</span>

<span class="p">(</span><span class="nb">multiple-value-bind</span><span class="w"> </span><span class="p">(</span><span class="nv">x</span><span class="w"> </span><span class="nv">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">values</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="nv">x</span><span class="p">))</span>

<span class="c1">; =&gt; &#39;(2 1)</span>

<span class="c1">;;; GETHASH как раз та функция, которая возвращает несколько значений. Первое</span>
<span class="c1">;;; значение - это значение по ключу в хеш таблицу. Если ключ не был найден,</span>
<span class="c1">;;; возвращает NIL.</span>

<span class="c1">;;; Второе возвращаемое значение, указывает был ли ключ в хеш таблице. Если ключа</span>
<span class="c1">;;; не было, то возвращает NIL. Таким образом можно проверить, это значение</span>
<span class="c1">;;; NIL, или ключа просто не было.</span>

<span class="c1">;;; Вот возврат значений, в случае когда ключа в хеш таблице не было:</span>

<span class="p">(</span><span class="nb">gethash</span><span class="w"> </span><span class="ss">&#39;d</span><span class="w"> </span><span class="vg">*m*</span><span class="p">)</span><span class="w"> </span><span class="c1">;=&gt; NIL, NIL</span>

<span class="c1">;;; Можете задать значение по умолчанию.</span>

<span class="p">(</span><span class="nb">gethash</span><span class="w"> </span><span class="ss">&#39;d</span><span class="w"> </span><span class="vg">*m*</span><span class="w"> </span><span class="ss">:not-found</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; :NOT-FOUND</span>

<span class="c1">;;; Давайте обработаем возврат несколько значений.</span>

<span class="p">(</span><span class="nb">multiple-value-bind</span><span class="w"> </span><span class="p">(</span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">gethash</span><span class="w"> </span><span class="ss">&#39;d</span><span class="w"> </span><span class="vg">*m*</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">))</span>
<span class="c1">; =&gt; (NIL NIL)</span>

<span class="p">(</span><span class="nb">multiple-value-bind</span><span class="w"> </span><span class="p">(</span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">gethash</span><span class="w"> </span><span class="ss">&#39;a</span><span class="w"> </span><span class="vg">*m*</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="nv">b</span><span class="p">))</span>
<span class="c1">; =&gt; (1 T)</span>


<span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 3. Функции</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; Для создания анонимных функций используйте LAMBDA. Функций всегда возвращают</span>
<span class="c1">;;; значение последнего своего выражения. Как выглядит функция при выводе в консоль</span>
<span class="c1">;;; зависит от реализации.</span>

<span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s">&quot;Привет Мир&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #&lt;FUNCTION (LAMBDA ()) {1004E7818B}&gt;</span>

<span class="c1">;;; Для вызова анонимной функции пользуйтесь FUNCALL</span>

<span class="p">(</span><span class="nb">funcall</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s">&quot;Привет Мир&quot;</span><span class="p">))</span><span class="w">   </span><span class="c1">; =&gt; &quot;Привет мир&quot;</span>
<span class="p">(</span><span class="nb">funcall</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">                   </span><span class="c1">; =&gt; 6</span>

<span class="c1">;;; FUNCALL сработает и тогда, когда анонимная функция стоит в начале</span>
<span class="c1">;;; неэкранированного списка</span>

<span class="p">((</span><span class="k">lambda</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s">&quot;Привет Мир&quot;</span><span class="p">))</span><span class="w">           </span><span class="c1">; =&gt; &quot;Привет Мир&quot;</span>
<span class="p">((</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="nv">val</span><span class="p">)</span><span class="w"> </span><span class="nv">val</span><span class="p">)</span><span class="w"> </span><span class="s">&quot;Привет Мир&quot;</span><span class="p">)</span><span class="w">    </span><span class="c1">; =&gt; &quot;Привет Мир&quot;</span>

<span class="c1">;;; FUNCALL используется, когда аргументы заранее известны.</span>
<span class="c1">;;; В противном случае используйте APPLY</span>

<span class="p">(</span><span class="nb">apply</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nb">+</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w">   </span><span class="c1">; =&gt; 6</span>
<span class="p">(</span><span class="nb">apply</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s">&quot;Привет Мир&quot;</span><span class="p">)</span><span class="w"> </span><span class="no">nil</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Привет Мир&quot;</span>

<span class="c1">;;; Для обычной функции с именем используйте DEFUN</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">hello-world</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s">&quot;Привет Мир&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nv">hello-world</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Привет Мир&quot;</span>

<span class="c1">;;; Выше видно пустой список (), это место для определения аргументов</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">hello</span><span class="w"> </span><span class="p">(</span><span class="nv">name</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">nil</span><span class="w"> </span><span class="s">&quot;Hello, ~A&quot;</span><span class="w"> </span><span class="nv">name</span><span class="p">))</span>
<span class="p">(</span><span class="nv">hello</span><span class="w"> </span><span class="s">&quot;Григорий&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Привет, Григорий&quot;</span>

<span class="c1">;;; Можно указать необязательные аргументы. По умолчанию они будут NIL</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">hello</span><span class="w"> </span><span class="p">(</span><span class="nv">name</span><span class="w"> </span><span class="k">&amp;optional</span><span class="w"> </span><span class="nv">from</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="nv">from</span>
<span class="w">      </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">&quot;Приветствие для ~A от ~A&quot;</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="nv">from</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">&quot;Привет, ~A&quot;</span><span class="w"> </span><span class="nv">name</span><span class="p">)))</span>

<span class="p">(</span><span class="nv">hello</span><span class="w"> </span><span class="s">&quot;Георгия&quot;</span><span class="w"> </span><span class="s">&quot;Василия&quot;</span><span class="p">)</span><span class="w">       </span><span class="c1">; =&gt; Приветствие для Георгия от Василия</span>

<span class="c1">;;; Можно явно задать значения по умолчанию</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">hello</span><span class="w"> </span><span class="p">(</span><span class="nv">name</span><span class="w"> </span><span class="k">&amp;optional</span><span class="w"> </span><span class="p">(</span><span class="nv">from</span><span class="w"> </span><span class="s">&quot;Мира&quot;</span><span class="p">))</span>
<span class="w">   </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">nil</span><span class="w"> </span><span class="s">&quot;Приветствие для ~A от ~A&quot;</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="nv">from</span><span class="p">))</span>

<span class="p">(</span><span class="nv">hello</span><span class="w"> </span><span class="s">&quot;Жоры&quot;</span><span class="p">)</span><span class="w">               </span><span class="c1">; =&gt; Приветствие для Жоры от Мира</span>
<span class="p">(</span><span class="nv">hello</span><span class="w"> </span><span class="s">&quot;Жоры&quot;</span><span class="w"> </span><span class="s">&quot;альпаки&quot;</span><span class="p">)</span><span class="w">     </span><span class="c1">; =&gt; Приветствие для Жоры от альпаки</span>

<span class="c1">;;; Можно также задать именованные параметры</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">generalized-greeter</span><span class="w"> </span><span class="p">(</span><span class="nv">name</span><span class="w"> </span><span class="k">&amp;key</span><span class="w"> </span><span class="p">(</span><span class="nv">from</span><span class="w"> </span><span class="s">&quot;Мира&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nv">honorific</span><span class="w"> </span><span class="s">&quot;Господин&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">&quot;Здравствуйте, ~A ~A, от ~A&quot;</span><span class="w"> </span><span class="nv">honorific</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="nv">from</span><span class="p">))</span>

<span class="p">(</span><span class="nv">generalized-greeter</span><span class="w"> </span><span class="s">&quot;Григорий&quot;</span><span class="p">)</span>
<span class="c1">; =&gt; Здравствуйте, Господин Григорий, от Мира</span>

<span class="p">(</span><span class="nv">generalized-greeter</span><span class="w"> </span><span class="s">&quot;Григорий&quot;</span><span class="w"> </span><span class="ss">:from</span><span class="w"> </span><span class="s">&quot;альпаки&quot;</span><span class="w"> </span><span class="ss">:honorific</span><span class="w"> </span><span class="s">&quot;гражданин&quot;</span><span class="p">)</span>
<span class="c1">; =&gt; Здравствуйте, Гражданин Григорий, от альпаки</span>


<span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 4. Равенство или эквивалентность</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; У CL сложная система эквивалентности. Взглянем одним глазом.</span>

<span class="c1">;;; Для чисел используйте `=&#39;</span>
<span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w">               </span><span class="c1">; =&gt; T</span>
<span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">                 </span><span class="c1">; =&gt; NIL</span>

<span class="c1">;;; Для идентичености объектов используйте EQL</span>
<span class="p">(</span><span class="nb">eql</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">               </span><span class="c1">; =&gt; T</span>
<span class="p">(</span><span class="nb">eql</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w">             </span><span class="c1">; =&gt; NIL</span>
<span class="p">(</span><span class="nb">eql</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; NIL</span>

<span class="c1">;;; Для списков, строк, и битовых векторов - EQUAL</span>
<span class="p">(</span><span class="nb">equal</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="ss">&#39;a</span><span class="w"> </span><span class="ss">&#39;b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="ss">&#39;a</span><span class="w"> </span><span class="ss">&#39;b</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; T</span>
<span class="p">(</span><span class="nb">equal</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="ss">&#39;a</span><span class="w"> </span><span class="ss">&#39;b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="ss">&#39;b</span><span class="w"> </span><span class="ss">&#39;a</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; NIL</span>


<span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 5. Циклы и ветвления</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; Ветвления</span>

<span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="no">t</span><span class="w">                    </span><span class="c1">; проверямое значение</span>
<span class="w">    </span><span class="s">&quot;случилась истина&quot;</span><span class="w">   </span><span class="c1">; если, оно было истинно</span>
<span class="w">    </span><span class="s">&quot;случилась ложь&quot;</span><span class="p">)</span><span class="w">    </span><span class="c1">; иначе, когда оно было ложно</span>
<span class="c1">; =&gt; &quot;случилась истина&quot;</span>

<span class="c1">;;; В форме ветвления if, все не-NIL значения это `истина`</span>

<span class="p">(</span><span class="nb">member</span><span class="w"> </span><span class="ss">&#39;Groucho</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">Harpo</span><span class="w"> </span><span class="nv">Groucho</span><span class="w"> </span><span class="nv">Zeppo</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;(GROUCHO ZEPPO)</span>
<span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">member</span><span class="w"> </span><span class="ss">&#39;Groucho</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">Harpo</span><span class="w"> </span><span class="nv">Groucho</span><span class="w"> </span><span class="nv">Zeppo</span><span class="p">))</span>
<span class="w">    </span><span class="ss">&#39;yep</span>
<span class="w">    </span><span class="ss">&#39;nope</span><span class="p">)</span>
<span class="c1">; =&gt; &#39;YEP</span>

<span class="c1">;;; COND это цепочка проверок для нахождения искомого</span>
<span class="p">(</span><span class="nb">cond</span><span class="w"> </span><span class="p">((</span><span class="nb">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">error</span><span class="w"> </span><span class="s">&quot;мимо!&quot;</span><span class="p">))</span>
<span class="w">      </span><span class="p">((</span><span class="nb">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">error</span><span class="w"> </span><span class="s">&quot;опять мимо!&quot;</span><span class="p">))</span>
<span class="w">      </span><span class="p">(</span><span class="no">t</span><span class="w"> </span><span class="ss">&#39;ok</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;OK</span>

<span class="c1">;;; TYPECASE выбирает ветку исходя из типа выражения</span>
<span class="p">(</span><span class="nb">typecase</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="p">(</span><span class="nb">string</span><span class="w"> </span><span class="ss">:string</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nc">integer</span><span class="w"> </span><span class="ss">:int</span><span class="p">))</span>
<span class="c1">; =&gt; :int</span>


<span class="c1">;;; Циклы</span>

<span class="c1">;;; С рекурсией</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">fact</span><span class="w"> </span><span class="p">(</span><span class="nv">n</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">      </span><span class="mi">1</span>
<span class="w">    </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="p">(</span><span class="nv">fact</span><span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="mi">1</span><span class="p">)))))</span>

<span class="p">(</span><span class="nv">fact</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 120</span>

<span class="c1">;;; И без</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">fact</span><span class="w"> </span><span class="p">(</span><span class="nv">n</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="ss">:for</span><span class="w"> </span><span class="nv">result</span><span class="w"> </span><span class="nb">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ss">:then</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">result</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
<span class="w">     </span><span class="ss">:for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="ss">:from</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ss">:to</span><span class="w"> </span><span class="nv">n</span>
<span class="w">     </span><span class="ss">:finally</span><span class="w"> </span><span class="p">(</span><span class="nb">return</span><span class="w"> </span><span class="nv">result</span><span class="p">)))</span>

<span class="p">(</span><span class="nv">fact</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 120</span>

<span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="ss">:for</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="ss">:across</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="w"> </span><span class="ss">:collect</span><span class="w"> </span><span class="nv">x</span><span class="p">)</span>
<span class="c1">; =&gt; (#\a #\b #\c #\d)</span>

<span class="p">(</span><span class="nb">dolist</span><span class="w"> </span><span class="p">(</span><span class="nv">i</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">&quot;~A&quot;</span><span class="w"> </span><span class="nv">i</span><span class="p">))</span>
<span class="c1">; =&gt; 1234</span>


<span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 6. Установка значений в переменные (и не только)</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; Для присвоения переменной нового значения используйте SETF. Это уже было</span>
<span class="c1">;;; при работе с хеш таблицами.</span>

<span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">variable</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="nb">setf</span><span class="w"> </span><span class="nv">variable</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="c1">; =&gt; 2</span>

<span class="c1">;;; Для функционального подхода в программировании, старайтесь избегать измений</span>
<span class="c1">;;; в переменных.</span>

<span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 7. Классы и объекты</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; Никаких больше животных в примерах. Берем устройства приводимые в движение</span>
<span class="c1">;;; мускульной силой человека.</span>

<span class="p">(</span><span class="nb">defclass</span><span class="w"> </span><span class="nv">human-powered-conveyance</span><span class="w"> </span><span class="p">()</span>
<span class="w">  </span><span class="p">((</span><span class="nv">velocity</span>
<span class="w">    </span><span class="ss">:accessor</span><span class="w"> </span><span class="nv">velocity</span>
<span class="w">    </span><span class="ss">:initarg</span><span class="w"> </span><span class="ss">:velocity</span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="nv">average-efficiency</span>
<span class="w">    </span><span class="ss">:accessor</span><span class="w"> </span><span class="nv">average-efficiency</span>
<span class="w">   </span><span class="ss">:initarg</span><span class="w"> </span><span class="ss">:average-efficiency</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="ss">:documentation</span><span class="w"> </span><span class="s">&quot;Устройство движимое человеческой силой&quot;</span><span class="p">))</span>

<span class="c1">;;; Аргументы DEFCLASS:</span>
<span class="c1">;;; 1. Имя класса</span>
<span class="c1">;;; 2. Список родительских классов</span>
<span class="c1">;;; 3. Список полей</span>
<span class="c1">;;; 4. Необязательная метаинформация</span>

<span class="c1">;;; Если родительские классы не заданы, используется &quot;стандартный&quot; класс</span>
<span class="c1">;;; Это можно *изменить*, но хорошенько подумайте прежде. Если все-таки</span>
<span class="c1">;;; решились вам поможет &quot;Art of the Metaobject Protocol&quot;</span>

<span class="p">(</span><span class="nb">defclass</span><span class="w"> </span><span class="nv">bicycle</span><span class="w"> </span><span class="p">(</span><span class="nv">human-powered-conveyance</span><span class="p">)</span>
<span class="w">  </span><span class="p">((</span><span class="nv">wheel-size</span>
<span class="w">    </span><span class="ss">:accessor</span><span class="w"> </span><span class="nv">wheel-size</span>
<span class="w">    </span><span class="ss">:initarg</span><span class="w"> </span><span class="ss">:wheel-size</span>
<span class="w">    </span><span class="ss">:documentation</span><span class="w"> </span><span class="s">&quot;Diameter of the wheel.&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="p">(</span><span class="nv">height</span>
<span class="w">    </span><span class="ss">:accessor</span><span class="w"> </span><span class="nv">height</span>
<span class="w">    </span><span class="ss">:initarg</span><span class="w"> </span><span class="ss">:height</span><span class="p">)))</span>

<span class="p">(</span><span class="nb">defclass</span><span class="w"> </span><span class="nv">recumbent</span><span class="w"> </span><span class="p">(</span><span class="nv">bicycle</span><span class="p">)</span>
<span class="w">  </span><span class="p">((</span><span class="nv">chain-type</span>
<span class="w">    </span><span class="ss">:accessor</span><span class="w"> </span><span class="nv">chain-type</span>
<span class="w">    </span><span class="ss">:initarg</span><span class="w"> </span><span class="ss">:chain-type</span><span class="p">)))</span>

<span class="p">(</span><span class="nb">defclass</span><span class="w"> </span><span class="nv">unicycle</span><span class="w"> </span><span class="p">(</span><span class="nv">human-powered-conveyance</span><span class="p">)</span><span class="w"> </span><span class="no">nil</span><span class="p">)</span>

<span class="p">(</span><span class="nb">defclass</span><span class="w"> </span><span class="nv">canoe</span><span class="w"> </span><span class="p">(</span><span class="nv">human-powered-conveyance</span><span class="p">)</span>
<span class="w">  </span><span class="p">((</span><span class="nv">number-of-rowers</span>
<span class="w">    </span><span class="ss">:accessor</span><span class="w"> </span><span class="nv">number-of-rowers</span>
<span class="w">    </span><span class="ss">:initarg</span><span class="w"> </span><span class="ss">:number-of-rowers</span><span class="p">)))</span>

<span class="c1">;;; Если вызвать DESCRIBE для HUMAN-POWERED-CONVEYANCE то получите следующее:</span>

<span class="p">(</span><span class="nb">describe</span><span class="w"> </span><span class="ss">&#39;human-powered-conveyance</span><span class="p">)</span>

<span class="c1">; COMMON-LISP-USER::HUMAN-POWERED-CONVEYANCE</span>
<span class="c1">;  [symbol]</span>
<span class="c1">;</span>
<span class="c1">; HUMAN-POWERED-CONVEYANCE names the standard-class #&lt;STANDARD-CLASS</span>
<span class="c1">;                                                    HUMAN-POWERED-CONVEYANCE&gt;:</span>
<span class="c1">;  Documentation:</span>
<span class="c1">;    A human powered conveyance</span>
<span class="c1">;  Direct superclasses: STANDARD-OBJECT</span>
<span class="c1">;  Direct subclasses: UNICYCLE, BICYCLE, CANOE</span>
<span class="c1">;  Not yet finalized.</span>
<span class="c1">;  Direct slots:</span>
<span class="c1">;    VELOCITY</span>
<span class="c1">;      Readers: VELOCITY</span>
<span class="c1">;      Writers: (SETF VELOCITY)</span>
<span class="c1">;    AVERAGE-EFFICIENCY</span>
<span class="c1">;      Readers: AVERAGE-EFFICIENCY</span>
<span class="c1">;      Writers: (SETF AVERAGE-EFFICIENCY)</span>

<span class="c1">;;; CL задизайнен как интерактивная система. В рантайме доступна информация о</span>
<span class="c1">;;; типе объектов.</span>

<span class="c1">;;; Давайте посчитаем расстояние, которое пройдет велосипед за один оборот колеса</span>
<span class="c1">;;; по формуле C = d * pi</span>

<span class="p">(</span><span class="nb">defmethod</span><span class="w"> </span><span class="nv">circumference</span><span class="w"> </span><span class="p">((</span><span class="nv">object</span><span class="w"> </span><span class="nv">bicycle</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="nv">pi</span><span class="w"> </span><span class="p">(</span><span class="nv">wheel-size</span><span class="w"> </span><span class="nv">object</span><span class="p">)))</span>

<span class="c1">;;; PI - это константа в CL</span>

<span class="c1">;;; Предположим мы нашли, что критерий эффективности логарифмически связан</span>
<span class="c1">;;; с гребцами каноэ. Тогда вычисление можем сделать сразу при инициализации.</span>

<span class="c1">;;; Инициализируем объект после его создания:</span>

<span class="p">(</span><span class="nb">defmethod</span><span class="w"> </span><span class="nb">initialize-instance</span><span class="w"> </span><span class="ss">:after</span><span class="w"> </span><span class="p">((</span><span class="nv">object</span><span class="w"> </span><span class="nv">canoe</span><span class="p">)</span><span class="w"> </span><span class="k">&amp;rest</span><span class="w"> </span><span class="nv">args</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">setf</span><span class="w"> </span><span class="p">(</span><span class="nv">average-efficiency</span><span class="w"> </span><span class="nv">object</span><span class="p">)</span><span class="w">  </span><span class="p">(</span><span class="nb">log</span><span class="w"> </span><span class="p">(</span><span class="nb">1+</span><span class="w"> </span><span class="p">(</span><span class="nv">number-of-rowers</span><span class="w"> </span><span class="nv">object</span><span class="p">)))))</span>


<span class="c1">;;; Давайте проверим что получилось с этой самой эффективностью...</span>

<span class="p">(</span><span class="nv">average-efficiency</span><span class="w"> </span><span class="p">(</span><span class="nb">make-instance</span><span class="w"> </span><span class="ss">&#39;canoe</span><span class="w"> </span><span class="ss">:number-of-rowers</span><span class="w"> </span><span class="mi">15</span><span class="p">))</span>
<span class="c1">; =&gt; 2.7725887</span>


<span class="c1">;;;-----------------------------------------------------------------------------</span>
<span class="c1">;;; 8. Макросы</span>
<span class="c1">;;;-----------------------------------------------------------------------------</span>

<span class="c1">;;; Макросы позволяют расширить синаксис языка. В CL нет например цикла WHILE,</span>
<span class="c1">;;; но его проще простого реализовать на макросах. Если мы отбросим наши</span>
<span class="c1">;;; ассемблерные (или алгольные) инстинкты, мы взлетим на крыльях:</span>

<span class="p">(</span><span class="nb">defmacro</span><span class="w"> </span><span class="nv">while</span><span class="w"> </span><span class="p">(</span><span class="kt">condition</span><span class="w"> </span><span class="k">&amp;body</span><span class="w"> </span><span class="nv">body</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;Пока `условие` истинно, выполняется `тело`.</span>
<span class="s">`Условие` проверяется перед каждым выполнением `тела`&quot;</span>
<span class="w">    </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">block-name</span><span class="w"> </span><span class="p">(</span><span class="nb">gensym</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="nv">done</span><span class="w"> </span><span class="p">(</span><span class="nb">gensym</span><span class="p">)))</span>
<span class="w">        </span><span class="o">`</span><span class="p">(</span><span class="k">tagbody</span>
<span class="w">           </span><span class="o">,</span><span class="nv">block-name</span>
<span class="w">           </span><span class="p">(</span><span class="nb">unless</span><span class="w"> </span><span class="o">,</span><span class="kt">condition</span>
<span class="w">               </span><span class="p">(</span><span class="k">go</span><span class="w"> </span><span class="o">,</span><span class="nv">done</span><span class="p">))</span>
<span class="w">           </span><span class="p">(</span><span class="k">progn</span>
<span class="w">           </span><span class="o">,@</span><span class="nv">body</span><span class="p">)</span>
<span class="w">           </span><span class="p">(</span><span class="k">go</span><span class="w"> </span><span class="o">,</span><span class="nv">block-name</span><span class="p">)</span>
<span class="w">           </span><span class="o">,</span><span class="nv">done</span><span class="p">)))</span>

<span class="c1">;;; Взглянем на более высокоуровневую версию этого макроса:</span>

<span class="p">(</span><span class="nb">defmacro</span><span class="w"> </span><span class="nv">while</span><span class="w"> </span><span class="p">(</span><span class="kt">condition</span><span class="w"> </span><span class="k">&amp;body</span><span class="w"> </span><span class="nv">body</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;Пока `условие` истинно, выполняется `тело`.</span>
<span class="s">`Условие` проверяется перед каждым выполнением `тела`&quot;</span>
<span class="w">  </span><span class="o">`</span><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="nv">while</span><span class="w"> </span><span class="o">,</span><span class="kt">condition</span>
<span class="w">         </span><span class="nb">do</span>
<span class="w">         </span><span class="p">(</span><span class="k">progn</span>
<span class="w">            </span><span class="o">,@</span><span class="nv">body</span><span class="p">)))</span>

<span class="c1">;;; В современных комиляторах LOOP так же эффективен как и приведенный</span>
<span class="c1">;;; выше код. Поэтому используйте его, его проще читать.</span>

<span class="c1">;;; В макросах используются символы ```, `,` и `@`. ``` - это оператор</span>
<span class="c1">;;; квазиквотирования - это значит что форма исполнятся не будет, а вернется</span>
<span class="c1">;;; как данные. Оператаор `,` позволяет исполнить форму внутри</span>
<span class="c1">;;; квазиквотирования. Оператор `@` исполняет форму внутри квазиквотирования</span>
<span class="c1">;;; но полученный список вклеивает по месту.</span>

<span class="c1">;;; GENSYM создаёт уникальный символ, который гарантировано больше нигде в</span>
<span class="c1">;;; системе не используется. Так надо потому, что макросы разворачиваются</span>
<span class="c1">;;; во время компиляции и переменные объявленные в макросе могут совпасть</span>
<span class="c1">;;; по имени с переменными в обычном коде.</span>

<span class="c1">;;; Дальнйешую информацию о макросах ищите в книгах Practical Common Lisp</span>
<span class="c1">;;; и On Lisp</span>
</pre></div>
<h2>Для чтения</h2>

<p>На русском
- <a href="https://github.com/pcl-ru/pcl-ru/releases/download/v1.1/pcl-ru.pdf">Practical Common Lisp</a></p>

<p>На английском
- <a href="http://www.gigamonkeys.com/book/">Practical Common Lisp</a>
- <a href="https://www.cs.cmu.edu/~dst/LispBook/book.pdf">Common Lisp: A Gentle Introduction to Symbolic Computation</a></p>

<h2>Дополнительная информация</h2>

<p>На русском</p>

<ul>
<li><a href="https://t.me/lisp_forever">Сообщество в Telegram</a></li>
</ul>

<p>На английском</p>

<ul>
<li><a href="http://www.cliki.net/">CLiki</a></li>
<li><a href="https://common-lisp.net/">common-lisp.net</a></li>
<li><a href="https://github.com/CodyReichert/awesome-cl">Awesome Common Lisp</a></li>
<li><a href="http://lisp-lang.org/">Lisp Lang</a></li>
</ul>

<h2>Благодарности в английской версии</h2>

<p>Спасибо людям из Scheme за отличную статью, взятую за основу для
Common Lisp.</p>

<ul>
<li><a href="https://github.com/pkhuong">Paul Khuong</a> за хорошую вычитку.</li>
</ul>

    <hr>
    <p>Хотите предложить свой перевод? Может быть, улучшение перевода? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Откройте Issue</a> в репозитории Github или сделайте <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/ru-ru/common-lisp-ru.html.markdown">pull request</a> сами!
    </p>
    <p class="contributed">
    Первоначально предоставлено автором Paul Nathan, и обновлено <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/ru-ru/common-lisp-ru.html.markdown">2 авторами</a>.
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="https://github.com/pnathan">Paul Nathan</a>,
        <a href="https://ebzzry.io">Rommel Martinez</a>
    </p>

    <p>
      Переводчик:
        <a href="https://github.com/filonenko-mikhail">Michael Filonenko</a>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
