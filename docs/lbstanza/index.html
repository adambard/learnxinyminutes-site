<!DOCTYPE html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml">
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WXC8R75DEN');
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="en-us">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn LB Stanza in Y Minutes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/lbstanza/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Flbstanza%2F&text=Learn+X+in+Y+minutes%2C+where+X%3DLB+Stanza">
        Share this page
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">Select theme:</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">light</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">dark</button>
  </div>
  <h1><a href="/">Learn X in Y minutes</a></h1>
  <h2>Where X=LB Stanza</h2>
    <p class="filelink">
    Get the code:
    <a href="/docs/files/learn-stanza.stanza">learn-stanza.stanza</a>
    </p>
  <div id="doc">
    <p>LB Stanza (or Stanza for short) is a new optionally-typed general purpose programming language from the University of California, Berkeley. Stanza was designed to help programmers tackle the complexity of architecting large programs and significantly increase the productivity of application programmers across the entire software development life cycle.</p>
<div class="highlight"><pre><span></span><span class="p">;</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">comment</span> 
<span class="p">;</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span>
<span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">block</span> <span class="n">comment</span> 
    <span class="p">;</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;</span> 
        <span class="n">block</span> <span class="n">comments</span> <span class="n">can</span> <span class="n">be</span> <span class="n">nested</span> <span class="k">with</span> <span class="n">optional</span> <span class="n">tags</span><span class="o">.</span> 
    <span class="p">;</span><span class="o">&lt;</span><span class="n">B</span><span class="o">&gt;</span>
<span class="p">;</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span>
<span class="n">defpackage</span> <span class="n">learn</span><span class="o">-</span><span class="n">stanza</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">y</span><span class="p">:</span> 
  <span class="kn">import</span> <span class="nn">core</span> 
  <span class="kn">import</span> <span class="nn">collections</span> 

<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">The</span> <span class="n">basics</span><span class="p">,</span> <span class="n">things</span> <span class="n">you</span><span class="s1">&#39;d find in most programming languages</span>
<span class="p">;</span><span class="o">==============================================================================</span>


<span class="p">;</span> <span class="n">Variables</span> <span class="n">can</span> <span class="n">be</span> <span class="n">mutable</span> <span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="ow">or</span> <span class="n">immutable</span> <span class="p">(</span><span class="n">val</span><span class="p">)</span>
<span class="n">val</span> <span class="n">immutable</span> <span class="o">=</span> <span class="s2">&quot;this string can&#39;t be changed&quot;</span>
<span class="n">var</span> <span class="n">mutable</span> <span class="o">=</span> <span class="s2">&quot;this one can be&quot;</span> 
<span class="n">mutable</span> <span class="o">=</span> <span class="s2">&quot;like this&quot;</span>

<span class="p">;</span> <span class="n">The</span> <span class="n">basic</span> <span class="n">data</span> <span class="n">types</span> <span class="p">(</span><span class="n">annotations</span> <span class="n">are</span> <span class="n">optional</span><span class="p">)</span> 
<span class="n">val</span> <span class="n">an</span><span class="o">-</span><span class="nb">int</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">12345</span>
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="n">long</span><span class="p">:</span> <span class="n">Long</span> <span class="o">=</span> <span class="mi">12345</span><span class="n">L</span>
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="nb">float</span><span class="p">:</span> <span class="n">Float</span> <span class="o">=</span> <span class="mf">1.2345</span><span class="n">f</span>
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="n">double</span><span class="p">:</span> <span class="n">Double</span> <span class="o">=</span> <span class="mf">3.14159</span>
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="n">string</span><span class="p">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s2">&quot;this is a string&quot;</span>
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="n">multiline</span><span class="o">-</span><span class="n">string</span> <span class="o">=</span> \<span class="o">&lt;</span><span class="n">tag</span><span class="o">&gt;</span>
    <span class="n">this</span> <span class="ow">is</span> <span class="n">a</span> <span class="s2">&quot;raw&quot;</span> <span class="n">string</span> <span class="n">literal</span> 
\<span class="o">&lt;</span><span class="n">tag</span><span class="o">&gt;</span>

<span class="p">;</span> <span class="n">Print</span> <span class="n">a</span> <span class="n">formatted</span> <span class="n">string</span> <span class="k">with</span> <span class="n">println</span> <span class="ow">and</span> <span class="s2">&quot;...&quot;</span> <span class="o">%</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="n">println</span><span class="p">(</span><span class="s2">&quot;this is a formatted string %_ %_&quot;</span> <span class="o">%</span> <span class="p">[</span><span class="n">mutable</span><span class="p">,</span> <span class="n">immutable</span><span class="p">])</span>

<span class="p">;</span> <span class="n">Stanza</span> <span class="ow">is</span> <span class="n">optionally</span> <span class="n">typed</span><span class="p">,</span> <span class="ow">and</span> <span class="n">has</span> <span class="n">a</span> <span class="err">?</span> <span class="p">(</span><span class="nb">any</span><span class="p">)</span> <span class="nb">type</span><span class="o">.</span> 
<span class="n">var</span> <span class="n">anything</span><span class="p">:</span><span class="err">?</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">anything</span> <span class="o">=</span> <span class="mf">3.14159</span>
<span class="n">anything</span> <span class="o">=</span> <span class="s2">&quot;a string&quot;</span>

<span class="p">;</span> <span class="n">Stanza</span> <span class="n">has</span> <span class="n">basic</span> <span class="n">collections</span> <span class="n">like</span> <span class="n">Tuples</span><span class="p">,</span> <span class="n">Arrays</span><span class="p">,</span> <span class="n">Vectors</span> <span class="ow">and</span> <span class="n">HashTables</span>
<span class="n">val</span> <span class="nb">tuple</span><span class="p">:</span> <span class="n">Tuple</span><span class="o">&lt;</span><span class="err">?</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="n">mutable</span><span class="p">,</span> <span class="n">immutable</span><span class="p">]</span>

<span class="n">val</span> <span class="n">array</span> <span class="o">=</span> <span class="n">Array</span><span class="o">&lt;</span><span class="err">?</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>
<span class="n">array</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">array</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.23455</span>
<span class="p">;</span> <span class="n">array</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;out-of-bounds&quot;</span> <span class="p">;</span> <span class="n">arrays</span> <span class="n">are</span> <span class="n">bounds</span><span class="o">-</span><span class="n">checked</span> 

<span class="n">val</span> <span class="n">vector</span> <span class="o">=</span> <span class="n">Vector</span><span class="o">&lt;</span><span class="err">?</span><span class="o">&gt;</span><span class="p">()</span>
<span class="n">vector</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>
<span class="n">vector</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">vector</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mf">3.14159</span>

<span class="n">val</span> <span class="nb">hash</span><span class="o">-</span><span class="n">table</span> <span class="o">=</span> <span class="n">HashTable</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span> <span class="err">?</span><span class="o">&gt;</span><span class="p">()</span>
<span class="nb">hash</span><span class="o">-</span><span class="n">table</span><span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nb">hash</span><span class="o">-</span><span class="n">table</span><span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> 
<span class="nb">hash</span><span class="o">-</span><span class="n">table</span><span class="p">[</span><span class="s2">&quot;2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> 


<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">Functions</span>
<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">Functions</span> <span class="n">are</span> <span class="n">declared</span> <span class="k">with</span> <span class="n">the</span> <span class="err">`</span><span class="n">defn</span><span class="err">`</span> <span class="n">keyword</span> 
<span class="n">defn</span> <span class="n">my</span><span class="o">-</span><span class="n">function</span> <span class="p">(</span><span class="n">arg</span><span class="p">:</span><span class="err">?</span><span class="p">)</span> <span class="p">:</span> <span class="p">;</span> <span class="n">note</span> <span class="n">the</span> <span class="n">space</span> <span class="n">between</span> <span class="n">identifier</span> <span class="ow">and</span> <span class="n">arg</span> <span class="nb">list</span>
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;called my-function with %_&quot;</span> <span class="o">%</span> <span class="p">[</span><span class="n">arg</span><span class="p">])</span>

<span class="n">my</span><span class="o">-</span><span class="n">function</span><span class="p">(</span><span class="s2">&quot;arg&quot;</span><span class="p">)</span>  <span class="p">;</span> <span class="n">note</span> <span class="n">the</span> <span class="n">lack</span> <span class="n">of</span> <span class="n">a</span> <span class="n">space</span> <span class="n">to</span> <span class="n">call</span> <span class="n">the</span> <span class="n">function</span>

<span class="p">;</span> <span class="n">Functions</span> <span class="n">can</span> <span class="n">be</span> <span class="n">declared</span> <span class="n">inside</span> <span class="n">another</span> <span class="n">function</span> <span class="ow">and</span> <span class="n">capture</span> <span class="n">variables</span> <span class="kn">from</span>
<span class="p">;</span> <span class="n">the</span> <span class="n">surrounding</span> <span class="n">environment</span><span class="o">.</span>
<span class="n">defn</span> <span class="n">outer</span> <span class="p">(</span><span class="n">arg</span><span class="p">):</span> 
  <span class="n">defn</span> <span class="n">inner</span> <span class="p">():</span> 
    <span class="n">println</span><span class="p">(</span><span class="s2">&quot;outer had arg: %_&quot;</span> <span class="o">%</span> <span class="p">[</span><span class="n">arg</span><span class="p">])</span>
  <span class="n">inner</span><span class="p">()</span>

<span class="n">outer</span><span class="p">(</span><span class="s2">&quot;something&quot;</span><span class="p">)</span>

<span class="p">;</span> <span class="n">functions</span> <span class="n">are</span> <span class="s2">&quot;first-class&quot;</span> <span class="ow">in</span> <span class="n">stanza</span><span class="p">,</span> <span class="n">meaning</span> <span class="n">you</span> <span class="n">can</span> <span class="n">assign</span> <span class="n">variables</span> 
<span class="p">;</span> <span class="n">to</span> <span class="n">functions</span> <span class="ow">and</span> <span class="k">pass</span> <span class="n">functions</span> <span class="k">as</span> <span class="n">arguments</span> <span class="n">to</span> <span class="n">other</span> <span class="n">functions</span><span class="o">.</span> 
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="n">function</span> <span class="o">=</span> <span class="n">outer</span> 
<span class="n">defn</span> <span class="n">do</span><span class="o">-</span><span class="n">n</span><span class="o">-</span><span class="n">times</span> <span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">n</span><span class="p">:</span><span class="n">Int</span><span class="p">):</span> 
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mi">0</span> <span class="n">to</span> <span class="n">n</span> <span class="n">do</span> <span class="p">:</span> 
    <span class="n">func</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
<span class="n">do</span><span class="o">-</span><span class="n">n</span><span class="o">-</span><span class="n">times</span><span class="p">(</span><span class="s2">&quot;argument&quot;</span><span class="p">,</span> <span class="n">a</span><span class="o">-</span><span class="n">function</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="p">;</span> <span class="n">sometimes</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">define</span> <span class="n">a</span> <span class="n">function</span> <span class="n">inline</span><span class="p">,</span> <span class="ow">or</span> <span class="n">use</span> <span class="n">an</span> <span class="n">anonymous</span> <span class="n">function</span><span class="o">.</span>
<span class="p">;</span> <span class="k">for</span> <span class="n">this</span> <span class="n">you</span> <span class="n">can</span> <span class="n">use</span> <span class="n">the</span> <span class="n">syntax</span><span class="p">:</span> 
<span class="p">;</span>   <span class="n">fn</span> <span class="p">(</span><span class="n">args</span><span class="p">):</span> 
<span class="p">;</span>       <span class="o">...</span> 
<span class="n">do</span><span class="o">-</span><span class="n">n</span><span class="o">-</span><span class="n">times</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="n">fn</span> <span class="p">(</span><span class="n">arg</span><span class="p">):</span> <span class="n">println</span><span class="p">(</span><span class="n">arg</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>

<span class="p">;</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">shorthand</span> <span class="k">for</span> <span class="n">writing</span> <span class="n">anonymous</span> <span class="n">functions</span>
<span class="n">do</span><span class="o">-</span><span class="n">n</span><span class="o">-</span><span class="n">times</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="n">_</span><span class="p">)</span> <span class="p">},</span> <span class="mi">2</span><span class="p">)</span>

<span class="p">;</span> <span class="n">the</span> <span class="n">short</span> <span class="n">hand</span> <span class="n">works</span> <span class="k">for</span> <span class="n">multiple</span> <span class="n">arguments</span> <span class="k">as</span> <span class="n">well</span><span class="o">.</span> 
<span class="n">val</span> <span class="n">multi</span><span class="o">-</span><span class="k">lambda</span> <span class="o">=</span> <span class="p">{</span> <span class="n">println</span><span class="p">(</span><span class="n">_</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">_</span><span class="p">)</span> <span class="p">}</span>
<span class="n">multi</span><span class="o">-</span><span class="k">lambda</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">User</span> <span class="n">defined</span> <span class="n">types</span>
<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">Structs</span> <span class="n">are</span> <span class="n">declared</span> <span class="k">with</span> <span class="n">the</span> <span class="err">`</span><span class="n">defstruct</span><span class="err">`</span> <span class="n">keyword</span>
<span class="n">defstruct</span> <span class="n">MyStruct</span><span class="p">:</span> 
  <span class="n">field</span>

<span class="p">;</span> <span class="n">constructors</span> <span class="n">are</span> <span class="n">derived</span> <span class="n">automatically</span>
<span class="n">val</span> <span class="n">my</span><span class="o">-</span><span class="n">struct</span> <span class="o">=</span> <span class="n">MyStruct</span><span class="p">(</span><span class="s2">&quot;field:value&quot;</span><span class="p">)</span>

<span class="p">;</span> <span class="n">fields</span> <span class="n">are</span> <span class="n">accessed</span> <span class="n">using</span> <span class="n">function</span><span class="o">-</span><span class="n">call</span> <span class="n">syntax</span>
<span class="n">println</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">my</span><span class="o">-</span><span class="n">struct</span><span class="p">))</span>

<span class="p">;</span> <span class="n">Stanza</span> <span class="n">supports</span> <span class="n">subtyping</span> <span class="k">with</span> <span class="n">a</span> <span class="s2">&quot;multimethod&quot;</span> <span class="n">system</span> <span class="n">based</span> <span class="n">on</span> <span class="n">method</span> 
<span class="p">;</span> <span class="n">overloading</span><span class="o">.</span>
<span class="n">deftype</span> <span class="n">MyType</span>
<span class="n">defmulti</span> <span class="n">a</span><span class="o">-</span><span class="n">method</span> <span class="p">(</span><span class="n">m</span><span class="p">:</span><span class="n">MyType</span><span class="p">)</span>

<span class="n">defstruct</span> <span class="n">Foo</span> <span class="o">&lt;</span><span class="p">:</span> <span class="n">MyType</span>
<span class="n">defstruct</span> <span class="n">Bar</span> <span class="o">&lt;</span><span class="p">:</span> <span class="n">MyType</span>
<span class="n">defmethod</span> <span class="n">a</span><span class="o">-</span><span class="n">method</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">foo</span><span class="p">:</span> <span class="n">Foo</span><span class="p">):</span>
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;called a-method on a Foo&quot;</span><span class="p">)</span>

<span class="n">defmethod</span> <span class="n">a</span><span class="o">-</span><span class="n">method</span> <span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">foo</span><span class="p">:</span> <span class="n">Bar</span><span class="p">):</span>
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;called a-method on a Bar&quot;</span><span class="p">)</span>

<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">The</span> <span class="n">Type</span> <span class="n">System</span>
<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="kc">True</span> <span class="ow">and</span> <span class="n">Falseare</span> <span class="n">types</span> <span class="k">with</span> <span class="n">a</span> <span class="n">single</span> <span class="n">value</span><span class="o">.</span> 
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="n">true</span><span class="p">:</span> <span class="kc">True</span> <span class="o">=</span> <span class="n">true</span> 
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="n">false</span><span class="p">:</span> <span class="kc">False</span> <span class="o">=</span> <span class="n">false</span> 

<span class="p">;</span> <span class="n">You</span> <span class="n">can</span> <span class="n">declare</span> <span class="n">a</span> <span class="n">union</span> <span class="nb">type</span><span class="p">,</span> <span class="ow">or</span> <span class="n">a</span> <span class="n">value</span> <span class="n">that</span> <span class="ow">is</span> <span class="n">one</span> <span class="n">of</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">types</span> 
<span class="n">val</span> <span class="n">a</span><span class="o">-</span><span class="n">boolean</span><span class="p">:</span> <span class="kc">True</span><span class="o">|</span><span class="kc">False</span> <span class="o">=</span> <span class="n">true</span> 
<span class="n">val</span> <span class="n">another</span><span class="o">-</span><span class="n">boolean</span><span class="p">:</span> <span class="kc">True</span><span class="o">|</span><span class="kc">False</span> <span class="o">=</span> <span class="n">false</span> 

<span class="p">;</span> <span class="n">You</span> <span class="n">can</span> <span class="n">pattern</span> <span class="n">match</span> <span class="n">on</span> <span class="n">types</span> 
<span class="k">match</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">boolean</span><span class="p">):</span>
  <span class="p">(</span><span class="n">t</span><span class="p">:</span><span class="kc">True</span><span class="p">):</span> <span class="n">println</span><span class="p">(</span><span class="s2">&quot;is true&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="n">f</span><span class="p">:</span><span class="kc">False</span><span class="p">):</span> <span class="n">println</span><span class="p">(</span><span class="s2">&quot;is false&quot;</span><span class="p">)</span>

<span class="p">;</span> <span class="n">You</span> <span class="n">can</span> <span class="n">match</span> <span class="n">against</span> <span class="n">a</span> <span class="n">single</span> <span class="n">possible</span> <span class="nb">type</span>
<span class="k">match</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">boolean</span><span class="p">:</span><span class="kc">True</span><span class="p">):</span>
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;is still true&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span> 
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;is not true&quot;</span><span class="p">)</span>

<span class="p">;</span> <span class="n">You</span> <span class="n">can</span> <span class="n">compose</span> <span class="n">program</span> <span class="n">logic</span> <span class="n">around</span> <span class="n">the</span> <span class="nb">type</span> <span class="n">of</span> <span class="n">a</span> <span class="n">variable</span>
<span class="k">if</span> <span class="n">anything</span> <span class="ow">is</span> <span class="n">Float</span> <span class="p">:</span>
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;anything is a float&quot;</span><span class="p">)</span>
<span class="k">else</span> <span class="k">if</span> <span class="n">anything</span> <span class="ow">is</span><span class="o">-</span><span class="ow">not</span> <span class="n">String</span> <span class="p">:</span> 
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;anything is not an int&quot;</span><span class="p">)</span>
<span class="k">else</span> <span class="p">:</span> 
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;I don&#39;t know what anything is&quot;</span><span class="p">)</span>

<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">Control</span> <span class="n">Flow</span> 
<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">stanza</span> <span class="n">has</span> <span class="n">the</span> <span class="n">standard</span> <span class="n">basic</span> <span class="n">control</span> <span class="n">flow</span> 
<span class="n">val</span> <span class="n">condition</span> <span class="o">=</span> <span class="p">[</span><span class="n">false</span><span class="p">,</span> <span class="n">false</span><span class="p">]</span>
<span class="k">if</span> <span class="n">condition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">:</span> 
  <span class="p">;</span> <span class="n">do</span> <span class="n">something</span> 
  <span class="n">false</span> 
<span class="k">else</span> <span class="k">if</span> <span class="n">condition</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> 
  <span class="p">;</span> <span class="n">do</span> <span class="n">another</span> <span class="n">thing</span>
  <span class="n">false</span> 
<span class="k">else</span> <span class="p">:</span>
  <span class="p">;</span> <span class="n">whatever</span> <span class="k">else</span>
  <span class="n">false</span>

<span class="p">;</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">also</span> <span class="n">a</span> <span class="n">switch</span> <span class="n">statement</span><span class="p">,</span> <span class="n">which</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">pattern</span> <span class="n">match</span>
<span class="p">;</span> <span class="n">on</span> <span class="n">values</span> <span class="p">(</span><span class="k">as</span> <span class="n">opposed</span> <span class="n">to</span> <span class="n">types</span><span class="p">)</span>
<span class="n">switch</span><span class="p">(</span><span class="n">anything</span><span class="p">):</span>
  <span class="s2">&quot;this&quot;</span><span class="p">:</span> <span class="n">false</span> 
  <span class="s2">&quot;that&quot;</span><span class="p">:</span> <span class="n">false</span> 
  <span class="s2">&quot;the-other-thing&quot;</span><span class="p">:</span> <span class="n">false</span> 
  <span class="k">else</span><span class="p">:</span> <span class="n">false</span> 

<span class="p">;</span> <span class="k">for</span> <span class="ow">and</span> <span class="k">while</span> <span class="n">loops</span> <span class="n">are</span> <span class="n">supported</span>
<span class="k">while</span> <span class="n">condition</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> 
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;do stuff&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mi">0</span> <span class="n">to</span> <span class="mi">10</span> <span class="n">do</span><span class="p">:</span>  
  <span class="n">vector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span>

<span class="p">;</span> <span class="n">stanza</span> <span class="n">also</span> <span class="n">supports</span> <span class="n">named</span> <span class="n">labels</span> <span class="n">which</span> <span class="n">can</span> <span class="n">function</span> <span class="k">as</span> <span class="k">break</span> <span class="ow">or</span> <span class="k">return</span> 
<span class="p">;</span> <span class="n">statements</span>
<span class="n">defn</span> <span class="n">another</span><span class="o">-</span><span class="n">fn</span> <span class="p">():</span> 
  <span class="n">label</span><span class="o">&lt;</span><span class="kc">False</span><span class="o">&gt;</span> <span class="k">return</span><span class="p">:</span>
    <span class="n">label</span><span class="o">&lt;</span><span class="kc">False</span><span class="o">&gt;</span> <span class="k">break</span><span class="p">:</span>
      <span class="k">while</span> <span class="n">true</span><span class="p">:</span> 
        <span class="k">if</span> <span class="n">condition</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span> 
            <span class="k">break</span><span class="p">(</span><span class="n">false</span><span class="p">)</span> 
    <span class="k">return</span><span class="p">(</span><span class="n">false</span><span class="p">)</span>

<span class="p">;</span> <span class="n">For</span> <span class="n">a</span> <span class="n">comprehensive</span> <span class="n">guide</span> <span class="n">on</span> <span class="n">Stanza</span><span class="s1">&#39;s advanced control flow, check out </span>
<span class="p">;</span> <span class="n">this</span> <span class="n">page</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">lbstanza</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">chapter9</span><span class="o">.</span><span class="n">html</span> <span class="kn">from</span> <span class="nn">Stanza</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">Example</span>

<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="n">Sequences</span> 
<span class="p">;</span><span class="o">==============================================================================</span>
<span class="p">;</span> <span class="k">for</span> <span class="s2">&quot;loops&quot;</span> <span class="n">are</span> <span class="n">sugar</span> <span class="k">for</span> <span class="n">a</span> <span class="n">more</span> <span class="n">powerful</span> <span class="n">syntax</span><span class="o">.</span> 
<span class="n">val</span> <span class="n">xs</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> 
<span class="n">val</span> <span class="n">ys</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="n">val</span> <span class="n">zs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ys</span><span class="p">,</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">zs</span><span class="p">)</span> <span class="n">do</span> <span class="p">:</span> 
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;x:%_, y:%_, z:%_&quot;</span> <span class="o">%</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">])</span>


<span class="p">;</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">,</span> <span class="ow">and</span> <span class="n">zs</span> <span class="n">are</span> <span class="nb">all</span> <span class="s2">&quot;Seqable&quot;</span> <span class="n">meaning</span> <span class="n">they</span> <span class="n">are</span> <span class="n">Seq</span> <span class="n">types</span> <span class="p">(</span><span class="n">sequences</span><span class="p">)</span><span class="o">.</span> 
<span class="p">;</span> <span class="n">the</span> <span class="err">`</span><span class="n">do</span><span class="err">`</span> <span class="n">identifier</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">special</span> <span class="n">function</span> <span class="n">that</span> <span class="n">just</span> <span class="n">applies</span> <span class="n">the</span> <span class="n">body</span> <span class="n">of</span>
<span class="p">;</span> <span class="n">the</span> <span class="k">for</span> <span class="n">loop</span> <span class="n">to</span> <span class="n">each</span> <span class="n">element</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sequence</span><span class="o">.</span>
<span class="p">;</span> 
<span class="p">;</span> <span class="n">A</span> <span class="n">common</span> <span class="n">sequence</span> <span class="n">task</span> <span class="ow">is</span> <span class="n">concatenating</span> <span class="n">sequences</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">accomplished</span> 
<span class="p">;</span> <span class="n">using</span> <span class="n">the</span> <span class="err">`</span><span class="n">seq</span><span class="o">-</span><span class="n">cat</span><span class="err">`</span> <span class="n">function</span><span class="o">.</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">analogous</span> <span class="n">to</span> <span class="s2">&quot;flattening&quot;</span> <span class="n">iterateors</span>
<span class="n">val</span> <span class="n">concat</span> <span class="o">=</span> <span class="n">to</span><span class="o">-</span><span class="nb">tuple</span> <span class="err">$</span> 
  <span class="k">for</span> <span class="n">sequence</span> <span class="ow">in</span> <span class="p">[</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">,</span> <span class="n">zs</span><span class="p">]</span> <span class="n">seq</span><span class="o">-</span><span class="n">cat</span><span class="p">:</span> 
    <span class="n">sequence</span>

<span class="p">;</span> <span class="n">we</span> <span class="n">can</span> <span class="n">also</span> <span class="n">use</span> <span class="n">a</span> <span class="n">variation</span> <span class="n">to</span> <span class="n">interleave</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">of</span> <span class="n">multiple</span> <span class="n">sequences</span>
<span class="n">val</span> <span class="n">interleaved</span> <span class="o">=</span> <span class="n">to</span><span class="o">-</span><span class="nb">tuple</span> <span class="err">$</span> 
  <span class="k">for</span> <span class="p">(</span><span class="n">x</span> <span class="ow">in</span> <span class="n">xs</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">ys</span><span class="p">,</span> <span class="n">z</span> <span class="ow">in</span> <span class="n">zs</span><span class="p">)</span> <span class="n">seq</span><span class="o">-</span><span class="n">cat</span> <span class="p">:</span> 
    <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">]</span>

<span class="n">println</span><span class="p">(</span><span class="s2">&quot;[%,] [%,]&quot;</span> <span class="o">%</span> <span class="p">[</span><span class="n">concat</span><span class="p">,</span> <span class="n">interleaved</span><span class="p">])</span>

<span class="p">;</span> <span class="n">Another</span> <span class="n">common</span> <span class="n">task</span> <span class="ow">is</span> <span class="n">mapping</span> <span class="n">a</span> <span class="n">sequence</span> <span class="n">to</span> <span class="n">another</span><span class="p">,</span> <span class="k">for</span> <span class="n">example</span> <span class="n">multiplying</span>
<span class="p">;</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">elements</span> <span class="n">of</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">numbers</span> <span class="n">by</span> <span class="n">a</span> <span class="n">constant</span><span class="o">.</span> <span class="n">To</span> <span class="n">do</span> <span class="n">this</span> <span class="n">we</span> <span class="n">use</span> <span class="err">`</span><span class="n">seq</span><span class="err">`</span><span class="o">.</span> 
<span class="n">var</span> <span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]</span> 
<span class="n">numbers</span> <span class="o">=</span> <span class="n">to</span><span class="o">-</span><span class="nb">tuple</span> <span class="err">$</span> 
  <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numbers</span> <span class="n">seq</span> <span class="p">:</span> 
    <span class="mf">2.0</span> <span class="o">*</span> <span class="n">n</span> 
<span class="n">println</span><span class="p">(</span><span class="s2">&quot;%,&quot;</span> <span class="o">%</span> <span class="p">[</span><span class="n">numbers</span><span class="p">])</span>

<span class="k">if</span> <span class="n">find</span><span class="p">({</span><span class="n">_</span> <span class="o">==</span> <span class="mf">2.0</span><span class="p">},</span> <span class="n">numbers</span><span class="p">)</span> <span class="ow">is</span><span class="o">-</span><span class="ow">not</span> <span class="kc">False</span> <span class="p">:</span> 
  <span class="n">println</span><span class="p">(</span><span class="s2">&quot;found it!&quot;</span><span class="p">)</span>

<span class="p">;</span> <span class="ow">or</span> <span class="n">maybe</span> <span class="n">we</span> <span class="n">just</span> <span class="n">want</span> <span class="n">to</span> <span class="n">know</span> <span class="k">if</span> <span class="n">there</span><span class="s1">&#39;s something in a sequence </span>
<span class="n">var</span> <span class="ow">is</span><span class="o">-</span><span class="n">there</span> <span class="o">=</span> 
  <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">numbers</span> <span class="nb">any</span><span class="err">?</span> <span class="p">:</span>
    <span class="n">n</span> <span class="o">==</span> <span class="mf">2.0</span> 

<span class="p">;</span> <span class="n">since</span> <span class="n">this</span> <span class="ow">is</span> <span class="s2">&quot;syntactic sugar&quot;</span> <span class="n">we</span> <span class="n">can</span> <span class="n">write</span> <span class="n">it</span> <span class="n">explicitly</span> <span class="n">using</span> <span class="n">an</span> 
<span class="p">;</span> <span class="n">anonymous</span> <span class="n">function</span>
<span class="ow">is</span><span class="o">-</span><span class="n">there</span> <span class="o">=</span> <span class="nb">any</span><span class="err">?</span><span class="p">({</span><span class="n">_</span> <span class="o">==</span> <span class="mf">2.0</span><span class="p">},</span> <span class="n">numbers</span><span class="p">)</span>

<span class="p">;</span> <span class="n">a</span> <span class="n">detailed</span> <span class="n">reference</span> <span class="n">of</span> <span class="n">the</span> <span class="n">sequence</span> <span class="n">library</span> <span class="ow">and</span> <span class="n">various</span> <span class="n">adaptors</span> <span class="n">can</span> 
<span class="p">;</span> <span class="n">be</span> <span class="n">found</span> <span class="n">here</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">lbstanza</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">reference</span><span class="o">.</span><span class="n">html</span><span class="c1">#anchor439</span>


<span class="o">=========================================================================</span>
<span class="p">;</span> <span class="n">Documentation</span> 
<span class="p">;</span><span class="o">=========================================================================</span>
<span class="p">;</span>
<span class="p">;</span> <span class="n">Top</span> <span class="n">level</span> <span class="n">statements</span> <span class="n">can</span> <span class="n">be</span> <span class="n">prefixed</span> <span class="k">with</span> <span class="n">the</span> <span class="s2">&quot;doc&quot;</span> <span class="n">field</span> <span class="n">which</span> <span class="n">takes</span> 
<span class="p">;</span> <span class="n">a</span> <span class="n">string</span> <span class="n">value</span> <span class="ow">and</span> <span class="ow">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">autogenerate</span> <span class="n">documentation</span> <span class="k">for</span> <span class="n">the</span> <span class="n">package</span><span class="o">.</span> 
<span class="n">doc</span><span class="p">:</span> \<span class="o">&lt;</span><span class="n">doc</span><span class="o">&gt;</span>
    <span class="c1"># Document Strings </span>

    <span class="err">```</span>
    <span class="n">val</span> <span class="n">you</span><span class="o">-</span><span class="n">can</span> <span class="o">=</span> <span class="s2">&quot;include code snippets, too&quot;</span> 
    <span class="err">```</span>

    <span class="n">To</span> <span class="n">render</span> <span class="n">documentation</span> <span class="k">as</span> <span class="n">markdown</span> <span class="p">(</span><span class="n">compatible</span> <span class="k">with</span> <span class="n">mdbook</span><span class="p">)</span>

    <span class="err">```</span><span class="n">bash</span> 
    <span class="n">stanza</span> <span class="n">doc</span> <span class="n">source</span><span class="o">.</span><span class="n">stanza</span> <span class="o">-</span><span class="n">o</span> <span class="n">docs</span> 
    <span class="err">```</span>
\<span class="o">&lt;</span><span class="n">doc</span><span class="o">&gt;</span>
<span class="n">defn</span> <span class="n">docfn</span> <span class="p">()</span> <span class="p">:</span> <span class="n">false</span> 
</pre></div>
    <hr>
    <p>Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the Github Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/lbstanza.html.markdown">pull request</a> yourself!
    </p>
    <p class="contributed">
    Originally contributed by Mike Hilgendorf, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/lbstanza.html.markdown">1 contributor(s)</a>.
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="https://github.com/m-hilgendorf">Mike Hilgendorf</a>
    </p>

    <p>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
