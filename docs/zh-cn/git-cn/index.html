<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="zh-cn" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="zh-cn" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="zh-cn" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="zh-cn" class="no-js"> <!--<![endif]-->
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WXC8R75DEN');
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="zh-cn">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn X in Y Minutes: Scenic Programming Language Tours</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/zh-cn/git-cn/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Fzh-cn%2Fgit-cn%2F&text=Y%E5%88%86%E9%92%9F%E9%80%9F%E6%88%90X%2C+%E5%85%B6%E4%B8%AD+X%3Dgit">
        分享此页
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">选择主题：</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">亮</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">暗</button>
  </div>
  <h1><a href="/">Y分钟速成X</a></h1>
  <h2>其中 X=git</h2>
  <div id="doc">
    <p>Git是一个分布式版本控制及源代码管理工具 </p>

<p>Git可以为你的项目保存若干快照，以此来对整个项目进行版本管理</p>

<h2>版本</h2>

<h3>什么是版本控制</h3>

<p>版本控制系统就是根据时间来记录一个或多个文件的更改情况的系统。</p>

<h3>集中式版本控制 VS 分布式版本控制</h3>

<ul>
<li>集中式版本控制的主要功能为同步，跟踪以及备份文件</li>
<li>分布式版本控制则更注重共享更改。每一次更改都有唯一的标识</li>
<li>分布式系统没有预定的结构。你也可以用git很轻松的实现SVN风格的集中式系统控制</li>
</ul>

<p><a href="http://git-scm.com/book/en/Getting-Started-About-Version-Control">更多信息</a></p>

<h3>为什么要使用Git</h3>

<ul>
<li>可以离线工作</li>
<li>和他人协同工作变得简单</li>
<li>分支很轻松</li>
<li>合并很容易</li>
<li>Git系统速度快，也很灵活</li>
</ul>

<h2>Git 架构</h2>

<h3>版本库</h3>

<p>一系列文件，目录，历史记录，提交记录和头指针。
可以把它视作每个源代码文件都带有历史记录属性数据结构</p>

<p>一个Git版本库包括一个 .git 目录和其工作目录</p>

<h3>.git 目录(版本库的一部分)</h3>

<p>.git 目录包含所有的配置、日志、分支信息、头指针等
<a href="http://gitready.com/advanced/2009/03/23/whats-inside-your-git-directory.html">详细列表</a></p>

<h3>工作目录 (版本库的一部分)</h3>

<p>版本库中的目录和文件，可以看做就是你工作时的目录</p>

<h3>索引(.git 目录)</h3>

<p>索引就是git中的 staging 区. 可以算作是把你的工作目录与Git版本库分割开的一层
这使得开发者能够更灵活的决定要将要在版本库中添加什么内容</p>

<h3>提交</h3>

<p>一个 git 提交就是一组更改或者对工作目录操作的快照
比如你添加了5个文件，删除了2个文件，那么这些变化就会被写入一个提交比如你添加了5个文件，删除了2个文件，那么这些变化就会被写入一个提交中
而这个提交之后也可以被决定是否推送到另一个版本库中</p>

<h3>分支</h3>

<p>分支其实就是一个指向你最后一次的提交的指针
当你提交时，这个指针就会自动指向最新的提交</p>

<h3>头指针 与 头(.git 文件夹的作用)</h3>

<p>头指针是一个指向当前分支的指针，一个版本库只有一个当前活动的头指针
而头则可以指向版本库中任意一个提交，每个版本库也可以有多个头</p>

<h3>其他形象化解释</h3>

<ul>
<li><a href="http://eagain.net/articles/git-for-computer-scientists/">给计算机科学家的解释</a></li>
<li><a href="http://hoth.entp.com/output/git_for_designers.html">给设计师的解释</a></li>
</ul>

<h2>命令</h2>

<h3>初始化</h3>

<p>创建一个新的git版本库。这个版本库的配置、存储等信息会被保存到.git文件夹中</p>
<div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>init
</pre></div>
<h3>配置</h3>

<p>更改设置。可以是版本库的设置，也可以是系统的或全局的</p>
<div class="highlight"><pre><span></span><span class="c1"># 输出、设置基本的全局变量</span>
$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email
$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name

$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;MyEmail@Zoho.com&quot;</span>
$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;My Name&quot;</span>
</pre></div>
<p><a href="http://git-scm.com/docs/git-config">关于git的更多设置</a></p>

<h3>帮助</h3>

<p>git内置了对命令非常详细的解释，可以供我们快速查阅</p>
<div class="highlight"><pre><span></span><span class="c1"># 查找可用命令</span>
$<span class="w"> </span>git<span class="w"> </span><span class="nb">help</span>

<span class="c1"># 查找所有可用命令</span>
$<span class="w"> </span>git<span class="w"> </span><span class="nb">help</span><span class="w"> </span>-a

<span class="c1"># 在文档当中查找特定的命令</span>
<span class="c1"># git help &lt;命令&gt;</span>
$<span class="w"> </span>git<span class="w"> </span><span class="nb">help</span><span class="w"> </span>add
$<span class="w"> </span>git<span class="w"> </span><span class="nb">help</span><span class="w"> </span>commit
$<span class="w"> </span>git<span class="w"> </span><span class="nb">help</span><span class="w"> </span>init
</pre></div>
<h3>状态</h3>

<p>显示索引文件（也就是当前工作空间）和当前的头指针指向的提交的不同</p>
<div class="highlight"><pre><span></span><span class="c1"># 显示分支，未跟踪文件，更改和其他不同</span>
$<span class="w"> </span>git<span class="w"> </span>status

<span class="c1"># 查看其他的git status的用法</span>
$<span class="w"> </span>git<span class="w"> </span><span class="nb">help</span><span class="w"> </span>status
</pre></div>
<h3>添加</h3>

<p>添加文件到当前工作空间中。如果你不使用 <code>git add</code> 将文件添加进去，
那么这些文件也不会添加到之后的提交之中</p>
<div class="highlight"><pre><span></span><span class="c1"># 添加一个文件</span>
$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>HelloWorld.java

<span class="c1"># 添加一个子目录中的文件</span>
$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>/path/to/file/HelloWorld.c

<span class="c1"># 支持正则表达式</span>
$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>./*.java
</pre></div>
<h3>分支</h3>

<p>管理分支，可以通过下列命令对分支进行增删改查</p>
<div class="highlight"><pre><span></span><span class="c1"># 查看所有的分支和远程分支</span>
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-a

<span class="c1"># 创建一个新的分支</span>
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>myNewBranch

<span class="c1"># 删除一个分支</span>
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>myBranch

<span class="c1"># 重命名分支</span>
<span class="c1"># git branch -m &lt;旧名称&gt; &lt;新名称&gt;</span>
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-m<span class="w"> </span>myBranchName<span class="w"> </span>myNewBranchName

<span class="c1"># 编辑分支的介绍</span>
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>myBranchName<span class="w"> </span>--edit-description
</pre></div>
<h3>检出</h3>

<p>将当前工作空间更新到索引所标识的或者某一特定的工作空间</p>
<div class="highlight"><pre><span></span><span class="c1"># 检出一个版本库，默认将更新到master分支</span>
$<span class="w"> </span>git<span class="w"> </span>checkout
<span class="c1"># 检出到一个特定的分支</span>
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>branchName
<span class="c1"># 新建一个分支，并且切换过去，相当于&quot;git branch &lt;名字&gt;; git checkout &lt;名字&gt;&quot;</span>
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>newBranch
</pre></div>
<h3>clone</h3>

<p>这个命令就是将一个版本库拷贝到另一个目录中，同时也将
分支都拷贝到新的版本库中。这样就可以在新的版本库中提交到远程分支</p>
<div class="highlight"><pre><span></span><span class="c1"># clone learnxinyminutes-docs</span>
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/adambard/learnxinyminutes-docs.git
</pre></div>
<h3>commit</h3>

<p>将当前索引的更改保存为一个新的提交，这个提交包括用户做出的更改与信息</p>
<div class="highlight"><pre><span></span><span class="c1"># 提交时附带提交信息</span>
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Added multiplyNumbers() function to HelloWorld.c&quot;</span>
</pre></div>
<h3>diff</h3>

<p>显示当前工作空间和提交的不同</p>
<div class="highlight"><pre><span></span><span class="c1"># 显示工作目录和索引的不同</span>
$<span class="w"> </span>git<span class="w"> </span>diff

<span class="c1"># 显示索引和最近一次提交的不同</span>
$<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>--cached

<span class="c1"># 显示工作目录和最近一次提交的不同</span>
$<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>HEAD
</pre></div>
<h3>grep</h3>

<p>可以在版本库中快速查找</p>

<p>可选配置：</p>
<div class="highlight"><pre><span></span><span class="c1"># 感谢Travis Jeffery提供的以下用法：</span>
<span class="c1"># 在搜索结果中显示行号</span>
$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>grep.lineNumber<span class="w"> </span><span class="nb">true</span>

<span class="c1"># 使得搜索结果可读性更好</span>
$<span class="w"> </span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>alias.g<span class="w"> </span><span class="s2">&quot;grep --break --heading --line-number&quot;</span>
</pre></div><div class="highlight"><pre><span></span><span class="c1"># 在所有的java中查找variableName</span>
$<span class="w"> </span>git<span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;variableName&#39;</span><span class="w"> </span>--<span class="w"> </span><span class="s1">&#39;*.java&#39;</span>

<span class="c1"># 搜索包含 &quot;arrayListName&quot; 和, &quot;add&quot; 或 &quot;remove&quot; 的所有行</span>
$<span class="w"> </span>git<span class="w"> </span>grep<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;arrayListName&#39;</span><span class="w"> </span>--and<span class="w"> </span><span class="se">\(</span><span class="w"> </span>-e<span class="w"> </span>add<span class="w"> </span>-e<span class="w"> </span>remove<span class="w"> </span><span class="se">\)</span><span class="w"> </span>
</pre></div>
<p>更多的例子可以查看：
<a href="http://travisjeffery.com/b/2012/02/search-a-git-repo-like-a-ninja">Git Grep Ninja</a></p>

<h3>log</h3>

<p>显示这个版本库的所有提交</p>
<div class="highlight"><pre><span></span><span class="c1"># 显示所有提交</span>
$<span class="w"> </span>git<span class="w"> </span>log

<span class="c1"># 显示某几条提交信息</span>
$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>-n<span class="w"> </span><span class="m">10</span>

<span class="c1"># 仅显示合并提交</span>
$<span class="w"> </span>git<span class="w"> </span>log<span class="w"> </span>--merges
</pre></div>
<h3>merge</h3>

<p>合并就是将外部的提交合并到自己的分支中</p>
<div class="highlight"><pre><span></span><span class="c1"># 将其他分支合并到当前分支</span>
$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>branchName

<span class="c1"># 在合并时创建一个新的合并后的提交</span>
$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>--no-ff<span class="w"> </span>branchName
</pre></div>
<h3>mv</h3>

<p>重命名或移动一个文件</p>
<div class="highlight"><pre><span></span><span class="c1"># 重命名</span>
$<span class="w"> </span>git<span class="w"> </span>mv<span class="w"> </span>HelloWorld.c<span class="w"> </span>HelloNewWorld.c

<span class="c1"># 移动</span>
$<span class="w"> </span>git<span class="w"> </span>mv<span class="w"> </span>HelloWorld.c<span class="w"> </span>./new/path/HelloWorld.c

<span class="c1"># 强制重命名或移动</span>
<span class="c1"># 这个文件已经存在，将要覆盖掉</span>
$<span class="w"> </span>git<span class="w"> </span>mv<span class="w"> </span>-f<span class="w"> </span>myFile<span class="w"> </span>existingFile
</pre></div>
<h3>pull</h3>

<p>从远端版本库合并到当前分支</p>
<div class="highlight"><pre><span></span><span class="c1"># 从远端origin的master分支更新版本库</span>
<span class="c1"># git pull &lt;远端&gt; &lt;分支&gt;</span>
$<span class="w"> </span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>master
</pre></div>
<h3>push</h3>

<p>把远端的版本库更新</p>
<div class="highlight"><pre><span></span><span class="c1"># 把本地的分支更新到远端origin的master分支上</span>
<span class="c1"># git push &lt;远端&gt; &lt;分支&gt;</span>
<span class="c1"># git push 相当于 git push origin master</span>
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
</pre></div>
<h3>rebase (谨慎使用)</h3>

<p>将一个分支上所有的提交历史都应用到另一个分支上
<em>不要在一个已经公开的远端分支上使用rebase</em>.</p>
<div class="highlight"><pre><span></span><span class="c1"># 将experimentBranch应用到master上面</span>
<span class="c1"># git rebase &lt;basebranch&gt; &lt;topicbranch&gt;</span>
$<span class="w"> </span>git<span class="w"> </span>rebase<span class="w"> </span>master<span class="w"> </span>experimentBranch
</pre></div>
<p><a href="http://git-scm.com/book/en/Git-Branching-Rebasing">更多阅读</a></p>

<h3>reset (谨慎使用)</h3>

<p>将当前的头指针复位到一个特定的状态。这样可以使你撤销merge、pull、commits、add等
这是个很强大的命令，但是在使用时一定要清楚其所产生的后果</p>
<div class="highlight"><pre><span></span><span class="c1"># 使 staging 区域恢复到上次提交时的状态，不改变现在的工作目录</span>
$<span class="w"> </span>git<span class="w"> </span>reset

<span class="c1"># 使 staging 区域恢复到上次提交时的状态，覆盖现在的工作目录</span>
$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--hard

<span class="c1"># 将当前分支恢复到某次提交，不改变现在的工作目录</span>
<span class="c1"># 在工作目录中所有的改变仍然存在</span>
$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>31f2bb1

<span class="c1"># 将当前分支恢复到某次提交，覆盖现在的工作目录</span>
<span class="c1"># 并且删除所有未提交的改变和指定提交之后的所有提交</span>
$<span class="w"> </span>git<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>31f2bb1
</pre></div>
<h3>rm</h3>

<p>和add相反，从工作空间中去掉某个文件</p>
<div class="highlight"><pre><span></span><span class="c1"># 移除 HelloWorld.c</span>
$<span class="w"> </span>git<span class="w"> </span>rm<span class="w"> </span>HelloWorld.c

<span class="c1"># 移除子目录中的文件</span>
$<span class="w"> </span>git<span class="w"> </span>rm<span class="w"> </span>/pather/to/the/file/HelloWorld.c
</pre></div>
<h2>更多阅读</h2>

<ul>
<li><p><a href="http://try.github.io/levels/1/challenges/1">tryGit - 学习Git的有趣方式</a></p></li>
<li><p><a href="http://git-scm.com/videos">git-scm - 视频教程</a></p></li>
<li><p><a href="http://git-scm.com/docs">git-scm - 文档</a></p></li>
<li><p><a href="https://www.atlassian.com/git/">Atlassian Git - 教程与工作流程</a></p></li>
<li><p><a href="https://na1.salesforce.com/help/doc/en/salesforce_git_developer_cheatsheet.pdf">SalesForce Cheat Sheet</a></p></li>
</ul>

    <hr>
    <p>有建议？或者发现什么错误？在Github上<a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">开一个issue</a>，或者发起<a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/zh-cn/git-cn.html.markdown">pull request</a>！
    </p>
    <p class="contributed">
    原著Jake Prather，并由<a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/zh-cn/git-cn.html.markdown">3个好心人</a>修改。
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="http://github.com/JakeHP">Jake Prather</a>
    </p>

    <p>
      Translated by:
        <a href="http://binarythink.net">Chenbo Li</a>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
