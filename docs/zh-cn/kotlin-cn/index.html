<!DOCTYPE html lang="zh-cn" xml:lang="zh-cn" xmlns="http://www.w3.org/1999/xhtml">
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-WXC8R75DEN');
      </script>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="zh-cn">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn kotlin in Y Minutes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/zh-cn/kotlin-cn/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Fzh-cn%2Fkotlin-cn%2F&text=Y%E5%88%86%E9%92%9F%E9%80%9F%E6%88%90X%2C+%E5%85%B6%E4%B8%AD+X%3Dkotlin">
        分享此页
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">选择主题：</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">亮</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">暗</button>
  </div>
  <h1><a href="/">Y分钟速成X</a></h1>
  <h2>其中 X=kotlin</h2>
    <p class="filelink">
    源代码下载：
    <a href="/docs/files/LearnKotlin-cn.kt">LearnKotlin-cn.kt</a>
    </p>
  <div id="doc">
    <p>Kotlin是一门适用于JVM、Android和浏览器的静态类型编程语言。它100%兼容Java。
<a href="https://kotlinlang.org/">了解更多。</a></p>
<div class="highlight"><pre class="highlight java"><code><span class="c1">// 单行注释从 // 开始</span>
<span class="cm">/*
多行注释看起来像这样。
*/</span>

<span class="c1">// "package" 关键字的工作方式与Java相同。</span>
<span class="kn">package</span> <span class="nn">com.learnxinyminutes.kotlin</span>

<span class="cm">/*
Kotlin程序的入口点是一个"main"函数
该函数传递一个包含所有命令行参数的数组。
*/</span>
<span class="n">fun</span> <span class="nf">main</span><span class="o">(</span><span class="nl">args:</span> <span class="nc">Array</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;)</span> <span class="o">{</span>
    <span class="cm">/*
    使用"var"或"val"来声明一个值。
    "val"声明的值不能被重新赋值，而"var"声明的值可以。
    */</span>
    <span class="n">val</span> <span class="n">fooVal</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1">// 以后我们不能再次给fooVal赋值</span>
    <span class="kt">var</span> <span class="n">fooVar</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">fooVar</span> <span class="o">=</span> <span class="mi">20</span> <span class="c1">// fooVar可以被再次赋值</span>

    <span class="cm">/*
    在大多数情况下，Kotlin可以确定变量的类型是什么，
    所以我们不必要每次都去明确指定它。
    我们可以像这样明确地声明一个变量的类型：
    */</span>
    <span class="n">val</span> <span class="nl">foo:</span> <span class="nc">Int</span> <span class="o">=</span> <span class="mi">7</span>

    <span class="cm">/*
    可以采取和Java类似的方法来表示一个字符串。
    用反斜杠来转义字符。
    */</span>
    <span class="n">val</span> <span class="n">fooString</span> <span class="o">=</span> <span class="s">"My String Is Here!"</span><span class="o">;</span>
    <span class="n">val</span> <span class="n">barString</span> <span class="o">=</span> <span class="s">"Printing on a new line?\nNo Problem!"</span><span class="o">;</span>
    <span class="n">val</span> <span class="n">bazString</span> <span class="o">=</span> <span class="s">"Do you want to add a tab?\tNo Problem!"</span><span class="o">;</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooString</span><span class="o">);</span>
    <span class="n">println</span><span class="o">(</span><span class="n">barString</span><span class="o">);</span>
    <span class="n">println</span><span class="o">(</span><span class="n">bazString</span><span class="o">);</span>

    <span class="cm">/*
    原始字符串用三重引号(""")来定义。
    原始字符串可以包含换行符以及其他任何字符。
    */</span>
    <span class="n">val</span> <span class="n">fooRawString</span> <span class="o">=</span> <span class="s">"""
fun helloWorld(val name : String) {
   println("</span><span class="nc">Hello</span><span class="o">,</span> <span class="n">world</span><span class="o">!</span><span class="s">")
}
"""</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooRawString</span><span class="o">)</span>

    <span class="cm">/*
    字符串可以包含模板表达式。
    模板表达式从一个美元符号($)开始。
    */</span>
    <span class="n">val</span> <span class="n">fooTemplateString</span> <span class="o">=</span> <span class="s">"$fooString has ${fooString.length} characters"</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooTemplateString</span><span class="o">)</span> <span class="c1">// =&gt; 输出 My String Is Here! has 18 characters</span>

    <span class="cm">/*
    当某个变量的值可以为 null 的时候，我们必须明确指定它是可为空的。
    在变量声明处的类型后面加上?来标识它是可为空的。
    我们可以用?.操作符来访问可为空的变量。
    我们可以用?:操作符来指定一个在变量为空时使用的替代值。
    */</span>
    <span class="kt">var</span> <span class="nl">fooNullable:</span> <span class="nc">String</span><span class="o">?</span> <span class="o">=</span> <span class="s">"abc"</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooNullable</span><span class="o">?.</span><span class="na">length</span><span class="o">)</span> <span class="c1">// =&gt; 3</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooNullable</span><span class="o">?.</span><span class="na">length</span> <span class="o">?:</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="c1">// =&gt; 3</span>
    <span class="n">fooNullable</span> <span class="o">=</span> <span class="kc">null</span>
    <span class="nf">println</span><span class="o">(</span><span class="n">fooNullable</span><span class="o">?.</span><span class="na">length</span><span class="o">)</span> <span class="c1">// =&gt; null</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooNullable</span><span class="o">?.</span><span class="na">length</span> <span class="o">?:</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="c1">// =&gt; -1</span>

    <span class="cm">/*
    使用"fun"关键字来声明一个函数。
    函数的参数在函数名后面的括号内指定。
    函数的参数可以设定一个默认值。
    如果需要的话，函数的返回值类型可以在参数后面指定。
    */</span>
    <span class="n">fun</span> <span class="nf">hello</span><span class="o">(</span><span class="nl">name:</span> <span class="nc">String</span> <span class="o">=</span> <span class="s">"world"</span><span class="o">)</span> <span class="o">:</span> <span class="nc">String</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Hello, $name!"</span>
    <span class="o">}</span>
    <span class="n">println</span><span class="o">(</span><span class="n">hello</span><span class="o">(</span><span class="s">"foo"</span><span class="o">))</span> <span class="c1">// =&gt; Hello, foo!</span>
    <span class="n">println</span><span class="o">(</span><span class="n">hello</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"bar"</span><span class="o">))</span> <span class="c1">// =&gt; Hello, bar!</span>
    <span class="n">println</span><span class="o">(</span><span class="n">hello</span><span class="o">())</span> <span class="c1">// =&gt; Hello, world!</span>

    <span class="cm">/*
    函数的可变参数可使用 "vararg" 关键字来修饰
    */</span>
    <span class="n">fun</span> <span class="nf">varargExample</span><span class="o">(</span><span class="n">vararg</span> <span class="nl">names:</span> <span class="nc">Int</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="s">"Argument has ${names.size} elements"</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="n">varargExample</span><span class="o">()</span> <span class="c1">// =&gt; 传入 0 个参数</span>
    <span class="n">varargExample</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="c1">// =&gt; 传入 1 个参数</span>
    <span class="n">varargExample</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span> <span class="c1">// =&gt; 传入 3 个参数</span>

    <span class="cm">/*
    当函数只包含一个单独的表达式时，大括号可以省略。
    函数体可以写在一个=符号后面。
    */</span>
    <span class="n">fun</span> <span class="nf">odd</span><span class="o">(</span><span class="nl">x:</span> <span class="nc">Int</span><span class="o">):</span> <span class="nc">Boolean</span> <span class="o">=</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="n">println</span><span class="o">(</span><span class="n">odd</span><span class="o">(</span><span class="mi">6</span><span class="o">))</span> <span class="c1">// =&gt; false</span>
    <span class="n">println</span><span class="o">(</span><span class="n">odd</span><span class="o">(</span><span class="mi">7</span><span class="o">))</span> <span class="c1">// =&gt; true</span>

    <span class="c1">// 如果返回值类型可以推断，那么我们不需要指定它。</span>
    <span class="n">fun</span> <span class="nf">even</span><span class="o">(</span><span class="nl">x:</span> <span class="nc">Int</span><span class="o">)</span> <span class="o">=</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>
    <span class="n">println</span><span class="o">(</span><span class="n">even</span><span class="o">(</span><span class="mi">6</span><span class="o">))</span> <span class="c1">// =&gt; true</span>
    <span class="n">println</span><span class="o">(</span><span class="n">even</span><span class="o">(</span><span class="mi">7</span><span class="o">))</span> <span class="c1">// =&gt; false</span>

    <span class="c1">// 函数可以用函数作为参数并且可以返回函数。</span>
    <span class="n">fun</span> <span class="nf">not</span><span class="o">(</span><span class="nl">f:</span> <span class="o">(</span><span class="nc">Int</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">Boolean</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="nc">Int</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">Boolean</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">{</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="o">!</span><span class="n">f</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">n</span><span class="o">)}</span>
    <span class="o">}</span>
    <span class="c1">// 普通函数可以用::运算符传入引用作为函数参数。</span>
    <span class="n">val</span> <span class="n">notOdd</span> <span class="o">=</span> <span class="n">not</span><span class="o">(::</span><span class="n">odd</span><span class="o">)</span>
    <span class="n">val</span> <span class="n">notEven</span> <span class="o">=</span> <span class="n">not</span><span class="o">(::</span><span class="n">even</span><span class="o">)</span>
    <span class="c1">// lambda 表达式可以直接作为参数传递。</span>
    <span class="n">val</span> <span class="n">notZero</span> <span class="o">=</span> <span class="n">not</span> <span class="o">{</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="o">}</span>
    <span class="cm">/*
    如果一个 lambda 表达式只有一个参数
    那么它的声明可以省略（连同-&gt;），内部以 "it" 引用。
    */</span>
    <span class="n">val</span> <span class="n">notPositive</span> <span class="o">=</span> <span class="n">not</span> <span class="o">{</span><span class="n">it</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">}</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">i</span> <span class="n">in</span> <span class="mi">0</span><span class="o">..</span><span class="mi">4</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="s">"${notOdd(i)} ${notEven(i)} ${notZero(i)} ${notPositive(i)}"</span><span class="o">)</span>
    <span class="o">}</span>

    <span class="c1">// "class"关键字用来声明类。</span>
    <span class="kd">class</span> <span class="nf">ExampleClass</span><span class="o">(</span><span class="n">val</span> <span class="nl">x:</span> <span class="nc">Int</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">fun</span> <span class="nf">memberFunction</span><span class="o">(</span><span class="nl">y:</span> <span class="nc">Int</span><span class="o">)</span> <span class="o">:</span> <span class="nc">Int</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
        <span class="o">}</span>

        <span class="n">infix</span> <span class="n">fun</span> <span class="nf">infixMemberFunction</span><span class="o">(</span><span class="nl">y:</span> <span class="nc">Int</span><span class="o">)</span> <span class="o">:</span> <span class="nc">Int</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="cm">/*
    我们调用构造方法来创建一个新的实例。
    注意，Kotlin没有"new"关键字。
    */</span>
    <span class="n">val</span> <span class="n">fooExampleClass</span> <span class="o">=</span> <span class="nc">ExampleClass</span><span class="o">(</span><span class="mi">7</span><span class="o">)</span>
    <span class="c1">// 可以使用一个点号来调用成员方法。</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooExampleClass</span><span class="o">.</span><span class="na">memberFunction</span><span class="o">(</span><span class="mi">4</span><span class="o">))</span> <span class="c1">// =&gt; 11</span>
    <span class="cm">/*
    如果使用"infix"关键字来标记一个函数
    那么可以使用中缀表示法来调用该函数。
    */</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooExampleClass</span> <span class="n">infixMemberFunction</span> <span class="mi">4</span><span class="o">)</span> <span class="c1">// =&gt; 28</span>

    <span class="cm">/*
    数据类是创建只包含数据的类的一个简洁的方法。
    "hashCode"、"equals"和"toString"方法将自动生成。
    */</span>
    <span class="n">data</span> <span class="kd">class</span> <span class="nf">DataClassExample</span> <span class="o">(</span><span class="n">val</span> <span class="nl">x:</span> <span class="nc">Int</span><span class="o">,</span> <span class="n">val</span> <span class="nl">y:</span> <span class="nc">Int</span><span class="o">,</span> <span class="n">val</span> <span class="nl">z:</span> <span class="nc">Int</span><span class="o">)</span>
    <span class="n">val</span> <span class="n">fooData</span> <span class="o">=</span> <span class="nc">DataClassExample</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooData</span><span class="o">)</span> <span class="c1">// =&gt; DataClassExample(x=1, y=2, z=4)</span>

    <span class="c1">// 数据类有一个"copy"函数</span>
    <span class="n">val</span> <span class="n">fooCopy</span> <span class="o">=</span> <span class="n">fooData</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">y</span> <span class="o">=</span> <span class="mi">100</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooCopy</span><span class="o">)</span> <span class="c1">// =&gt; DataClassExample(x=1, y=100, z=4)</span>

    <span class="c1">// 对象可以被解构成为多个变量</span>
    <span class="n">val</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">)</span> <span class="o">=</span> <span class="n">fooCopy</span>
    <span class="nf">println</span><span class="o">(</span><span class="s">"$a $b $c"</span><span class="o">)</span> <span class="c1">// =&gt; 1 100 4</span>

    <span class="c1">// "with"函数类似于JavaScript中的"with"用法。</span>
    <span class="n">data</span> <span class="kd">class</span> <span class="nf">MutableDataClassExample</span> <span class="o">(</span><span class="kt">var</span> <span class="nl">x:</span> <span class="nc">Int</span><span class="o">,</span> <span class="kt">var</span> <span class="nl">y:</span> <span class="nc">Int</span><span class="o">,</span> <span class="kt">var</span> <span class="nl">z:</span> <span class="nc">Int</span><span class="o">)</span>
    <span class="n">val</span> <span class="n">fooMutableData</span> <span class="o">=</span> <span class="nc">MutableDataClassExample</span><span class="o">(</span><span class="mi">7</span><span class="o">,</span> <span class="mi">4</span><span class="o">,</span> <span class="mi">9</span><span class="o">)</span>
    <span class="n">with</span> <span class="o">(</span><span class="n">fooMutableData</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">x</span> <span class="o">-=</span> <span class="mi">2</span>
        <span class="n">y</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="n">z</span><span class="o">--</span>
    <span class="o">}</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooMutableData</span><span class="o">)</span> <span class="c1">// =&gt; MutableDataClassExample(x=5, y=6, z=8)</span>

    <span class="cm">/*
    我们可以使用"listOf"函数来创建一个list。
    这个list是不可变的 - 元素不可以被添加或删除。
    */</span>
    <span class="n">val</span> <span class="n">fooList</span> <span class="o">=</span> <span class="n">listOf</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"c"</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooList</span><span class="o">.</span><span class="na">size</span><span class="o">)</span> <span class="c1">// =&gt; 3</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooList</span><span class="o">.</span><span class="na">first</span><span class="o">())</span> <span class="c1">// =&gt; a</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooList</span><span class="o">.</span><span class="na">last</span><span class="o">())</span> <span class="c1">// =&gt; c</span>
    <span class="c1">// 可以通过索引来访问list中的元素。</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooList</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="c1">// =&gt; b</span>

    <span class="c1">// 可以使用"mutableListOf"函数来创建一个可变的list。</span>
    <span class="n">val</span> <span class="n">fooMutableList</span> <span class="o">=</span> <span class="n">mutableListOf</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"c"</span><span class="o">)</span>
    <span class="n">fooMutableList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"d"</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooMutableList</span><span class="o">.</span><span class="na">last</span><span class="o">())</span> <span class="c1">// =&gt; d</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooMutableList</span><span class="o">.</span><span class="na">size</span><span class="o">)</span> <span class="c1">// =&gt; 4</span>

    <span class="c1">// 我们可以使用"setOf"函数来创建一个set。</span>
    <span class="n">val</span> <span class="n">fooSet</span> <span class="o">=</span> <span class="n">setOf</span><span class="o">(</span><span class="s">"a"</span><span class="o">,</span> <span class="s">"b"</span><span class="o">,</span> <span class="s">"c"</span><span class="o">)</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooSet</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"a"</span><span class="o">))</span> <span class="c1">// =&gt; true</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooSet</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"z"</span><span class="o">))</span> <span class="c1">// =&gt; false</span>

    <span class="c1">// 我们可以使用"mapOf"函数来创建一个map。</span>
    <span class="n">val</span> <span class="n">fooMap</span> <span class="o">=</span> <span class="n">mapOf</span><span class="o">(</span><span class="s">"a"</span> <span class="n">to</span> <span class="mi">8</span><span class="o">,</span> <span class="s">"b"</span> <span class="n">to</span> <span class="mi">7</span><span class="o">,</span> <span class="s">"c"</span> <span class="n">to</span> <span class="mi">9</span><span class="o">)</span>
    <span class="c1">// 可以通过键来访问map中的值。</span>
    <span class="n">println</span><span class="o">(</span><span class="n">fooMap</span><span class="o">[</span><span class="s">"a"</span><span class="o">])</span> <span class="c1">// =&gt; 8</span>

    <span class="cm">/*
    序列表示惰性求值集合。
    我们可以使用"generateSequence"函数来创建一个序列。
    */</span>
    <span class="n">val</span> <span class="n">fooSequence</span> <span class="o">=</span> <span class="n">generateSequence</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="o">{</span><span class="n">it</span> <span class="o">+</span> <span class="mi">1</span><span class="o">})</span>
    <span class="n">val</span> <span class="n">x</span> <span class="o">=</span> <span class="n">fooSequence</span><span class="o">.</span><span class="na">take</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">toList</span><span class="o">()</span>
    <span class="n">println</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="c1">// =&gt; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>

    <span class="c1">// 一个用序列来生成斐波那契数列的例子。</span>
    <span class="n">fun</span> <span class="nf">fibonacciSequence</span><span class="o">()</span> <span class="o">:</span> <span class="nc">Sequence</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
        <span class="kt">var</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0L</span>
        <span class="kt">var</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">1L</span>

        <span class="n">fun</span> <span class="nf">next</span><span class="o">()</span> <span class="o">:</span> <span class="nc">Long</span> <span class="o">{</span>
            <span class="n">val</span> <span class="n">result</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">b</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">result</span>
            <span class="k">return</span> <span class="n">a</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="nf">generateSequence</span><span class="o">(::</span><span class="n">next</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="n">val</span> <span class="n">y</span> <span class="o">=</span> <span class="n">fibonacciSequence</span><span class="o">().</span><span class="na">take</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">toList</span><span class="o">()</span>
    <span class="n">println</span><span class="o">(</span><span class="n">y</span><span class="o">)</span> <span class="c1">// =&gt; [1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span>

    <span class="c1">// Kotlin为集合提供高阶函数。</span>
    <span class="n">val</span> <span class="n">z</span> <span class="o">=</span> <span class="o">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">9</span><span class="o">).</span><span class="na">map</span> <span class="o">{</span><span class="n">it</span> <span class="o">*</span> <span class="mi">3</span><span class="o">}</span>
                  <span class="o">.</span><span class="na">filter</span> <span class="o">{</span><span class="n">it</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="o">}</span>
                  <span class="o">.</span><span class="na">groupBy</span> <span class="o">{</span><span class="n">it</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">}</span>
                  <span class="o">.</span><span class="na">mapKeys</span> <span class="o">{</span><span class="k">if</span> <span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">key</span><span class="o">)</span> <span class="s">"even"</span> <span class="k">else</span> <span class="s">"odd"</span><span class="o">}</span>
    <span class="n">println</span><span class="o">(</span><span class="n">z</span><span class="o">)</span> <span class="c1">// =&gt; {odd=[3, 9, 15], even=[6, 12, 18]}</span>

    <span class="c1">// 任何提供迭代器的都可以使用"for"循环。</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">c</span> <span class="n">in</span> <span class="s">"hello"</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="n">c</span><span class="o">)</span>
    <span class="o">}</span>

    <span class="c1">// "while"循环的用法和其他语言一样。</span>
    <span class="kt">var</span> <span class="n">ctr</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="o">(</span><span class="n">ctr</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="n">ctr</span><span class="o">)</span>
        <span class="n">ctr</span><span class="o">++</span>
    <span class="o">}</span>
    <span class="k">do</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="n">ctr</span><span class="o">)</span>
        <span class="n">ctr</span><span class="o">++</span>
    <span class="o">}</span> <span class="k">while</span> <span class="o">(</span><span class="n">ctr</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">)</span>

    <span class="c1">// "when"可以用来替代"if-else if"链。</span>
    <span class="n">val</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">when</span> <span class="o">{</span>
        <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">7</span> <span class="o">-&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">"first block"</span><span class="o">)</span>
        <span class="n">fooString</span><span class="o">.</span><span class="na">startsWith</span><span class="o">(</span><span class="s">"hello"</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">"second block"</span><span class="o">)</span>
        <span class="k">else</span> <span class="o">-&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">"else block"</span><span class="o">)</span>
    <span class="o">}</span>

    <span class="c1">// "when"可以带参数。</span>
    <span class="n">when</span> <span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="mi">0</span><span class="o">,</span> <span class="mi">21</span> <span class="o">-&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">"0 or 21"</span><span class="o">)</span>
        <span class="n">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="o">-&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">"in the range 1 to 20"</span><span class="o">)</span>
        <span class="k">else</span> <span class="o">-&gt;</span> <span class="n">println</span><span class="o">(</span><span class="s">"none of the above"</span><span class="o">)</span>
    <span class="o">}</span>

    <span class="c1">// "when"可以作为一个函数，提供返回值。</span>
    <span class="kt">var</span> <span class="n">result</span> <span class="o">=</span> <span class="n">when</span> <span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="mi">0</span><span class="o">,</span> <span class="mi">21</span> <span class="o">-&gt;</span> <span class="s">"0 or 21"</span>
        <span class="n">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="o">-&gt;</span> <span class="s">"in the range 1 to 20"</span>
        <span class="k">else</span> <span class="o">-&gt;</span> <span class="s">"none of the above"</span>
    <span class="o">}</span>
    <span class="n">println</span><span class="o">(</span><span class="n">result</span><span class="o">)</span>

    <span class="cm">/*
    我们可以通过使用"is"操作符来检查一个对象是否是某个类型的。
    如果对象通过了类型检查那么它可以作为该类型使用而不需要强制转换它。
    */</span>
    <span class="n">fun</span> <span class="nf">smartCastExample</span><span class="o">(</span><span class="nl">x:</span> <span class="nc">Any</span><span class="o">)</span> <span class="o">:</span> <span class="nc">Boolean</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="n">is</span> <span class="nc">Boolean</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// x自动转换为Boolean</span>
            <span class="k">return</span> <span class="n">x</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="n">is</span> <span class="nc">Int</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// x自动转换为Int</span>
            <span class="k">return</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="n">is</span> <span class="nc">String</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// x自动转换为String</span>
            <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="na">isNotEmpty</span><span class="o">()</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span>
        <span class="o">}</span>
    <span class="o">}</span>
    <span class="n">println</span><span class="o">(</span><span class="n">smartCastExample</span><span class="o">(</span><span class="s">"Hello, world!"</span><span class="o">))</span> <span class="c1">// =&gt; true</span>
    <span class="n">println</span><span class="o">(</span><span class="n">smartCastExample</span><span class="o">(</span><span class="s">""</span><span class="o">))</span> <span class="c1">// =&gt; false</span>
    <span class="n">println</span><span class="o">(</span><span class="n">smartCastExample</span><span class="o">(</span><span class="mi">5</span><span class="o">))</span> <span class="c1">// =&gt; true</span>
    <span class="n">println</span><span class="o">(</span><span class="n">smartCastExample</span><span class="o">(</span><span class="mi">0</span><span class="o">))</span> <span class="c1">// =&gt; false</span>
    <span class="n">println</span><span class="o">(</span><span class="n">smartCastExample</span><span class="o">(</span><span class="kc">true</span><span class="o">))</span> <span class="c1">// =&gt; true</span>

    <span class="cm">/*
    扩展是用来给一个类添加新的功能的。
    它类似于C#的扩展方法。
    */</span>
    <span class="n">fun</span> <span class="nc">String</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="nl">c:</span> <span class="nc">Char</span><span class="o">):</span> <span class="nc">String</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">filter</span> <span class="o">{</span><span class="n">it</span> <span class="o">!=</span> <span class="n">c</span><span class="o">}</span>
    <span class="o">}</span>
    <span class="n">println</span><span class="o">(</span><span class="s">"Hello, world!"</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="sc">'l'</span><span class="o">))</span> <span class="c1">// =&gt; Heo, word!</span>

    <span class="n">println</span><span class="o">(</span><span class="nc">EnumExample</span><span class="o">.</span><span class="na">A</span><span class="o">)</span> <span class="c1">// =&gt; A</span>
    <span class="n">println</span><span class="o">(</span><span class="nc">ObjectExample</span><span class="o">.</span><span class="na">hello</span><span class="o">())</span> <span class="c1">// =&gt; hello</span>
<span class="o">}</span>

<span class="c1">// 枚举类和Java的枚举类型类似。</span>
<span class="kd">enum</span> <span class="kd">class</span> <span class="nc">EnumExample</span> <span class="o">{</span>
    <span class="no">A</span><span class="o">,</span> <span class="no">B</span><span class="o">,</span> <span class="no">C</span>
<span class="o">}</span>

<span class="cm">/*
"object"关键字用来创建单例对象。
我们不能把它赋给一个变量，但我们可以通过它的名字引用它。
这类似于Scala的单例对象。
*/</span>
<span class="n">object</span> <span class="nc">ObjectExample</span> <span class="o">{</span>
    <span class="n">fun</span> <span class="nf">hello</span><span class="o">()</span> <span class="o">:</span> <span class="nc">String</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"hello"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3>进一步阅读</h3>

<ul>
<li><a href="https://kotlinlang.org/docs/tutorials/">Kotlin教程</a></li>
<li><a href="http://try.kotlinlang.org/">在您的浏览器中使用Kotlin</a></li>
<li><a href="http://kotlin.link/">Kotlin资源列表</a></li>
</ul>

    <hr>
    <p>有建议？或者发现什么错误？在Github上<a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">开一个issue</a>，或者发起<a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/zh-cn/kotlin-cn.html.markdown">pull request</a>！
    </p>
    <p class="contributed">
    原著S Webber，并由<a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/zh-cn/kotlin-cn.html.markdown">3个好心人</a>修改。
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="https://github.com/s-webber">S Webber</a>
    </p>

    <p>
      Translated by:
        <a href="https://github.com/lujimin">Jimin Lu</a>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>
    </body>
</html>
