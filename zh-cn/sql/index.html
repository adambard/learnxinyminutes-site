<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="zh-CN">
    <title>Learn SQL in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/zh-cn/sql/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <h1><a href="/">Y分钟速成X</a></h1>
      <h2>其中 X=SQL</h2>

      <div class="lang-choice">
        <label for="lang-select">语言:</label>
        <select id="lang-select" name="lang-select">
          <option value="zh-cn">中文 (简体)</option>
          <option value="ar" data-url="/ar/sql/">العربية</option>
          <option value="de" data-url="/de/sql/">Deutsch</option>
          <option value="en" data-url="/sql/">English</option>
          <option value="es" data-url="/es/sql/">español</option>
          <option value="fr" data-url="/fr/sql/">français</option>
          <option value="it" data-url="/it/sql/">italiano</option>
          <option value="pt-br" data-url="/pt-br/sql/">português (Brasil)</option>
          <option value="ru" data-url="/ru/sql/">русский</option>
          <option value="tr" data-url="/tr/sql/">Türkçe</option>
        </select>
      </div>
      <p class="filelink">
        源代码下载：
        <a href="/zh-cn/files/learnsql.sql">learnsql.sql</a>
      </p>
      <div id="doc">
<p>结构化查询语言(SQL)是一个ISO标准语言，用于创建和管理数据库，
这种数据库存储一系列表。不同的实现通常会添加特有的语言扩展;
<a href="http://troels.arvin.dk/db/rdbms/">不同SQL实现的比较(Comparison of different SQL implementat-
ions)</a>是一份很好的产品差
异参考文档。</p>
<p>不同的实现通常会提供一个命令行用于交互式键入命令和显示输出，
同时这些实现也会提供一种执行脚本文件的方法。(如何退出命令行
就是就是SQL中尚未被标准化部分的一个典型例子，绝大多数SQL实
现支持关键字QUIT、EXIT或者两者。)</p>
<p>本文的实例命令假设你已经加载了<a href="https://github.com/datacharmer/test_db">GitHub</a>上的<a href="https://dev.mysql.com/doc/employee/en/">MySQL示例员工数据库</a>。
运行脚本的语法取决于你使用的SQL实现。通常是一个命令行工具。</p>
<div class="highlight"><pre lang="sql"><span class="c1">-- 注释以两个连字符开始。命令以分号结束。</span>

<span class="c1">-- SQL关键字大小写不敏感。在下文的示例命令中关键字大写，</span>
<span class="c1">-- 因为大写更容易区分数据库、表和列名。</span>

<span class="c1">-- 创建和删除一个数据库。数据库名和表名是大小写敏感的。</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">someDatabase</span><span class="p">;</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">someDatabase</span><span class="p">;</span>

<span class="c1">-- 列出可用的数据库。</span>
<span class="k">SHOW</span><span class="w"> </span><span class="n">DATABASES</span><span class="p">;</span>

<span class="c1">-- 使用某个已经存在的数据库</span>
<span class="n">USE</span><span class="w"> </span><span class="n">employees</span><span class="p">;</span>

<span class="c1">-- 从当前的departments表，选择所有的行和列</span>
<span class="c1">-- 解释器的默认行为是将结果打印在屏幕上。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">departments</span><span class="p">;</span>

<span class="c1">-- 检索departments表中所有的行，但只取dept_no和dept_name列。</span>
<span class="c1">-- 一条命令可以跨越多行</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dept_no</span><span class="p">,</span>
<span class="w">       </span><span class="n">dept_name</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">departments</span><span class="p">;</span>

<span class="c1">-- 检索departments表中所有的行，但是只输出5行。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>

<span class="c1">-- 检索departments表中dept_name列包含子串&#39;en&#39;的行。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dept_name</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">dept_name</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;%en%&#39;</span><span class="p">;</span>

<span class="c1">-- 检索departmnets表中所有dept_name列值为&#39;S&#39;开头并且&#39;S&#39;后接4个字符的行。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">dept_name</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;S____&#39;</span><span class="p">;</span>

<span class="c1">-- 检索title表中所有行，不显示重复的行。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">titles</span><span class="p">;</span>

<span class="c1">-- 和上面的查询相同，但是以title的值排序(大小写敏感)。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">title</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">titles</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>

<span class="c1">-- 计算departments表的总行数。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">departments</span><span class="p">;</span>

<span class="c1">-- 计算departments表中dept_name列以&#39;en&#39;字段开头的行的数量。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">departments</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">dept_name</span><span class="w"> </span><span class="k">LIKE</span><span class="w"> </span><span class="s1">&#39;%en%&#39;</span><span class="p">;</span>

<span class="c1">-- 不同表中信息的JOIN: titles表显示谁有什么工作，员工编号，</span>
<span class="c1">-- 入职离职时间。检索这些信息，但是使用员工编号作为employees表</span>
<span class="c1">-- 的交叉引用，而不是直接使用员工编号，来获得每个员工的名和姓。</span>
<span class="c1">-- (同时只取10行)</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">employees</span><span class="p">.</span><span class="n">first_name</span><span class="p">,</span><span class="w"> </span><span class="n">employees</span><span class="p">.</span><span class="n">last_name</span><span class="p">,</span>
<span class="w">       </span><span class="n">titles</span><span class="p">.</span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">titles</span><span class="p">.</span><span class="n">from_date</span><span class="p">,</span><span class="w"> </span><span class="n">titles</span><span class="p">.</span><span class="n">to_date</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">titles</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">employees</span><span class="w"> </span><span class="k">ON</span>
<span class="w">       </span><span class="n">employees</span><span class="p">.</span><span class="n">emp_no</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">titles</span><span class="p">.</span><span class="n">emp_no</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>

<span class="c1">-- 列出所有数据库中所有的表。不同实现通常提供各自的快捷命令</span>
<span class="c1">-- 来列出当前使用数据库的所有表。</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">INFORMATION_SCHEMA</span><span class="p">.</span><span class="n">TABLES</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">TABLE_TYPE</span><span class="o">=</span><span class="s1">&#39;BASE TABLE&#39;</span><span class="p">;</span>

<span class="c1">-- 在当前使用的数据库中，创建一个名为tablename1的表，包含下</span>
<span class="c1">-- 述两列。许多其它选项可用于定制列，比如列的数据类型。</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tablename1</span><span class="w"> </span><span class="p">(</span><span class="n">fname</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="n">lname</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span>

<span class="c1">-- 向tablename1表插入一行数据。假设该表已经定义并且接受这些值。</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">tablename1</span><span class="w"> </span><span class="k">VALUES</span><span class="p">(</span><span class="s1">&#39;Richard&#39;</span><span class="p">,</span><span class="s1">&#39;Mutt&#39;</span><span class="p">);</span>

<span class="c1">-- 更新tablename1表中lname为&#39;Mutt&#39;的行fname的值改为&#39;John&#39;。</span>
<span class="k">UPDATE</span><span class="w"> </span><span class="n">tablename1</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">fname</span><span class="o">=</span><span class="s1">&#39;John&#39;</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">lname</span><span class="o">=</span><span class="s1">&#39;Mutt&#39;</span><span class="p">;</span>

<span class="c1">-- 删除tablename1表lname列以&#39;M&#39;开头的行。</span>
<span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">tablename1</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">lname</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;M%&#39;</span><span class="p">;</span>

<span class="c1">-- 删除tablename1表的所有行，留下空表。</span>
<span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">tablename1</span><span class="p">;</span>

<span class="c1">-- 删除整个tablename1表。</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">tablename1</span><span class="p">;</span>
</pre></div>

        <hr>
        <p>
          有建议？或者发现什么错误？在GitHub上<a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">开一个issue</a>，或者发起<a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/zh-cn/sql.md">pull request</a>！
        </p>
        <p class="contributed">
          原著Bob DuCharme，并由<a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/zh-cn/sql.md">2个好心人</a>修改。
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://bobdc.com/">Bob DuCharme</a>
          </p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const langSelect = document.getElementById('lang-select');
          langSelect?.addEventListener('change', () => {
            const selectedOption = langSelect.options[langSelect.selectedIndex];
            const url = selectedOption?.getAttribute('data-url');
            if (url) {
              window.location.href = url;
            }
          });
        });
      </script>
    </div>
  </body>
</html>