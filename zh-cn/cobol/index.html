<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="zh-CN">
    <title>Learn COBOL in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/zh-cn/cobol/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <div class="share">
        <span class="sharemsg">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fzh-cn%2Fcobol%2F&amp;text=Y%E5%88%86%E9%92%9F%E9%80%9F%E6%88%90X%2C+%E5%85%B6%E4%B8%AD+X%3DCOBOL">
            分享此页
          </a>
        </span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_twitter_large' displayText='Tweet'></span>
      </div>
      <h1><a href="/">Y分钟速成X</a></h1>
      <h2>其中 X=COBOL</h2>
      <p class="filelink">
        源代码下载：
        <a href="/zh-cn/files/learn.COB">learn.COB</a>
      </p>
      <div id="doc">
<p>COBOL是一门面向商业的语言，它从1960年最初设计以来被修订过数次。它被宣称仍然有超过80%的机构在使用它。</p>
<div class="highlight"><pre lang="cobol"><span class="c">      *COBOL. 最好是按照它1985年的标准来编程。 </span>
<span class="c">      *用附带GnuCOBOL编译器的OpenCobolIDE 4.7.6来编译。</span>
<span class="c">      </span><span class="w"> </span>
<span class="c">      *COBOL在老版（COBOL-85）和新版（COBOL-2002以及COBOL-2014）之间有明显的差别。</span>
<span class="c">      *老版COBOL要求编码的前一到六列是空着的（它们被用来存储穿孔卡片的序列号...</span>
<span class="c">      *第七列的一个“*”符号表示注释的开始。</span>
<span class="c">      *在老版COBOL中，一条以*开头的注释最长只能占一行，</span>
<span class="c">      *新版COBOL不需要额外的列来补序列号，并且用“*&gt;&quot; 来注释，允许在行中开始注释</span>
<span class="c">      *老版COBOL也强加了对最大行长度的限制</span>
<span class="c">      *关键字在老版COBOL中必须大写，</span>
<span class="c">      *但在新版COBOL中不区分大小写</span>
<span class="c">      *虽然新版COBOL允许你编写大小写混合的代码</span>
<span class="c">      *但是在大多数情况下编写COBOL代码时全用大写字符</span>
<span class="c">      *大多数专业的COBOL开发者都是这么做的。</span>
<span class="c">      *COBOL语句以句点结尾。</span>
<span class="c">      </span>
<span class="c">      *COBOL代码被拆成了四个部。</span>
<span class="c">      *各部按顺序，它们是:</span>
<span class="c">      *IDENTIFICATION DIVSION.（标识部）</span>
<span class="c">      *ENVIRONMENT DIVISION.（环境部）</span>
<span class="c">      *DATA DIVISION.（数据部）</span>
<span class="c">      *PROCEDURE DIVISION.（过程部）</span>

<span class="c">      *第一步，我们必须给我们的程序一个ID。</span>
<span class="c">      *Identification division 也能包含其他的值，</span>
<span class="c">      *但它们都只是程序的元数据。Program-id是唯一一个必须给出的值。</span>
<span class="c">      </span><span class="w"> </span><span class="kr">IDENTIFICATION</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="w">     </span><span class="kr">PROGRAM-ID</span><span class="p">.</span><span class="w">    </span><span class="nv">LEARN</span><span class="p">.</span>
<span class="c">      </span><span class="w">     </span><span class="nv">AUTHOR</span><span class="p">.</span><span class="w">        </span><span class="nv">JOHN</span><span class="w"> </span><span class="nv">DOE</span><span class="p">.</span>
<span class="c">      </span><span class="w">     </span><span class="nv">DATE-WRITTEN</span><span class="p">.</span><span class="w">  </span><span class="mi">05</span><span class="o">/</span><span class="mi">02</span><span class="o">/</span><span class="mi">2020</span><span class="p">.</span>

<span class="c">      *让我们来声明一些变量。</span>
<span class="c">      *我们要在DATA DIVISION的WORKING-STORAGE节来完成这个事情。</span>
<span class="c">      *每个数据项（又名变量）从一个级别编号开始。</span>
<span class="c">      *然后是数据项的名字，后边再跟着一个picture关键字，</span>
<span class="c">      *来描述这个变量将要包含的数据的类型。</span>
<span class="c">      *几乎所有的COBOL开发者都会把PICTURE简写为PIC。</span>
<span class="c">      *A代表字母，X代表字母和数字，9代表数字。</span>
<span class="c">      </span><span class="w"> </span>
<span class="c">      *举例：</span>
<span class="c">      </span><span class="mi">01  </span><span class="nv">MYNAME</span><span class="w"> </span><span class="kt">PIC xxxxxxxxxx</span><span class="p">.</span><span class="w">    </span><span class="c">*&gt; 十个字符的字符串。</span>
<span class="c">      </span><span class="w"> </span>
<span class="c">      *但是逐个数那些x会导致错误，</span>
<span class="c">      *所以以上代码可以，并且应该</span>
<span class="c">      *这样重写：</span>
<span class="c">      </span><span class="mi">01 </span><span class="nv">MYNAME</span><span class="w"> </span><span class="kt">PIC X(10)</span><span class="p">.</span>
<span class="c">      </span><span class="w"> </span>
<span class="c">      *这是几个更多的例子：</span>
<span class="c">      </span><span class="mi">01  </span><span class="nv">AGE</span><span class="w">             </span><span class="kt">PIC      9(3)</span><span class="p">.</span><span class="w">   </span><span class="c">*&gt; 数字最多三位</span>
<span class="c">      </span><span class="mi">01  </span><span class="nv">LAST_NAME</span><span class="w">       </span><span class="kt">PIC      X(10)</span><span class="p">.</span><span class="w">  </span><span class="c">*&gt; 字符串最多十个字符</span>
<span class="c">      </span><span class="w"> </span>
<span class="c">      *在COBOL里，一行中多个空格和一个空格的效果是一样的， 所以通常</span>
<span class="c">      *情况下都用多个空格排列代码来便于</span>
<span class="c">      *其他的开发者阅读。</span>
<span class="c">      </span><span class="mi">01  </span><span class="nv">inyear</span><span class="w"> </span><span class="kt">picture s9(7)</span><span class="p">.</span><span class="w"> </span><span class="c">*&gt; S 使数字为正数.</span>
<span class="c">      </span><span class="w">                           </span><span class="c">*&gt; 括号里意思是重复7次9，</span>
<span class="c">      </span><span class="w">                           </span><span class="c">*&gt; 即六位数字（不是数组）</span>

<span class="c">      *现在让我们来写一点儿代码。这是一个简单的Hello World程序。</span>
<span class="c">      </span><span class="kr">IDENTIFICATION</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="kr">PROGRAM-ID</span><span class="p">.</span><span class="w"> </span><span class="nv">HELLO</span><span class="p">.</span>
<span class="c">      </span><span class="kr">DATA</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="kr">WORKING-STORAGE</span><span class="w"> </span><span class="kr">SECTION</span><span class="p">.</span>
<span class="c">      </span><span class="mi">01 </span><span class="nv">THE-MESSAGE</span><span class="w">      </span><span class="kt">PIC X(20)</span><span class="p">.</span>
<span class="c">      </span><span class="kr">PROCEDURE</span><span class="w"> </span><span class="nv">DIVSION</span><span class="p">.</span>
<span class="c">      </span><span class="w">    </span><span class="kr">DISPLAY </span><span class="s2">&quot;STARTING PROGRAM&quot;</span><span class="p">.</span>
<span class="c">      </span><span class="w">    </span><span class="kr">MOVE </span><span class="s2">&quot;HELLO WORLD&quot;</span><span class="w"> </span><span class="kp">TO</span><span class="w"> </span><span class="nv">THE-MESSAGE</span><span class="p">.</span>
<span class="c">      </span><span class="w">    </span><span class="kr">DISPLAY</span><span class="w"> </span><span class="nv">THE-MESSAGE</span><span class="p">.</span>
<span class="c">      </span><span class="w">    </span><span class="kr">STOP</span><span class="w"> </span><span class="kp">RUN</span><span class="p">.</span>
<span class="c">      </span>
<span class="c">      *以上的代码会输出：</span>
<span class="c">      *STARTING PROGRAM</span>
<span class="c">      *HELLO WORLD</span>
<span class="c">      </span>

<span class="c">      </span>
<span class="c">      ********用COBOL可以做数学运算***************</span>
<span class="c">      </span><span class="kr">ADD</span><span class="w"> </span><span class="mi">1 </span><span class="kp">TO</span><span class="w"> </span><span class="nv">AGE</span><span class="w"> </span><span class="kp">GIVING</span><span class="w"> </span><span class="nv">NEW-AGE</span><span class="p">.</span>
<span class="c">      </span><span class="kr">SUBTRACT</span><span class="w"> </span><span class="mi">1 </span><span class="kp">FROM</span><span class="w"> </span><span class="kp">COUNT</span><span class="p">.</span>
<span class="c">      </span><span class="kr">DIVIDE</span><span class="w"> </span><span class="nv">VAR-1</span><span class="w"> </span><span class="kp">INTO</span><span class="w"> </span><span class="nv">VAR-2</span><span class="w"> </span><span class="kp">GIVING</span><span class="w"> </span><span class="nv">VAR-3</span><span class="p">.</span>
<span class="c">      </span><span class="kr">COMPUTE</span><span class="w"> </span><span class="nv">TOTAL-COUNT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">COUNT1</span><span class="w"> </span><span class="kp">PLUS</span><span class="w"> </span><span class="nv">COUNT2</span><span class="p">.</span>
<span class="c">      </span>
<span class="c">      </span>
<span class="c">      *********PERFORM********************</span>
<span class="c">      *PERFORM关键字允许你跳到代码中其他特殊的代码段，</span>
<span class="c">      *当这段特殊的代码被执行完后继续回来执行下面的可执行语句。 </span>
<span class="c">      *你必须把PERFORM这个词写完整，不可以缩写它。</span>

<span class="c">      </span><span class="kr">IDENTIFICATION</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="kr">PROGRAM-ID</span><span class="p">.</span><span class="w"> </span><span class="nv">HELLOCOBOL</span><span class="p">.</span>

<span class="c">      </span><span class="kr">PROCEDURE</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="w">   </span><span class="nv">FIRST-PARA</span><span class="p">.</span>
<span class="c">      </span><span class="w">       </span><span class="kr">DISPLAY </span><span class="s1">&#39;THIS IS IN FIRST-PARA&#39;</span><span class="p">.</span>
<span class="c">      </span><span class="w">   </span><span class="kr">PERFORM</span><span class="w"> </span><span class="nv">THIRD-PARA</span><span class="w"> </span><span class="kp">THRU</span><span class="w"> </span><span class="nv">FOURTH-PARA</span><span class="p">.</span><span class="w"> </span><span class="c">*&gt;跳过second-para，执行3rd&amp;4th</span>
<span class="c">      </span><span class="w">   </span><span class="c">*&gt; 之后当third和fourth执行完，</span>
<span class="c">      </span><span class="w">   </span><span class="c">*&gt; 回到这里继续往下执行直到遇到STOP RUN.</span>
<span class="w">   </span>
<span class="c">      </span><span class="w">   </span><span class="nv">SECOND-PARA</span><span class="p">.</span>
<span class="c">      </span><span class="w">       </span><span class="kr">DISPLAY </span><span class="s1">&#39;THIS IS IN SECOND-PARA&#39;</span><span class="p">.</span>
<span class="c">      </span><span class="w">   </span><span class="kr">STOP</span><span class="w"> </span><span class="kp">RUN</span><span class="p">.</span>
<span class="w">   </span>
<span class="c">      </span><span class="w">   </span><span class="nv">THIRD-PARA</span><span class="p">.</span>
<span class="c">      </span><span class="w">       </span><span class="kr">DISPLAY </span><span class="s1">&#39;THIS IS IN THIRD-PARA&#39;</span><span class="p">.</span>
<span class="w">   </span>
<span class="c">      </span><span class="w">   </span><span class="nv">FOURTH-PARA</span><span class="p">.</span>
<span class="c">      </span><span class="w">       </span><span class="kr">DISPLAY </span><span class="s1">&#39;THIS IS IN FOURTH-PARA&#39;</span><span class="p">.</span>
<span class="w">   </span>
<span class="w">   </span>
<span class="c">      *当你编译执行以上程序时，它会生成以下结果：</span>
<span class="c">      </span><span class="w">    </span><span class="nv">THIS</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">IN</span><span class="w"> </span><span class="nv">FIRST-PARA</span>
<span class="c">      </span><span class="w">    </span><span class="nv">THIS</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">IN</span><span class="w"> </span><span class="nv">THIRD-PARA</span>
<span class="c">      </span><span class="w">    </span><span class="nv">THIS</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">IN</span><span class="w"> </span><span class="nv">FOURTH-PARA</span>
<span class="c">      </span><span class="w">    </span><span class="nv">THIS</span><span class="w"> </span><span class="kp">IS</span><span class="w"> </span><span class="kp">IN</span><span class="w"> </span><span class="nv">SECOND-PARA</span>
<span class="c">      </span><span class="w">    </span>
<span class="c">      </span><span class="w">    </span>
<span class="c">      **********用STRING关键字把变量组合到一起************</span>
<span class="c">      </span>
<span class="c">      *现在是时候学习两个类似的COBOL动词了：string和unstring。.</span>

<span class="c">      *string动词经常被用来连接两个或多个字符串（把它们拼在一起）。</span>
<span class="c">      *没什么特别的，Unstring被用来把一个字符串拆分成两个或多个更小的字符串。       </span>
<span class="c">      *当你在程序中使用string或unstring时不要忘记使用”delimited by“，这个很重要。</span>
<span class="c">      </span>
<span class="c">      </span><span class="kr">IDENTIFICATION</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="kr">PROGRAM-ID</span><span class="p">.</span><span class="w"> </span><span class="nv">LEARNING</span><span class="p">.</span>
<span class="c">      </span><span class="kr">ENVIRONMENT</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="kr">DATA</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="kr">WORKING-STORAGE</span><span class="w"> </span><span class="kr">SECTION</span><span class="p">.</span>
<span class="c">      </span><span class="mi">01 </span><span class="nv">FULL-NAME</span><span class="w"> </span><span class="kt">PIC X(20)</span><span class="p">.</span>
<span class="c">      </span><span class="mi">01 </span><span class="nv">FIRST-NAME</span><span class="w"> </span><span class="kt">PIC X(13)</span><span class="w"> </span><span class="kp">VALUE </span><span class="s2">&quot;BOB GIBBERISH&quot;</span><span class="p">.</span>
<span class="c">      </span><span class="mi">01 </span><span class="nv">LAST-NAME</span><span class="w"> </span><span class="kt">PIC X(5)</span><span class="w"> </span><span class="kp">VALUE </span><span class="s2">&quot;COBB&quot;</span><span class="p">.</span>
<span class="c">      </span><span class="kr">PROCEDURE</span><span class="w"> </span><span class="kr">DIVISION</span><span class="p">.</span>
<span class="c">      </span><span class="w">    </span><span class="kr">STRING</span><span class="w"> </span><span class="nv">FIRST-NAME</span><span class="w"> </span><span class="kp">DELIMITED</span><span class="w"> </span><span class="kp">BY</span><span class="w"> </span><span class="no">SPACE</span>
<span class="no">            </span><span class="s2">&quot; &quot;</span>
<span class="c">      </span><span class="w">      </span><span class="nv">LAST-NAME</span><span class="w"> </span><span class="kp">DELIMITED</span><span class="w"> </span><span class="kp">BY</span><span class="w"> </span><span class="kp">SIZE</span>
<span class="kp">           </span><span class="w"> </span><span class="kp">INTO</span><span class="w"> </span><span class="nv">FULL-NAME</span>
<span class="c">      </span><span class="w">    </span><span class="kr">END-STRING</span><span class="p">.</span>
<span class="c">      </span><span class="w">    </span><span class="kr">DISPLAY </span><span class="s2">&quot;THE FULL NAME IS: &quot;</span><span class="nv">FULL-NAME</span><span class="p">.</span>
<span class="c">      </span><span class="kr">STOP</span><span class="w"> </span><span class="kp">RUN</span><span class="p">.</span>


<span class="c">      *以上代码将会输出：</span>
<span class="c">      </span><span class="nv">THE</span><span class="w"> </span><span class="kp">FULL</span><span class="w"> </span><span class="nv">NAME</span><span class="w"> </span><span class="kp">IS</span><span class="p">:</span><span class="w"> </span><span class="nv">BOB</span><span class="w"> </span><span class="nv">COBB</span>


<span class="c">      *让我们来看看为什么是这样。</span>

<span class="c">      *首先，我们在DATA DIVISION声明了所有的变量，</span>
<span class="c">      *包括我们想存储string命令生成的新字符串用到的的变量。</span>

<span class="c">      *这个操作过程在PROCEDURE DIVISION完成。</span>
<span class="c">      *我们从STRING 关键字开始，到END-STRING结束。         </span>
<span class="c">      *在它们之间我们列出我们想要组合变量形成更大的主变量的过程。</span>
<span class="c">      *这里，我们组合了FIRST-NAME, 一个空格和LAST-NAME。</span>

<span class="c">      *跟在FIRST-NAME和LAST-NAME后面的DELIMITED BY短语告诉程序我们想要在各自变量上截取字符的规则。</span>
<span class="c">      *DELIMITED BY SPACE告诉程序从最开始截取字符直到遇到一个空格。</span>
<span class="c">      *DELIMITED BY SIZE告诉程序截取字符的完整长度。</span>
<span class="c">      *我们在FIRST-NAME后面使用DELIMITED BY SPACE，字符串中的GIBBERISH部分就被忽略了。</span>

<span class="c">      *为了更清楚，改变代码中的第10行如下:</span>

<span class="c">      </span><span class="kr">STRING</span><span class="w"> </span><span class="nv">FIRST-NAME</span><span class="w"> </span><span class="kp">DELIMITED</span><span class="w"> </span><span class="kp">BY</span><span class="w"> </span><span class="kp">SIZE</span>

<span class="kp">      </span><span class="o">*</span><span class="err">然后重新执行程序</span><span class="p">.</span><span class="w"> </span><span class="err">这次的输出变成</span><span class="p">:</span>

<span class="c">      </span><span class="nv">THE</span><span class="w"> </span><span class="kp">FULL</span><span class="w"> </span><span class="nv">NAME</span><span class="w"> </span><span class="kp">IS</span><span class="p">:</span><span class="w"> </span><span class="nv">BOB</span><span class="w"> </span><span class="nv">GIBBERISH</span><span class="w"> </span><span class="nv">COBB</span>
</pre></div>
<h2>想了解更多吗?</h2>
<ul>
<li><a href="https://sourceforge.net/projects/open-cobol/">GnuCOBOL</a></li>
</ul>

        <hr>
        <p>
          有建议？或者发现什么错误？在GitHub上<a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">开一个issue</a>，或者发起<a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/zh-cn/cobol.md">pull request</a>！
        </p>
        <p class="contributed">
          原著Hyphz，并由<a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/zh-cn/cobol.md">1个好心人</a>修改。
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 88px; height: 31px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://github.com/hyphz/">Hyphz</a>
          </p>
        </footer>
      </div>
    </div>
  </body>
</html>