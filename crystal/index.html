<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="en">
    <title>Learn Crystal in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/crystal/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <h1><a href="/">Learn X in Y minutes</a></h1>
      <h2>Where X=Crystal</h2>

      <div class="lang-choice">
        <label for="lang-select">Language:</label>
        <select id="lang-select" name="lang-select">
          <option value="en">English</option>
          <option value="de" data-url="/de/crystal/">Deutsch</option>
          <option value="fr" data-url="/fr/crystal/">français</option>
          <option value="ru" data-url="/ru/crystal/">русский</option>
          <option value="zh-cn" data-url="/zh-cn/crystal/">中文 (简体)</option>
        </select>
      </div>
      <p class="filelink">
        Get the code:
        <a href="/files/learncrystal.cr">learncrystal.cr</a>
      </p>
      <div id="doc">
<div class="highlight"><pre lang="crystal"><span class="c1"># This is a comment</span>

<span class="c1"># Everything is an object</span>
<span class="kc">nil</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; Nil</span>
<span class="mi">100</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; Int32</span>
<span class="kc">true</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Bool</span>

<span class="c1"># Falsey values are: nil, false and null pointers</span>
<span class="o">!</span><span class="kc">nil</span><span class="w">   </span><span class="c1">#=&gt; true  : Bool</span>
<span class="o">!</span><span class="kc">false</span><span class="w"> </span><span class="c1">#=&gt; true  : Bool</span>
<span class="o">!</span><span class="mi">0</span><span class="w">     </span><span class="c1">#=&gt; false : Bool</span>

<span class="c1"># Integers</span>

<span class="mi">1</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Int32</span>

<span class="c1"># Five signed integer types</span>
<span class="mi">1_i8</span><span class="o">.</span><span class="n">class</span><span class="w">   </span><span class="c1">#=&gt; Int8</span>
<span class="mi">1_i16</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; Int16</span>
<span class="mi">1_i32</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; Int32</span>
<span class="mi">1_i64</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; Int64</span>
<span class="mi">1_i128</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Int128</span>

<span class="c1"># Five unsigned integer types</span>
<span class="mi">1_u8</span><span class="o">.</span><span class="n">class</span><span class="w">   </span><span class="c1">#=&gt; UInt8</span>
<span class="mi">1_u16</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; UInt16</span>
<span class="mi">1_u32</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; UInt32</span>
<span class="mi">1_u64</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; UInt64</span>
<span class="mi">1_u128</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; UInt128</span>

<span class="mi">2147483648</span><span class="o">.</span><span class="n">class</span><span class="w">          </span><span class="c1">#=&gt; Int64</span>
<span class="mi">9223372036854775808</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; UInt64</span>

<span class="c1"># Binary numbers</span>
<span class="mb">0b1101</span><span class="w"> </span><span class="c1">#=&gt; 13 : Int32</span>

<span class="c1"># Octal numbers</span>
<span class="mo">0o123</span><span class="w"> </span><span class="c1">#=&gt; 83 : Int32</span>

<span class="c1"># Hexadecimal numbers</span>
<span class="mh">0xFE012D</span><span class="w"> </span><span class="c1">#=&gt; 16646445 : Int32</span>
<span class="mh">0xfe012d</span><span class="w"> </span><span class="c1">#=&gt; 16646445 : Int32</span>

<span class="c1"># Floats</span>

<span class="mf">1.0</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Float64</span>

<span class="c1"># There are two floating point types</span>
<span class="mf">1.0_f32</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Float32</span>
<span class="mf">1_f32</span><span class="o">.</span><span class="n">class</span><span class="w">   </span><span class="c1">#=&gt; Float32</span>

<span class="mf">1e10</span><span class="o">.</span><span class="n">class</span><span class="w">    </span><span class="c1">#=&gt; Float64</span>
<span class="mf">1.5e10</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; Float64</span>
<span class="mf">1.5e-7</span><span class="o">.</span><span class="n">class</span><span class="w">  </span><span class="c1">#=&gt; Float64</span>

<span class="c1"># Chars use &#39;a&#39; pair of single quotes</span>

<span class="sc">&#39;a&#39;</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Char</span>

<span class="c1"># Chars are 32-bit unicode</span>
<span class="sc">&#39;あ&#39;</span><span class="w"> </span><span class="c1">#=&gt; &#39;あ&#39; : Char</span>

<span class="c1"># Unicode codepoint</span>
<span class="sc">&#39;\u0041&#39;</span><span class="w"> </span><span class="c1">#=&gt; &#39;A&#39; : Char</span>

<span class="c1"># Strings use a &quot;pair&quot; of double quotes</span>

<span class="s2">&quot;s&quot;</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; String</span>

<span class="c1"># Strings are immutable</span>
<span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello, &quot;</span><span class="w">  </span><span class="c1">#=&gt; &quot;hello, &quot;        : String</span>
<span class="n">s</span><span class="o">.</span><span class="n">object_id</span><span class="w">    </span><span class="c1">#=&gt; 134667712        : UInt64</span>
<span class="n">s</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">&quot;Crystal&quot;</span>
<span class="n">s</span><span class="w">              </span><span class="c1">#=&gt; &quot;hello, Crystal&quot; : String</span>
<span class="n">s</span><span class="o">.</span><span class="n">object_id</span><span class="w">    </span><span class="c1">#=&gt; 142528472        : UInt64</span>

<span class="c1"># Supports interpolation</span>
<span class="s2">&quot;sum = </span><span class="si">#{</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1">#=&gt; &quot;sum = 3&quot; : String</span>

<span class="c1"># Multiline string</span>
<span class="s2">&quot;This is</span>
<span class="s2">   multiline string&quot;</span><span class="w"> </span><span class="c1">#=&gt; &quot;This is\n   multiline string&quot;</span>


<span class="c1"># String with double quotes</span>
<span class="sx">%(hello &quot;world&quot;)</span><span class="w"> </span><span class="c1">#=&gt; &quot;hello \&quot;world\&quot;&quot;</span>

<span class="c1"># Symbols</span>
<span class="c1"># Immutable, reusable constants represented internally as Int32 integer value.</span>
<span class="c1"># They&#39;re often used instead of strings to efficiently convey specific,</span>
<span class="c1"># meaningful values</span>

<span class="ss">:symbol</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Symbol</span>

<span class="n">sentence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:question?</span><span class="w">     </span><span class="c1"># :&quot;question?&quot; : Symbol</span>

<span class="n">sentence</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">:question?</span><span class="w">    </span><span class="c1">#=&gt; true  : Bool</span>
<span class="n">sentence</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">:exclamation!</span><span class="w"> </span><span class="c1">#=&gt; false : Bool</span>
<span class="n">sentence</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;question?&quot;</span><span class="w">   </span><span class="c1">#=&gt; false : Bool</span>

<span class="c1"># Arrays</span>

<span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">].</span><span class="n">class</span><span class="w">         </span><span class="c1">#=&gt; Array(Int32)</span>
<span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;x&#39;</span><span class="o">].</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Array(Char | Int32 | String)</span>

<span class="c1"># Empty arrays should specify a type</span>
<span class="o">[]</span><span class="w">               </span><span class="c1"># Syntax error: for empty arrays use &#39;[] of ElementType&#39;</span>
<span class="o">[]</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Int32</span><span class="w">      </span><span class="c1">#=&gt; [] : Array(Int32)</span>
<span class="n">Array</span><span class="p">(</span><span class="n">Int32</span><span class="p">)</span><span class="o">.</span><span class="n">new</span><span class="w"> </span><span class="c1">#=&gt; [] : Array(Int32)</span>

<span class="c1"># Arrays can be indexed</span>
<span class="n">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="o">]</span><span class="w"> </span><span class="c1">#=&gt; [1, 2, 3, 4, 5] : Array(Int32)</span>
<span class="n">array</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w">                </span><span class="c1">#=&gt; 1               : Int32</span>
<span class="n">array</span><span class="o">[</span><span class="mi">10</span><span class="o">]</span><span class="w">               </span><span class="c1"># raises IndexError</span>
<span class="n">array</span><span class="o">[-</span><span class="mi">6</span><span class="o">]</span><span class="w">               </span><span class="c1"># raises IndexError</span>
<span class="n">array</span><span class="o">[</span><span class="mi">10</span><span class="o">]?</span><span class="w">              </span><span class="c1">#=&gt; nil             : (Int32 | Nil)</span>
<span class="n">array</span><span class="o">[-</span><span class="mi">6</span><span class="o">]?</span><span class="w">              </span><span class="c1">#=&gt; nil             : (Int32 | Nil)</span>

<span class="c1"># From the end</span>
<span class="n">array</span><span class="o">[-</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="c1">#=&gt; 5</span>

<span class="c1"># With a start index and size</span>
<span class="n">array</span><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="c1">#=&gt; [3, 4, 5]</span>

<span class="c1"># Or with range</span>
<span class="n">array</span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="c1">#=&gt; [2, 3, 4]</span>

<span class="c1"># Add to an array</span>
<span class="n">array</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">6</span><span class="w">  </span><span class="c1">#=&gt; [1, 2, 3, 4, 5, 6]</span>

<span class="c1"># Remove from the end of the array</span>
<span class="n">array</span><span class="o">.</span><span class="n">pop</span><span class="w"> </span><span class="c1">#=&gt; 6</span>
<span class="n">array</span><span class="w">     </span><span class="c1">#=&gt; [1, 2, 3, 4, 5]</span>

<span class="c1"># Remove from the beginning of the array</span>
<span class="n">array</span><span class="o">.</span><span class="n">shift</span><span class="w"> </span><span class="c1">#=&gt; 1</span>
<span class="n">array</span><span class="w">       </span><span class="c1">#=&gt; [2, 3, 4, 5]</span>

<span class="c1"># Check if an item exists in an array</span>
<span class="n">array</span><span class="o">.</span><span class="n">includes?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="c1">#=&gt; true</span>

<span class="c1"># Special syntax for an array of string and an array of symbols</span>
<span class="sx">%w(one two three)</span><span class="w"> </span><span class="c1">#=&gt; [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;] : Array(String)</span>
<span class="sx">%i(one two three)</span><span class="w"> </span><span class="c1">#=&gt; [:one, :two, :three]    : Array(Symbol)</span>

<span class="c1"># There is a special array syntax with other types too, as long as</span>
<span class="c1"># they define a .new and a #&lt;&lt; method</span>
<span class="n">set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Set</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span><span class="w"> </span><span class="c1">#=&gt; Set{1, 2, 3}</span>
<span class="n">set</span><span class="o">.</span><span class="n">class</span><span class="w">          </span><span class="c1">#=&gt; Set(Int32)</span>

<span class="c1"># The above is equivalent to</span>
<span class="n">set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Set</span><span class="p">(</span><span class="kp">typeof</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">new</span><span class="w"> </span><span class="c1">#=&gt; Set{} : Set(Int32)</span>
<span class="n">set</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w">                       </span><span class="c1">#=&gt; Set{1} : Set(Int32)</span>
<span class="n">set</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w">                       </span><span class="c1">#=&gt; Set{1, 2} : Set(Int32)</span>
<span class="n">set</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w">                       </span><span class="c1">#=&gt; Set{1, 2, 3} : Set(Int32)</span>

<span class="c1"># Hashes</span>

<span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">4</span><span class="p">}</span><span class="o">.</span><span class="n">class</span><span class="w">   </span><span class="c1">#=&gt; Hash(Int32, Int32)</span>
<span class="p">{</span><span class="mi">1</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Hash(Char| Int32, Int32)</span>

<span class="c1"># Empty hashes must specify a type</span>
<span class="p">{}</span><span class="w">                     </span><span class="c1"># Syntax Error: for empty hashes use &#39;{} of KeyType =&gt; ValueType&#39;</span>
<span class="p">{}</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">Int32</span><span class="w">   </span><span class="c1"># {} : Hash(Int32, Int32)</span>
<span class="n">Hash</span><span class="p">(</span><span class="n">Int32</span><span class="p">,</span><span class="w"> </span><span class="n">Int32</span><span class="p">)</span><span class="o">.</span><span class="n">new</span><span class="w"> </span><span class="c1"># {} : Hash(Int32, Int32)</span>

<span class="c1"># Hashes can be quickly looked up by key</span>
<span class="n">hash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s2">&quot;green&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
<span class="n">hash</span><span class="o">[</span><span class="s2">&quot;color&quot;</span><span class="o">]</span><span class="w">        </span><span class="c1">#=&gt; &quot;green&quot;</span>
<span class="n">hash</span><span class="o">[</span><span class="s2">&quot;no_such_key&quot;</span><span class="o">]</span><span class="w">  </span><span class="c1">#=&gt; Missing hash key: &quot;no_such_key&quot; (KeyError)</span>
<span class="n">hash</span><span class="o">[</span><span class="s2">&quot;no_such_key&quot;</span><span class="o">]?</span><span class="w"> </span><span class="c1">#=&gt; nil</span>

<span class="c1"># The type of the returned value is based on all key types</span>
<span class="n">hash</span><span class="o">[</span><span class="s2">&quot;number&quot;</span><span class="o">]</span><span class="w"> </span><span class="c1">#=&gt; 5 : (Int32 | String)</span>

<span class="c1"># Check existence of keys hash</span>
<span class="n">hash</span><span class="o">.</span><span class="n">has_key?</span><span class="w"> </span><span class="s2">&quot;color&quot;</span><span class="w"> </span><span class="c1">#=&gt; true</span>

<span class="c1"># Special notation for symbol and string keys</span>
<span class="p">{</span><span class="ss">key1</span><span class="p">:</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">key2</span><span class="p">:</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">}</span><span class="w">     </span><span class="c1"># {:key1 =&gt; &#39;a&#39;, :key2 =&gt; &#39;b&#39;}</span>
<span class="p">{</span><span class="s2">&quot;key1&quot;</span><span class="p">:</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;key2&quot;</span><span class="p">:</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">}</span><span class="w"> </span><span class="c1"># {&quot;key1&quot; =&gt; &#39;a&#39;, &quot;key2&quot; =&gt; &#39;b&#39;}</span>

<span class="c1"># Special hash literal syntax with other types too, as long as</span>
<span class="c1"># they define a .new and a #[]= methods</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyType</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">[]=</span><span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;do stuff&quot;</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>

<span class="n">MyType</span><span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">}</span>

<span class="c1"># The above is equivalent to</span>
<span class="n">tmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyType</span><span class="o">.</span><span class="n">new</span>
<span class="n">tmp</span><span class="o">[</span><span class="s2">&quot;foo&quot;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span>
<span class="n">tmp</span>

<span class="c1"># Ranges</span>

<span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="w">                  </span><span class="c1">#=&gt; Range(Int32, Int32)</span>
<span class="n">Range</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Range(Int32, Int32)</span>

<span class="c1"># Can be inclusive or exclusive</span>
<span class="p">(</span><span class="mi">3</span><span class="o">..</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="w">  </span><span class="c1">#=&gt; [3, 4, 5]</span>
<span class="p">(</span><span class="mi">3</span><span class="o">...</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="w"> </span><span class="c1">#=&gt; [3, 4]</span>

<span class="c1"># Check whether range includes the given value or not</span>
<span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">8</span><span class="p">)</span><span class="o">.</span><span class="n">includes?</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c1">#=&gt; true</span>

<span class="c1"># Tuples are a fixed-size, immutable, stack-allocated sequence of values of</span>
<span class="c1"># possibly different types.</span>
<span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;x&#39;</span><span class="p">}</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; Tuple(Int32, String, Char)</span>

<span class="c1"># Access tuple&#39;s value by its index</span>
<span class="n">tuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="ss">:key1</span><span class="p">,</span><span class="w"> </span><span class="ss">:key2</span><span class="p">}</span>
<span class="n">tuple</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="c1">#=&gt; :key2</span>
<span class="n">tuple</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="c1">#=&gt; Error: index out of bounds for Tuple(Symbol, Symbol) (2 not in -2..1)</span>

<span class="c1"># Can be expanded into multiple variables</span>
<span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="ss">:a</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;c&quot;</span><span class="p">}</span>
<span class="n">a</span><span class="w"> </span><span class="c1">#=&gt; :a</span>
<span class="n">b</span><span class="w"> </span><span class="c1">#=&gt; &#39;b&#39;</span>
<span class="n">c</span><span class="w"> </span><span class="c1">#=&gt; &quot;c&quot;</span>

<span class="c1"># Procs represent a function pointer with an optional context (the closure data)</span>
<span class="c1"># It is typically created with a proc literal</span>
<span class="n">proc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-&gt;</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Int32</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">to_s</span><span class="w"> </span><span class="p">}</span>
<span class="n">proc</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1"># Proc(Int32, String)</span>
<span class="c1"># Or using the new method</span>
<span class="n">Proc</span><span class="p">(</span><span class="n">Int32</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="p">)</span><span class="o">.</span><span class="n">new</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">|</span><span class="n">x</span><span class="o">|</span><span class="w"> </span><span class="n">x</span><span class="o">.</span><span class="n">to_s</span><span class="w"> </span><span class="p">}</span>

<span class="c1"># Invoke proc with call method</span>
<span class="n">proc</span><span class="o">.</span><span class="n">call</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="c1">#=&gt; &quot;10&quot;</span>

<span class="c1"># Control statements</span>

<span class="k">if</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="s2">&quot;if statement&quot;</span>
<span class="k">elsif</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="s2">&quot;else-if, optional&quot;</span>
<span class="k">else</span>
<span class="w">  </span><span class="s2">&quot;else, also optional&quot;</span>
<span class="k">end</span><span class="w"> </span>

<span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;if as a suffix&quot;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="kc">true</span>

<span class="c1"># If as an expression</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span>
<span class="w">      </span><span class="mi">3</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">      </span><span class="mi">4</span>
<span class="w">    </span><span class="k">end</span>

<span class="n">a</span><span class="w"> </span><span class="c1">#=&gt; 3</span>

<span class="c1"># Ternary if</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="c1">#=&gt; 4</span>

<span class="c1"># Case statement</span>
<span class="n">cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;move&quot;</span>

<span class="n">action</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">cmd</span>
<span class="w">  </span><span class="k">when</span><span class="w"> </span><span class="s2">&quot;create&quot;</span>
<span class="w">    </span><span class="s2">&quot;Creating...&quot;</span>
<span class="w">  </span><span class="k">when</span><span class="w"> </span><span class="s2">&quot;copy&quot;</span>
<span class="w">    </span><span class="s2">&quot;Copying...&quot;</span>
<span class="w">  </span><span class="k">when</span><span class="w"> </span><span class="s2">&quot;move&quot;</span>
<span class="w">    </span><span class="s2">&quot;Moving...&quot;</span>
<span class="w">  </span><span class="k">when</span><span class="w"> </span><span class="s2">&quot;delete&quot;</span>
<span class="w">    </span><span class="s2">&quot;Deleting...&quot;</span>
<span class="k">end</span>

<span class="n">action</span><span class="w"> </span><span class="c1">#=&gt; &quot;Moving...&quot;</span>

<span class="c1"># Loops</span>
<span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">while</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">3</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Index: </span><span class="si">#{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">  </span><span class="n">index</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>
<span class="k">end</span>
<span class="c1"># Index: 0</span>
<span class="c1"># Index: 1</span>
<span class="c1"># Index: 2</span>
<span class="c1"># Index: 3</span>

<span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">until</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">3</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Index: </span><span class="si">#{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="w">  </span><span class="n">index</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>
<span class="k">end</span>
<span class="c1"># Index: 0</span>
<span class="c1"># Index: 1</span>
<span class="c1"># Index: 2</span>
<span class="c1"># Index: 3</span>

<span class="c1"># But the preferable way is to use each</span>
<span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">index</span><span class="o">|</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;Index: </span><span class="si">#{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>
<span class="c1"># Index: 1</span>
<span class="c1"># Index: 2</span>
<span class="c1"># Index: 3</span>

<span class="c1"># Variable&#39;s type depends on the type of the expression</span>
<span class="c1"># in control statements</span>
<span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span>
<span class="k">else</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="k">end</span>
<span class="kp">typeof</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="c1">#=&gt; (Bool | String)</span>

<span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">b</span>
<span class="w">  </span><span class="c1"># here both a and b are guaranteed not to be Nil</span>
<span class="k">end</span>

<span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="kp">.is_a?</span><span class="w"> </span><span class="n">String</span>
<span class="w">  </span><span class="n">a</span><span class="o">.</span><span class="n">class</span><span class="w"> </span><span class="c1">#=&gt; String</span>
<span class="k">end</span>

<span class="c1"># Functions</span>

<span class="k">def</span><span class="w"> </span><span class="nf">double</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">  </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span>
<span class="k">end</span>

<span class="c1"># Functions (and all blocks) implicitly return the value of the last statement</span>
<span class="n">double</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">#=&gt; 4</span>

<span class="c1"># Parentheses are optional where the call is unambiguous</span>
<span class="n">double</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="c1">#=&gt; 6</span>

<span class="n">double</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="c1">#=&gt; 12</span>

<span class="k">def</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">  </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span>
<span class="k">end</span>

<span class="c1"># Method arguments are separated by a comma</span>
<span class="n">sum</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="c1">#=&gt; 7</span>

<span class="n">sum</span><span class="w"> </span><span class="n">sum</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c1">#=&gt; 12</span>

<span class="c1"># yield</span>
<span class="c1"># All methods have an implicit, optional block parameter</span>
<span class="c1"># it can be called with the &#39;yield&#39; keyword</span>

<span class="k">def</span><span class="w"> </span><span class="nf">surround</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="sc">&#39;{&#39;</span>
<span class="w">  </span><span class="k">yield</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="sc">&#39;}&#39;</span>
<span class="k">end</span>

<span class="n">surround</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">puts</span><span class="w"> </span><span class="s2">&quot;hello world&quot;</span><span class="w"> </span><span class="p">}</span>

<span class="c1"># {</span>
<span class="c1"># hello world</span>
<span class="c1"># }</span>


<span class="c1"># You can pass a block to a function</span>
<span class="c1"># &quot;&amp;&quot; marks a reference to a passed block</span>
<span class="k">def</span><span class="w"> </span><span class="nf">guests</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
<span class="w">  </span><span class="n">block</span><span class="o">.</span><span class="n">call</span><span class="w"> </span><span class="s2">&quot;some_argument&quot;</span>
<span class="k">end</span>

<span class="c1"># You can pass a list of arguments, which will be converted into an array</span>
<span class="c1"># That&#39;s what splat operator (&quot;*&quot;) is for</span>
<span class="k">def</span><span class="w"> </span><span class="nf">guests</span><span class="p">(</span><span class="o">*</span><span class="n">array</span><span class="p">)</span>
<span class="w">  </span><span class="n">array</span><span class="o">.</span><span class="n">each</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">|</span><span class="n">guest</span><span class="o">|</span><span class="w"> </span><span class="nb">puts</span><span class="w"> </span><span class="n">guest</span><span class="w"> </span><span class="p">}</span>
<span class="k">end</span>

<span class="c1"># If a method returns an array, you can use destructuring assignment</span>
<span class="k">def</span><span class="w"> </span><span class="nf">foods</span>
<span class="w">    </span><span class="o">[</span><span class="s2">&quot;pancake&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;sandwich&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;quesadilla&quot;</span><span class="o">]</span>
<span class="k">end</span>
<span class="n">breakfast</span><span class="p">,</span><span class="w"> </span><span class="n">lunch</span><span class="p">,</span><span class="w"> </span><span class="n">dinner</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foods</span>
<span class="n">breakfast</span><span class="w"> </span><span class="c1">#=&gt; &quot;pancake&quot;</span>
<span class="n">dinner</span><span class="w">    </span><span class="c1">#=&gt; &quot;quesadilla&quot;</span>

<span class="c1"># By convention, all methods that return booleans end with a question mark</span>
<span class="mi">5</span><span class="o">.</span><span class="n">even?</span><span class="w"> </span><span class="c1"># false</span>
<span class="mi">5</span><span class="o">.</span><span class="n">odd?</span><span class="w">  </span><span class="c1"># true</span>

<span class="c1"># Also by convention, if a method ends with an exclamation mark, it does </span>
<span class="c1"># something destructive like mutate the receiver.</span>
<span class="c1"># Some methods have a ! version to make a change, and</span>
<span class="c1"># a non-! version to just return a new changed version</span>
<span class="n">fruits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s2">&quot;grapes&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;apples&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;bananas&quot;</span><span class="o">]</span>
<span class="n">fruits</span><span class="o">.</span><span class="n">sort</span><span class="w">  </span><span class="c1">#=&gt; [&quot;apples&quot;, &quot;bananas&quot;, &quot;grapes&quot;]</span>
<span class="n">fruits</span><span class="w">       </span><span class="c1">#=&gt; [&quot;grapes&quot;, &quot;apples&quot;, &quot;bananas&quot;]</span>
<span class="n">fruits</span><span class="o">.</span><span class="n">sort!</span><span class="w"> </span><span class="c1">#=&gt; [&quot;apples&quot;, &quot;bananas&quot;, &quot;grapes&quot;]</span>
<span class="n">fruits</span><span class="w">       </span><span class="c1">#=&gt; [&quot;apples&quot;, &quot;bananas&quot;, &quot;grapes&quot;]</span>

<span class="c1"># However, some mutating methods do not end in !</span>
<span class="n">fruits</span><span class="o">.</span><span class="n">shift</span><span class="w"> </span><span class="c1">#=&gt; &quot;apples&quot;</span>
<span class="n">fruits</span><span class="w">       </span><span class="c1">#=&gt; [&quot;bananas&quot;, &quot;grapes&quot;]</span>

<span class="c1"># Define a class with the class keyword</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Human</span>

<span class="w">  </span><span class="c1"># A class variable. It is shared by all instances of this class.</span>
<span class="w">  </span><span class="vc">@@species</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;H. sapiens&quot;</span>

<span class="w">  </span><span class="c1"># An instance variable. Type of name is String</span>
<span class="w">  </span><span class="vi">@name</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">String</span>

<span class="w">  </span><span class="c1"># Basic initializer</span>
<span class="w">  </span><span class="c1"># Assign the argument to the &quot;name&quot; instance variable for the instance</span>
<span class="w">  </span><span class="c1"># If no age given, we will fall back to the default in the arguments list.</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="vi">@name</span><span class="p">,</span><span class="w"> </span><span class="vi">@age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="c1"># Basic setter method</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">name</span><span class="o">=</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="vi">@name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="c1"># Basic getter method</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">name</span>
<span class="w">    </span><span class="vi">@name</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="c1"># The above functionality can be encapsulated using the propery method as follows</span>
<span class="w">  </span><span class="bp">property</span><span class="w"> </span><span class="ss">:name</span>

<span class="w">  </span><span class="c1"># Getter/setter methods can also be created individually like this</span>
<span class="w">  </span><span class="bp">getter</span><span class="w"> </span><span class="ss">:name</span>
<span class="w">  </span><span class="bp">setter</span><span class="w"> </span><span class="ss">:name</span>

<span class="w">  </span><span class="c1"># A class method uses self to distinguish from instance methods.</span>
<span class="w">  </span><span class="c1"># It can only be called on the class, not an instance.</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nc">self</span><span class="o">.</span><span class="nf">say</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="w">    </span><span class="nb">puts</span><span class="w"> </span><span class="n">msg</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">species</span>
<span class="w">    </span><span class="vc">@@species</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>


<span class="c1"># Instantiate a class</span>
<span class="n">jim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Human</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Jim Halpert&quot;</span><span class="p">)</span>

<span class="n">dwight</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Human</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;Dwight K. Schrute&quot;</span><span class="p">)</span>

<span class="c1"># Let&#39;s call a couple of methods</span>
<span class="n">jim</span><span class="o">.</span><span class="n">species</span><span class="w"> </span><span class="c1">#=&gt; &quot;H. sapiens&quot;</span>
<span class="n">jim</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="c1">#=&gt; &quot;Jim Halpert&quot;</span>
<span class="n">jim</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Jim Halpert II&quot;</span><span class="w"> </span><span class="c1">#=&gt; &quot;Jim Halpert II&quot;</span>
<span class="n">jim</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="c1">#=&gt; &quot;Jim Halpert II&quot;</span>
<span class="n">dwight</span><span class="o">.</span><span class="n">species</span><span class="w"> </span><span class="c1">#=&gt; &quot;H. sapiens&quot;</span>
<span class="n">dwight</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="c1">#=&gt; &quot;Dwight K. Schrute&quot;</span>

<span class="c1"># Call the class method</span>
<span class="n">Human</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Hi&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">#=&gt; print Hi and returns nil</span>

<span class="c1"># Variables that start with @ have instance scope</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TestClass</span>
<span class="w">  </span><span class="vi">@var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;I&#39;m an instance var&quot;</span>
<span class="k">end</span>

<span class="c1"># Variables that start with @@ have class scope</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TestClass</span>
<span class="w">  </span><span class="vc">@@var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;I&#39;m a class var&quot;</span>
<span class="k">end</span>
<span class="c1"># Variables that start with a capital letter are constants</span>
<span class="n">Var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;I&#39;m a constant&quot;</span>
<span class="n">Var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;can&#39;t be updated&quot;</span><span class="w"> </span><span class="c1"># Error: already initialized constant Var</span>

<span class="c1"># Class is also an object in Crystal. So a class can have instance variables.</span>
<span class="c1"># Class variable is shared among the class and all of its descendants.</span>

<span class="c1"># base class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Human</span>
<span class="w">  </span><span class="vc">@@foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nc">self</span><span class="o">.</span><span class="nf">foo</span>
<span class="w">    </span><span class="vc">@@foo</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nc">self</span><span class="o">.</span><span class="nf">foo</span><span class="o">=</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="vc">@@foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>

<span class="c1"># derived class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Worker</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Human</span>
<span class="k">end</span>

<span class="n">Human</span><span class="o">.</span><span class="n">foo</span><span class="w">   </span><span class="c1">#=&gt; 0</span>
<span class="n">Worker</span><span class="o">.</span><span class="n">foo</span><span class="w">  </span><span class="c1">#=&gt; 0</span>

<span class="n">Human</span><span class="o">.</span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c1">#=&gt; 2</span>
<span class="n">Worker</span><span class="o">.</span><span class="n">foo</span><span class="w">    </span><span class="c1">#=&gt; 0</span>

<span class="n">Worker</span><span class="o">.</span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="c1">#=&gt; 3</span>
<span class="n">Human</span><span class="o">.</span><span class="n">foo</span><span class="w">   </span><span class="c1">#=&gt; 2</span>
<span class="n">Worker</span><span class="o">.</span><span class="n">foo</span><span class="w">  </span><span class="c1">#=&gt; 3</span>

<span class="k">module</span><span class="w"> </span><span class="nn">ModuleExample</span>
<span class="w">  </span><span class="k">def</span><span class="w"> </span><span class="nf">foo</span>
<span class="w">    </span><span class="s2">&quot;foo&quot;</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>

<span class="c1"># Including modules binds their methods to the class instances</span>
<span class="c1"># Extending modules binds their methods to the class itself</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Person</span>
<span class="w">  </span><span class="k">include</span><span class="w"> </span><span class="n">ModuleExample</span>
<span class="k">end</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Book</span>
<span class="w">  </span><span class="k">extend</span><span class="w"> </span><span class="n">ModuleExample</span>
<span class="k">end</span>

<span class="n">Person</span><span class="o">.</span><span class="n">foo</span><span class="w">     </span><span class="c1"># =&gt; undefined method &#39;foo&#39; for Person:Class</span>
<span class="n">Person</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">foo</span><span class="w"> </span><span class="c1"># =&gt; &#39;foo&#39;</span>
<span class="n">Book</span><span class="o">.</span><span class="n">foo</span><span class="w">       </span><span class="c1"># =&gt; &#39;foo&#39;</span>
<span class="n">Book</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">foo</span><span class="w">   </span><span class="c1"># =&gt; undefined method &#39;foo&#39; for Book</span>


<span class="c1"># Exception handling</span>

<span class="c1"># Define new exception</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyException</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Exception</span>
<span class="k">end</span>

<span class="c1"># Define another exception</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyAnotherException</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Exception</span><span class="p">;</span><span class="w"> </span><span class="k">end</span>

<span class="n">ex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">begin</span>
<span class="w">   </span><span class="nb">raise</span><span class="w"> </span><span class="n">MyException</span><span class="o">.</span><span class="n">new</span>
<span class="k">rescue</span><span class="w"> </span><span class="n">ex1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">IndexError</span>
<span class="w">  </span><span class="s2">&quot;ex1&quot;</span>
<span class="k">rescue</span><span class="w"> </span><span class="n">ex2</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">MyException</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">MyAnotherException</span>
<span class="w">  </span><span class="s2">&quot;ex2&quot;</span>
<span class="k">rescue</span><span class="w"> </span><span class="n">ex3</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Exception</span>
<span class="w">  </span><span class="s2">&quot;ex3&quot;</span>
<span class="k">rescue</span><span class="w"> </span><span class="n">ex4</span><span class="w"> </span><span class="c1"># catch any kind of exception</span>
<span class="w">  </span><span class="s2">&quot;ex4&quot;</span>
<span class="k">end</span>

<span class="n">ex</span><span class="w"> </span><span class="c1">#=&gt; &quot;ex2&quot;</span>
</pre></div>
<h2>Additional resources</h2>
<ul>
<li><a href="https://crystal-lang.org/">Official Documentation</a></li>
</ul>

        <hr>
        <p>
          Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the GitHub Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/crystal.md">pull request</a> yourself!
        </p>
        <p class="contributed">
          Originally contributed by Vitalii Elenhaupt, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/crystal.md">7 contributors</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://veelenga.com">Vitalii Elenhaupt</a>,
            <a href="https://github.com/TechMagister/">Arnaud Fernandés</a>,
            <a href="https://github.com/valbaca/">Valentin Baca</a>
          </p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const langSelect = document.getElementById('lang-select');
          langSelect?.addEventListener('change', () => {
            const selectedOption = langSelect.options[langSelect.selectedIndex];
            const url = selectedOption?.getAttribute('data-url');
            if (url) {
              window.location.href = url;
            }
          });
        });
      </script>
    </div>
  </body>
</html>