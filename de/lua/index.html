<!DOCTYPE html>
<html lang="de">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="de">
    <title>Learn Lua in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/de/lua/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <div class="share">
        <span class="sharemsg">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fde%2Flua%2F&amp;text=Lerne+X+in+Y+Minuten%2C+wobei+X%3DLua">
            Teile diese Seite mit anderen
          </a>
        </span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_twitter_large' displayText='Tweet'></span>
      </div>
      <h1><a href="/">Lerne X in Y Minuten</a></h1>
      <h2>Wobei X=Lua</h2>
      <p class="filelink">
        Lade den Code herunter:
        <a href="/de/files/learnlua.lua">learnlua.lua</a>
      </p>
      <div id="doc">
<div class="highlight"><pre lang="lua"><span class="c1">-- Zwei Gedankenstriche starten einen einzeiligen Kommentar.</span>

<span class="cm">--[[</span>
<span class="cm">     Fügt man zwei &#39;[&#39; und &#39;]&#39; hinzu,</span>
<span class="cm">     erzeugt man einen mehrzeiligen Kommentar.</span>
<span class="cm">--]]</span>
<span class="c1">--------------------------------------------------------------------------------</span>
<span class="c1">-- 1. Variablen und Fluss-Kontrolle.</span>
<span class="c1">--------------------------------------------------------------------------------</span>

<span class="nv">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="w">  </span><span class="c1">-- Alle Nummern sind vom Typ: Double.</span>
<span class="c1">-- Werd nicht nervös, 64-Bit Double haben 52 Bits zum Speichern von exakten</span>
<span class="c1">-- Ganzzahlen; Maschinen-Genauigkeit ist kein Problem für Ganzzahlen kleiner als</span>
<span class="c1">-- 52 Bit.</span>

<span class="nv">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;walternate&#39;</span><span class="w">  </span><span class="c1">-- Zeichenketten sind unveränderlich, wie bei Python.</span>
<span class="nv">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Doppelte Anführungszeichen sind auch OK&quot;</span>
<span class="nv">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">[[ Doppelte eckige Klammern</span>
<span class="s">       beginnen und beenden</span>
<span class="s">       mehrzeilige Zeichenketten.]]</span>
<span class="nv">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span><span class="w">  </span><span class="c1">-- Entdefinieren von t; Lua hat einen Garbage Collection.</span>

<span class="c1">-- Blöcke werden durch Schlüsselwörter wie do/end markiert:</span>
<span class="kr">while</span><span class="w"> </span><span class="nv">num</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">50</span><span class="w"> </span><span class="kr">do</span>
<span class="w">  </span><span class="nv">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">num</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="c1">-- Es gibt keine Operatoren wie ++ oder +=</span>
<span class="kr">end</span>

<span class="c1">-- If Bedingungen:</span>
<span class="kr">if</span><span class="w"> </span><span class="nv">num</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="kr">then</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;over 40&#39;</span><span class="p">)</span>
<span class="kr">elseif</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="s1">&#39;walternate&#39;</span><span class="w"> </span><span class="kr">then</span><span class="w">  </span><span class="c1">-- ~= bedeutet ungleich</span>
<span class="w">  </span><span class="c1">-- Gleichheits-Check == wie bei Python; OK für Zeichenketten.</span>
<span class="w">  </span><span class="nb">io.write</span><span class="p">(</span><span class="s1">&#39;not over 40</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">-- Standard ist stdout.</span>
<span class="kr">else</span>
<span class="w">  </span><span class="c1">-- Variablen sind standardmäßig global.</span>
<span class="w">  </span><span class="nv">thisIsGlobal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w">  </span><span class="c1">-- Camel case ist üblich.</span>

<span class="w">  </span><span class="c1">-- So macht man eine Variable lokal:</span>
<span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">io.read</span><span class="p">()</span><span class="w">  </span><span class="c1">-- Lies die nächste Zeile von stdin.</span>

<span class="w">  </span><span class="c1">-- Zeichenketten zusammenführen mit dem .. Operator:</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Winter is coming, &#39;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">line</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">-- Undefinierte Variablen geben nil zurück.</span>
<span class="c1">-- Das ist kein Fehler:</span>
<span class="nv">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">anUnknownVariable</span><span class="w">  </span><span class="c1">-- Nun ist foo = nil.</span>

<span class="nv">aBoolValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>

<span class="c1">-- Nur nil und false sind unwahr; 0 and &#39;&#39; sind wahr!</span>
<span class="kr">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nv">aBoolValue</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;was false&#39;</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>

<span class="c1">-- &#39;or&#39; und &#39;and&#39; sind &quot;kurz-geschlossen&quot;. Das ist so ähnlich wie der a?b:c</span>
<span class="c1">-- operator in C/js:</span>
<span class="c1">-- in C/js:</span>
<span class="nv">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">aBoolValue</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="s1">&#39;yes&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">&#39;no&#39;</span><span class="w">  </span><span class="c1">--&gt; &#39;no&#39;</span>

<span class="nv">karlSum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="kr">do</span><span class="w">  </span><span class="c1">-- Ein Bereich inkludiert beide Enden.</span>
<span class="w">  </span><span class="nv">karlSum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">karlSum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">i</span>
<span class="kr">end</span>

<span class="c1">-- Verwende &quot;100, 1, -1&quot; als Bereich für Countdowns:</span>
<span class="nv">fredSum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="kr">do</span><span class="w"> </span><span class="nv">fredSum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">fredSum</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">j</span><span class="w"> </span><span class="kr">end</span>

<span class="c1">-- Im Allgemeinen besteht ein Bereich aus: Anfang, Ende, [, Schrittweite].</span>

<span class="c1">-- Ein anderes Schleifen-Konstrukt:</span>
<span class="kr">repeat</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Der Weg der Zukunft&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nv">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">num</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span>
<span class="kr">until</span><span class="w"> </span><span class="nv">num</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span>

<span class="c1">--------------------------------------------------------------------------------</span>
<span class="c1">-- 2. Funktionen.</span>
<span class="c1">--------------------------------------------------------------------------------</span>

<span class="kr">function</span><span class="w"> </span><span class="nf">fib</span><span class="p">(</span><span class="nv">n</span><span class="p">)</span>
<span class="w">  </span><span class="kr">if</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="kr">then</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="kr">end</span>
<span class="w">  </span><span class="kr">return</span><span class="w"> </span><span class="nf">fib</span><span class="p">(</span><span class="nv">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nf">fib</span><span class="p">(</span><span class="nv">n</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">-- Closures und anonyme Funktionen sind ok:</span>
<span class="kr">function</span><span class="w"> </span><span class="nf">adder</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span>
<span class="w">  </span><span class="c1">-- Die zurückgegebene Funktion wird erzeugt, wenn adder aufgerufen wird und merkt</span>
<span class="w">  </span><span class="c1">-- sich den Wert von x:</span>
<span class="w">  </span><span class="kr">return</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="p">(</span><span class="nv">y</span><span class="p">)</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="kr">end</span>
<span class="kr">end</span>
<span class="nv">a1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">adder</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="nv">a2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">adder</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nf">a1</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span><span class="w">  </span><span class="c1">--&gt; 25</span>
<span class="nb">print</span><span class="p">(</span><span class="nf">a2</span><span class="p">(</span><span class="mi">64</span><span class="p">))</span><span class="w">  </span><span class="c1">--&gt; 100</span>

<span class="c1">-- Rückgabewerte, Funktions-Aufrufe und Zuweisungen funktionieren alle mit</span>
<span class="c1">-- Listen, die nicht immer gleich lang sein müssen. Überzählige Empfänger</span>
<span class="c1">-- bekommen nil; überzählige Sender werden ignoriert.</span>

<span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="p">,</span><span class="w"> </span><span class="nv">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span>
<span class="c1">-- Nun ist x = 1, y = 2, z = 3, und 4 wird ignoriert.</span>

<span class="kr">function</span><span class="w"> </span><span class="nf">bar</span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="p">)</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="nv">a</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="p">,</span><span class="w"> </span><span class="nv">c</span><span class="p">)</span>
<span class="w">  </span><span class="kr">return</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span>
<span class="kr">end</span>

<span class="nv">x</span><span class="p">,</span><span class="w"> </span><span class="nv">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">bar</span><span class="p">(</span><span class="s1">&#39;zaphod&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">--&gt; prints &quot;zaphod  nil nil&quot;</span>
<span class="c1">-- Nun ist x = 4, y = 8, die Werte 15..42 werden ignoriert.</span>

<span class="c1">-- Funktionen sind erste Klasse, und können lokal oder global sein.</span>
<span class="c1">-- Das ist alles das Gleiche:</span>
<span class="kr">function</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="kr">end</span>
<span class="nv">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="kr">end</span>

<span class="c1">-- Das auch:</span>
<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">g</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nb">math.sin</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nb">math.sin</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
<span class="c1">-- Äquivalent zu local function g(x)..., außer das Referenzen auf g im</span>
<span class="c1">-- Funktions-Körper nicht wie erwartet funktionieren.</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">g</span><span class="p">;</span><span class="w"> </span><span class="nv">g</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="kr">return</span><span class="w"> </span><span class="nb">math.sin</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
<span class="c1">-- Die Deklaration &#39;local g&#39; macht Selbst-Referenzen auf g OK.</span>

<span class="c1">-- Nebenbei gesagt, Trigonometrie-Funktionen verwenden Radianten.</span>

<span class="c1">-- Funktionsaufrufe mit nur einem Zeichenketten-Parameter brauch keine runden</span>
<span class="c1">-- Klammern.</span>
<span class="nb">print</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span><span class="w">  </span><span class="c1">-- Funktioniert wunderbar.</span>

<span class="c1">-- Funktionsaufrufe mit einem Tabellen-Parameter brauchen auch keine runden</span>
<span class="c1">-- Klammern. Mehr zu Tabellen kommt später.</span>
<span class="nb">print</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="c1">-- Funktioniert auch wunderbar.</span>

<span class="c1">--------------------------------------------------------------------------------</span>
<span class="c1">-- 3. Tabellen.</span>
<span class="c1">--------------------------------------------------------------------------------</span>

<span class="c1">-- Tabellen sind die einzige zusammengesetzte Struktur in Lua. Sie sind</span>
<span class="c1">-- assoziative Arrays. Sie sind so ähnlich wie PHP arrays oder JavaScript</span>
<span class="c1">-- Objekte. Sie sind Hash-Lookup-Dictionaries die auch als Listen verwendet</span>
<span class="c1">-- werden können.</span>

<span class="c1">-- Verwenden von Tabellen als Dictionaries oder Maps:</span>

<span class="c1">-- Dict-Literale haben standardmäßig Zeichenketten als Schlüssel:</span>
<span class="nv">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">key1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;value1&#39;</span><span class="p">,</span><span class="w"> </span><span class="nv">key2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">}</span>

<span class="c1">-- Zeichenketten-Schlüssel verwenden eine JavaScript-ähnliche Punkt-Notation.</span>
<span class="nb">print</span><span class="p">(</span><span class="nv">t</span><span class="p">.</span><span class="py">key1</span><span class="p">)</span><span class="w">  </span><span class="c1">-- Ausgabe &#39;value1&#39;.</span>
<span class="nv">t</span><span class="p">.</span><span class="py">newKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span><span class="w">  </span><span class="c1">-- Neues Schlüssel/Wert-Paar hinzufügen.</span>
<span class="nv">t</span><span class="p">.</span><span class="py">key2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span><span class="w">   </span><span class="c1">-- key2 aus der Tabelle entfernen.</span>

<span class="c1">-- Literale Notation für jeden (nicht-nil) Wert als Schlüssel:</span>
<span class="nv">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{[</span><span class="s1">&#39;@!#&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;qbert&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[{}]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1729</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mf">6.28</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;tau&#39;</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="nv">u</span><span class="p">[</span><span class="mf">6.28</span><span class="p">])</span><span class="w">  </span><span class="c1">-- Ausgabe &quot;tau&quot;</span>

<span class="c1">-- Schlüssel-Vergleiche funktionieren per Wert für Nummern und Zeichenketten,</span>
<span class="c1">-- aber über die Identität bei Tabellen.</span>
<span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">u</span><span class="p">[</span><span class="s1">&#39;@!#&#39;</span><span class="p">]</span><span class="w">  </span><span class="c1">-- Nun ist a = &#39;qbert&#39;.</span>
<span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">u</span><span class="p">[{}]</span><span class="w">     </span><span class="c1">-- Wir würden 1729 erwarten, aber es ist nil:</span>
<span class="c1">-- b = nil weil der Lookup fehlschlägt. Er schlägt fehl, weil der Schlüssel,</span>
<span class="c1">-- den wir verwendet haben nicht das gleiche Objekt ist das wir verwendet</span>
<span class="c1">-- haben, um den original Wert zu speichern. Zahlen und Zeichenkette sind daher</span>
<span class="c1">-- die praktischeren Schlüssel.</span>

<span class="c1">-- Eine Funktion mit nur einem Tabellen-Parameter benötigt keine Klammern.</span>
<span class="kr">function</span><span class="w"> </span><span class="nf">h</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span><span class="w"> </span><span class="nb">print</span><span class="p">(</span><span class="nv">x</span><span class="p">.</span><span class="py">key1</span><span class="p">)</span><span class="w"> </span><span class="kr">end</span>
<span class="nv">h</span><span class="p">{</span><span class="nv">key1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Sonmi~451&#39;</span><span class="p">}</span><span class="w">  </span><span class="c1">-- Ausgabe &#39;Sonmi~451&#39;.</span>

<span class="kr">for</span><span class="w"> </span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">val</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">u</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span><span class="w">  </span><span class="c1">-- Tabellen-Iteration.</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="nv">key</span><span class="p">,</span><span class="w"> </span><span class="nv">val</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">-- _G ist eine spezielle Tabelle, die alles Globale enthält.</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">_G</span><span class="p">[</span><span class="s1">&#39;_G&#39;</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">_G</span><span class="p">)</span><span class="w">  </span><span class="c1">-- Ausgabe &#39;true&#39;.</span>

<span class="c1">-- Verwenden von Tabellen als Listen/Arrays:</span>

<span class="c1">-- Listen-Literale verwenden implizit Ganzzahlen als Schlüssel:</span>
<span class="nv">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;value1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;value2&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.21</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;gigawatts&#39;</span><span class="p">}</span>
<span class="kr">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="nv">v</span><span class="w"> </span><span class="kr">do</span><span class="w">  </span><span class="c1">-- #v ist die Größe von v für Listen.</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="nv">v</span><span class="p">[</span><span class="nv">i</span><span class="p">])</span><span class="w">  </span><span class="c1">-- Indices beginnen mit 1 !! SO VERRÜCKT!</span>
<span class="kr">end</span>
<span class="c1">-- Eine &#39;Liste&#39; ist kein echter Typ. v ist nur eine Tabelle mit fortlaufenden</span>
<span class="c1">-- Ganzzahlen als Schlüssel, die behandelt wird wie eine Liste.</span>

<span class="c1">--------------------------------------------------------------------------------</span>
<span class="c1">-- 3.1 Metatabellen und Metamethoden</span>
<span class="c1">--------------------------------------------------------------------------------</span>

<span class="c1">-- Eine Tabelle kann eine Metatabelle haben. Diese verleiht ihr so etwas wie</span>
<span class="c1">-- Tabellen-Operator-Überladungsverhalten. Später sehen wir wie</span>
<span class="c1">-- Metatabellen js-prototypen-artiges Verhalten unterstützen.</span>

<span class="nv">f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">}</span><span class="w">  </span><span class="c1">-- Repräsentiert den Bruch a/b.</span>
<span class="nv">f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>

<span class="c1">-- Dies würde Fehlschlagen:</span>
<span class="c1">-- s = f1 + f2</span>

<span class="nv">metafraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="kr">function</span><span class="w"> </span><span class="nc">metafraction</span><span class="p">.</span><span class="nf">__add</span><span class="p">(</span><span class="nv">f1</span><span class="p">,</span><span class="w"> </span><span class="nv">f2</span><span class="p">)</span>
<span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="nv">sum</span><span class="p">.</span><span class="py">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">f1</span><span class="p">.</span><span class="py">b</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">f2</span><span class="p">.</span><span class="py">b</span>
<span class="w">  </span><span class="nv">sum</span><span class="p">.</span><span class="py">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">f1</span><span class="p">.</span><span class="py">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">f2</span><span class="p">.</span><span class="py">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f2</span><span class="p">.</span><span class="py">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nv">f1</span><span class="p">.</span><span class="py">b</span>
<span class="w">  </span><span class="kr">return</span><span class="w"> </span><span class="nv">sum</span>
<span class="kr">end</span>

<span class="nb">setmetatable</span><span class="p">(</span><span class="nv">f1</span><span class="p">,</span><span class="w"> </span><span class="nv">metafraction</span><span class="p">)</span>
<span class="nb">setmetatable</span><span class="p">(</span><span class="nv">f2</span><span class="p">,</span><span class="w"> </span><span class="nv">metafraction</span><span class="p">)</span>

<span class="nv">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">f1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f2</span><span class="w">  </span><span class="c1">-- Rufe __add(f1, f2) von der Metatabelle von f1 auf.</span>

<span class="c1">-- f1 und f2 haben keine Schlüssel für ihre Metatabellen, anders als bei js</span>
<span class="c1">-- Prototypen. Daher muss mithilfe von getmetatable(f1) darauf zugegriffen</span>
<span class="c1">-- werden. Eine Metatabelle ist wie eine normale Tabelle mit Schlüsseln die</span>
<span class="c1">-- Lua bekannt sind, so wie __add.</span>


<span class="c1">-- Die nächste Zeile schlägt fehl, weil s keine Metatabelle hat:</span>
<span class="c1">-- t = s + s</span>
<span class="c1">-- Mithilfe von Klassen ähnlichen Mustern kann das gelöst werden.</span>
<span class="c1">-- Siehe weiter unten.</span>

<span class="c1">-- Ein __index einer Metatabelle überlädt Punkt-Lookups:</span>
<span class="nv">defaultFavs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">animal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;gru&#39;</span><span class="p">,</span><span class="w"> </span><span class="nv">food</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;donuts&#39;</span><span class="p">}</span>
<span class="nv">myFavs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">food</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;pizza&#39;</span><span class="p">}</span>
<span class="nb">setmetatable</span><span class="p">(</span><span class="nv">myFavs</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">__index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">defaultFavs</span><span class="p">})</span>
<span class="nv">eatenBy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">myFavs</span><span class="p">.</span><span class="py">animal</span><span class="w">  </span><span class="c1">-- Funktioniert dank Metatabelle!</span>

<span class="c1">--------------------------------------------------------------------------------</span>
<span class="c1">-- Direkte Tabellen-Lookups die fehlschlagen werden mithilfe von __index der</span>
<span class="c1">-- Metatabelle wiederholt. Das geschieht rekursiv.</span>

<span class="c1">-- __index kann auch eine Funktion mit der Form function(tbl, key) sein.</span>
<span class="c1">-- Damit kann man Lookups weiter anpassen.</span>

<span class="c1">-- Werte wie __index,add, .. werden Metamethoden genannt.</span>
<span class="c1">-- HIer eine vollständige Liste aller Metamethoden.</span>

<span class="c1">-- __add(a, b)                     für a + b</span>
<span class="c1">-- __sub(a, b)                     für a - b</span>
<span class="c1">-- __mul(a, b)                     für a * b</span>
<span class="c1">-- __div(a, b)                     für a / b</span>
<span class="c1">-- __mod(a, b)                     für a % b</span>
<span class="c1">-- __pow(a, b)                     für a ^ b</span>
<span class="c1">-- __unm(a)                        für -a</span>
<span class="c1">-- __concat(a, b)                  für a .. b</span>
<span class="c1">-- __len(a)                        für #a</span>
<span class="c1">-- __eq(a, b)                      für a == b</span>
<span class="c1">-- __lt(a, b)                      für a &lt; b</span>
<span class="c1">-- __le(a, b)                      für a &lt;= b</span>
<span class="c1">-- __index(a, b)  &lt;fn or a table&gt;  für a.b</span>
<span class="c1">-- __newindex(a, b, c)             für a.b = c</span>
<span class="c1">-- __call(a, ...)                  für a(...)</span>

<span class="c1">--------------------------------------------------------------------------------</span>
<span class="c1">-- 3.2 Klassen-Artige Tabellen und Vererbung.</span>
<span class="c1">--------------------------------------------------------------------------------</span>

<span class="c1">-- Klassen sind in Lua nicht eingebaut. Es gibt verschiedene Wege sie mithilfe</span>
<span class="c1">-- von Tabellen und Metatabellen zu erzeugen.</span>

<span class="c1">-- Die Erklärung des Beispiels erfolgt unterhalb.</span>

<span class="nv">Dog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span><span class="w">                                   </span><span class="c1">-- 1.</span>

<span class="kr">function</span><span class="w"> </span><span class="nc">Dog</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span><span class="w">                         </span><span class="c1">-- 2.</span>
<span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">newObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nv">sound</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;woof&#39;</span><span class="p">}</span><span class="w">          </span><span class="c1">-- 3.</span>
<span class="w">  </span><span class="nv">self</span><span class="p">.</span><span class="py">__index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="w">                      </span><span class="c1">-- 4.</span>
<span class="w">  </span><span class="kr">return</span><span class="w"> </span><span class="nb">setmetatable</span><span class="p">(</span><span class="nv">newObj</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">)</span><span class="w">        </span><span class="c1">-- 5.</span>
<span class="kr">end</span>

<span class="kr">function</span><span class="w"> </span><span class="nc">Dog</span><span class="p">:</span><span class="nf">makeSound</span><span class="p">()</span><span class="w">                   </span><span class="c1">-- 6.</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I say &#39;</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">sound</span><span class="p">)</span>
<span class="kr">end</span>

<span class="nv">mrDog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Dog</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span><span class="w">                          </span><span class="c1">-- 7.</span>
<span class="nv">mrDog</span><span class="p">:</span><span class="nf">makeSound</span><span class="p">()</span><span class="w">  </span><span class="c1">-- &#39;I say woof&#39;         -- 8.</span>

<span class="c1">-- 1. Dog verhält sich wie eine Klasse; Ist aber eine Tabelle.</span>
<span class="c1">-- 2. &quot;function tablename:fn(...)&quot; ist das gleiche wie</span>
<span class="c1">--    &quot;function tablename.fn(self, ...)&quot;, Der : fügt nur ein Argument namens</span>
<span class="c1">--    self hinzu. Siehe 7 &amp; 8 um zu sehen wie self seinen Wert bekommt.</span>
<span class="c1">-- 3. newObj wird eine Instanz von Dog.</span>
<span class="c1">-- 4. &quot;self&quot; ist die zu instanziierende Klasse. Meistern ist self = Dog, aber</span>
<span class="c1">--    dies kann durch Vererbung geändert werden. newObj bekommt die Funktionen</span>
<span class="c1">--    von self, wenn wir die Metatabelle von newObj und __index von self auf</span>
<span class="c1">--    self setzen.</span>
<span class="c1">-- 5. Zur Erinnerung: setmetatable gibt sein erstes Argument zurück.</span>
<span class="c1">-- 6. Der Doppelpunkt funktioniert wie bei 2, aber dieses Mal erwarten wir das</span>
<span class="c1">--    self eine Instanz ist und keine Klasse.</span>
<span class="c1">-- 7. Dasselbe wie Dog.new(Dog), also self = Dog in new().</span>
<span class="c1">-- 8. Dasselbe wie mrDog.makeSound(mrDog); self = mrDog.</span>

<span class="c1">--------------------------------------------------------------------------------</span>

<span class="c1">-- Vererbungs-Beispiel:</span>

<span class="nv">LoudDog</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Dog</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span><span class="w">                           </span><span class="c1">-- 1.</span>

<span class="kr">function</span><span class="w"> </span><span class="nc">LoudDog</span><span class="p">:</span><span class="nf">makeSound</span><span class="p">()</span>
<span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span><span class="p">.</span><span class="py">sound</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="w">                 </span><span class="c1">-- 2.</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="nv">s</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="o">..</span><span class="w"> </span><span class="nv">s</span><span class="p">)</span>
<span class="kr">end</span>

<span class="nv">seymour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">LoudDog</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span><span class="w">                       </span><span class="c1">-- 3.</span>
<span class="nv">seymour</span><span class="p">:</span><span class="nf">makeSound</span><span class="p">()</span><span class="w">  </span><span class="c1">-- &#39;woof woof woof&#39;      -- 4.</span>

<span class="c1">--------------------------------------------------------------------------------</span>
<span class="c1">-- 1. LoudDog bekommt die Methoden und Variablen von Dog.</span>
<span class="c1">-- 2. self hat einen &#39;sound&#39; Schlüssel von new(), siehe 3.</span>
<span class="c1">-- 3. Das Gleiche wie &quot;LoudDog.new(LoudDog)&quot;, und umgewandelt zu &quot;Dog.new(LoudDog)&quot;</span>
<span class="c1">--    denn LoudDog hat keinen &#39;new&#39; Schlüssel, aber &quot;__index = Dog&quot; steht in der</span>
<span class="c1">--    Metatabelle.</span>
<span class="c1">--    Ergebnis: Die Metatabelle von seymour ist LoudDog und &quot;LoudDog.__index = Dog&quot;.</span>
<span class="c1">--    Daher ist seymour.key gleich seymour.key, LoudDog.key, Dog.key, je nachdem</span>
<span class="c1">--    welche Tabelle als Erstes einen passenden Schlüssel hat.</span>
<span class="c1">-- 4. Der &#39;makeSound&#39; Schlüssel wird in LoudDog gefunden: Das ist das Gleiche</span>
<span class="c1">--    wie &quot;LoudDog.makeSound(seymour)&quot;.</span>

<span class="c1">-- Wenn nötig, sieht new() einer Sub-Klasse genau so aus wie new() der</span>
<span class="c1">-- Basis-Klasse:</span>
<span class="kr">function</span><span class="w"> </span><span class="nc">LoudDog</span><span class="p">:</span><span class="nf">new</span><span class="p">()</span>
<span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">newObj</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="c1">-- set up newObj</span>
<span class="w">  </span><span class="nv">self</span><span class="p">.</span><span class="py">__index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">self</span>
<span class="w">  </span><span class="kr">return</span><span class="w"> </span><span class="nb">setmetatable</span><span class="p">(</span><span class="nv">newObj</span><span class="p">,</span><span class="w"> </span><span class="nv">self</span><span class="p">)</span>
<span class="kr">end</span>

<span class="c1">--------------------------------------------------------------------------------</span>
<span class="c1">-- 4. Module.</span>
<span class="c1">--------------------------------------------------------------------------------</span>


<span class="c1">--[[ Dieser Abschnitt ist auskommentiert damit der Rest des Skripts lauffähig</span>
<span class="c1">--   bleibt.</span>
</pre></div>
<div class="highlight"><pre lang="lua"><span class="c1">-- Angenommen mod.lua sieht so aus:</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">M</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>

<span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">sayMyName</span><span class="p">()</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hrunkner&#39;</span><span class="p">)</span>
<span class="kr">end</span>

<span class="kr">function</span><span class="w"> </span><span class="nc">M</span><span class="p">.</span><span class="nf">sayHello</span><span class="p">()</span>
<span class="w">  </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Why hello there&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nf">sayMyName</span><span class="p">()</span>
<span class="kr">end</span>

<span class="kr">return</span><span class="w"> </span><span class="nv">M</span>

<span class="c1">-- Eine andere Datei könnte die Funktionen in mod.lua so verwenden:</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">mod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">require</span><span class="p">(</span><span class="s1">&#39;mod&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">-- Führe mod.lua aus.</span>

<span class="c1">-- require ist der Standard-Weg um Module zu inkludieren.</span>
<span class="c1">-- require verhält sich wie: (Wenn nicht gecached wird; siehe später)</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">mod</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kr">function</span><span class="w"> </span><span class="p">()</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nv">Inhalt</span><span class="w"> </span><span class="nv">von</span><span class="w"> </span><span class="nv">mod</span><span class="p">.</span><span class="py">lua</span><span class="o">&gt;</span>
<span class="kr">end</span><span class="p">)()</span>
<span class="c1">-- Es ist als ob mod.lua eine Funktion wäre, sodass lokale Variablen in</span>
<span class="c1">-- mod.lua ausserhalb unsichtbar sind.</span>

<span class="c1">-- Das funktioniert, weil mod hier das Gleiche wie M in mod.lua ist:</span>
<span class="nv">mod</span><span class="p">.</span><span class="nf">sayHello</span><span class="p">()</span><span class="w">  </span><span class="c1">-- Says hello to Hrunkner.</span>

<span class="c1">-- Das ist falsch: sayMyName existiert nur in mod.lua:</span>
<span class="nv">mod</span><span class="p">.</span><span class="nf">sayMyName</span><span class="p">()</span><span class="w">  </span><span class="c1">-- Fehler</span>

<span class="c1">-- Der Rückgabe-Wert von require wird zwischengespeichert. Sodass Module nur</span>
<span class="c1">-- einmal abgearbeitet werden, auch wenn sie mit require öfters eingebunden</span>
<span class="c1">-- werden.</span>

<span class="c1">-- Nehmen wir an mod2.lua enthält &quot;print(&#39;Hi!&#39;)&quot;.</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">require</span><span class="p">(</span><span class="s1">&#39;mod2&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">-- Ausgabe Hi!</span>
<span class="kd">local</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">require</span><span class="p">(</span><span class="s1">&#39;mod2&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">-- Keine Ausgabe; a=b.</span>

<span class="c1">-- dofile ist wie require aber ohne Zwischenspeichern.</span>
<span class="nb">dofile</span><span class="p">(</span><span class="s1">&#39;mod2&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">--&gt; Hi!</span>
<span class="nb">dofile</span><span class="p">(</span><span class="s1">&#39;mod2&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">--&gt; Hi! (läuft nochmal, nicht wie require)</span>

<span class="c1">-- loadfile ladet eine lua Datei aber die Datei wird noch nicht abgearbeitet.</span>
<span class="nv">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">loadfile</span><span class="p">(</span><span class="s1">&#39;mod2&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">-- Sobald f() aufgerufen wird, läuft mod2.lua.</span>

<span class="c1">-- loadstring ist loadfile für Zeichenketten</span>
<span class="nv">g</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">loadstring</span><span class="p">(</span><span class="s1">&#39;print(343)&#39;</span><span class="p">)</span><span class="w">  </span><span class="c1">-- Gibt eine Funktion zurück..</span>
<span class="nf">g</span><span class="p">()</span><span class="w">  </span><span class="c1">-- Ausgabe 343; Vorher kam keine Ausgabe.</span>

<span class="c1">--]]</span>
</pre></div>
<h2>Referenzen</h2>
<p>Ich war so begeistert Lua zu lernen, damit ich Spiele mit <a href="http://love2d.org/">LÖVE game engine</a> programmieren konnte.</p>
<p>Ich habe angefangen mit <a href="http://nova-fusion.com/2012/08/27/lua-for-programmers-part-1/">BlackBulletIV's Lua for programmers</a>.
Danach habe ich das offizielle Lua Buch gelesen: <a href="http://www.lua.org/pil/contents.html">Programming in Lua</a></p>
<p>Es kann auch hilfreich sein hier vorbeizuschauen: <a href="http://lua-users.org/files/wiki_insecure/users/thomasl/luarefv51.pdf">Lua short reference</a></p>
<p>Wichtige Themen die hier nicht angesprochen wurden; die Standard-Bibliotheken:</p>
<ul>
<li><a href="http://lua-users.org/wiki/StringLibraryTutorial"><code>string</code> library</a></li>
<li><a href="http://lua-users.org/wiki/TableLibraryTutorial"><code>table</code> library</a></li>
<li><a href="http://lua-users.org/wiki/MathLibraryTutorial"><code>math</code> library</a></li>
<li><a href="http://lua-users.org/wiki/IoLibraryTutorial"><code>io</code> library</a></li>
<li><a href="http://lua-users.org/wiki/OsLibraryTutorial"><code>os</code> library</a></li>
</ul>
<p>Übrigens, die gesamte Datei ist gültiges Lua. Speichere sie als learn.lua und
starte sie als &quot;<code>lua learn.lua</code>&quot; !</p>
<p>Die Erstfassung ist von tylerneylon.com, und ist auch hier verfügbar: <a href="https://gist.github.com/tylerneylon/5853042">GitHub gist</a>. Viel Spaß mit Lua!</p>

        <hr>
        <p>
          Du hast einen Verbesserungsvorschlag oder einen Fehler gefunden? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Erstelle ein Ticket</a> im offiziellen GitHub Repo, oder du erstellst einfach gleich einen <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/de/lua.md">pull request</a>!
        </p>
        <p class="contributed">
          Originalversion von Tyler Neylon, mit Updates von <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/de/lua.md">4 contributors</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://tylerneylon.com/">Tyler Neylon</a>
          </p>
        </footer>
      </div>
    </div>
  </body>
</html>