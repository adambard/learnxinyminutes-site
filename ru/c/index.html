<!DOCTYPE html>
<html lang="ru">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="ru">
    <title>Learn C in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/ru/c/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <h1><a href="/">Изучите X за Y минут</a></h1>
      <h2>Где X=C</h2>

      <div class="lang-choice">
        <label for="lang-select">Язык:</label>
        <select id="lang-select" name="lang-select">
          <option value="ru">русский</option>
          <option value="de" data-url="/de/c/">Deutsch</option>
          <option value="en" data-url="/c/">English</option>
          <option value="es" data-url="/es/c/">español</option>
          <option value="fr" data-url="/fr/c/">français</option>
          <option value="it" data-url="/it/c/">italiano</option>
          <option value="ja" data-url="/ja/c/">日本語</option>
          <option value="pt-br" data-url="/pt-br/c/">português (Brasil)</option>
          <option value="tr" data-url="/tr/c/">Türkçe</option>
          <option value="uk" data-url="/uk/c/">українська</option>
          <option value="zh-cn" data-url="/zh-cn/c/">中文 (简体)</option>
        </select>
      </div>
      <p class="filelink">
        Получить исходный код:
        <a href="/ru/files/learnc.c">learnc.c</a>
      </p>
      <div id="doc">
<p>Что ж, Си всё ещё является лидером среди современных высокопроизводительных языков.</p>
<p>Для большинства программистов, Си – это самый низкоуровневый язык на котором они когда-либо писали,
но этот язык даёт больше, чем просто повышение производительности.
Держите это руководство в памяти и вы сможете использовать Си максимально эффективно.</p>
<div class="highlight"><pre lang="c"><span class="c1">// Однострочный комментарий начинается с // - доступен только после С99.</span>

<span class="cm">/*</span>
<span class="cm">Многострочный комментарий выглядит так. Работает начиная с С89.</span>
<span class="cm">*/</span>

<span class="c1">// Импорт файлов происходит с помощью **#include**</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span>

<span class="c1">// Файлы &lt;в угловых скобочках&gt; будут подключаться из стандартной библиотеки.</span>
<span class="c1">// Свои файлы необходимо подключать с помощью &quot;двойных кавычек&quot;.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;my_header.h&quot;</span>

<span class="c1">// Объявление функций должно происходить в .h файлах или вверху .c файла.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">function_1</span><span class="p">();</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">function_2</span><span class="p">();</span>

<span class="c1">// Точка входа в программу – это функция main.</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// для форматированного вывода в консоль используется printf</span>
<span class="w">    </span><span class="c1">// %d – означает, что будем выводить целое число, \n переводит указатель вывода</span>
<span class="w">    </span><span class="c1">// на новую строчку</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; напечатает &quot;0&quot;</span>
<span class="w">    </span><span class="c1">// Каждый оператор заканчивается точкой с запятой.</span>

<span class="w">    </span><span class="c1">///////////////////////////////////////</span>
<span class="w">    </span><span class="c1">// Типы</span>
<span class="w">    </span><span class="c1">///////////////////////////////////////</span>

<span class="w">    </span><span class="c1">// int обычно имеет длину 4 байта</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x_int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// short обычно имеет длину 2 байта</span>
<span class="w">    </span><span class="kt">short</span><span class="w"> </span><span class="n">x_short</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// char гарантированно имеет длину 1 байта</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">x_char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">y_char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;y&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// Символьные литералы заключаются в кавычки &#39;&#39;</span>

<span class="w">    </span><span class="c1">// long как правило занимает от 4 до 8 байт</span>
<span class="w">    </span><span class="c1">// long long занимает как минимум 64 бита</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">x_long</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">x_long_long</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// float это 32-битное число с плавающей точкой</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">x_float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// double это 64-битное число с плавающей точкой</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">x_double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Целые типы могут быть беззнаковыми.</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="n">ux_short</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ux_int</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">ux_long_long</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// sizeof(T) возвращает размер переменной типа Т в байтах.</span>
<span class="w">    </span><span class="c1">// sizeof(obj) возвращает размер объекта obj в байтах.</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%zu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span><span class="w"> </span><span class="c1">// =&gt; 4 (на большинстве машин int занимает 4 байта)</span>

<span class="w">    </span><span class="c1">// Если аргументом sizeof будет выражение, то этот аргумент вычисляется</span>
<span class="w">    </span><span class="c1">// ещё во время компиляции кода (кроме динамических массивов).</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// size_t это беззнаковый целый тип который использует как минимум 2 байта</span>
<span class="w">    </span><span class="c1">// для записи размера объекта</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="o">++</span><span class="p">);</span><span class="w"> </span><span class="c1">// a++ не выполнится</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;sizeof(a++) = %zu, где a = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// выведет строку &quot;sizeof(a++) = 4, где a = 1&quot; (на 32-битной архитектуре)</span>

<span class="w">    </span><span class="c1">// Можно задать размер массива при объявлении.</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">my_char_array</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span><span class="w"> </span><span class="c1">// Этот массив занимает 1 * 20 = 20 байт</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">my_int_array</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span><span class="w"> </span><span class="c1">// Этот массив занимает 4 * 20 = 80 байт (сумма 4-битных слов)</span>

<span class="w">    </span><span class="c1">// Можно обнулить массив при объявлении.</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">my_array</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>

<span class="w">    </span><span class="c1">// Индексация массива происходит также как и в других Си-подобных языках.</span>
<span class="w">    </span><span class="n">my_array</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"> </span><span class="c1">// =&gt; 0</span>

<span class="w">    </span><span class="c1">// Массивы изменяемы. Это просто память как и другие переменные.</span>
<span class="w">    </span><span class="n">my_array</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">my_array</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="w"> </span><span class="c1">// =&gt; 2</span>

<span class="w">    </span><span class="c1">// В C99 (а также опционально в C11), массив может быть объявлен динамически.</span>
<span class="w">    </span><span class="c1">// Размер массива не обязательно должен быть рассчитан на этапе компиляции.</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Enter the array size: &quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// спрашиваем юзера размер массива</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">buf</span><span class="p">[</span><span class="mh">0x100</span><span class="p">];</span>
<span class="w">    </span><span class="n">fgets</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">stdin</span><span class="p">);</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strtoul</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w"> </span><span class="c1">// strtoul парсит строку в беззнаковое целое</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">var_length_array</span><span class="p">[</span><span class="n">size</span><span class="p">];</span><span class="w"> </span><span class="c1">// объявление динамического массива</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;sizeof array = %zu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">var_length_array</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Вывод программы (в зависимости от архитектуры) будет таким:</span>
<span class="w">    </span><span class="c1">// &gt; Enter the array size: 10</span>
<span class="w">    </span><span class="c1">// &gt; sizeof array = 40</span>

<span class="w">    </span><span class="c1">// Строка – это просто массив символов, оканчивающийся нулевым (NUL (0x00)) байтом</span>
<span class="w">    </span><span class="c1">// представляемым в строке специальным символом &#39;\0&#39;.</span>
<span class="w">    </span><span class="c1">// Нам не нужно вставлять нулевой байт в строковой литерал,</span>
<span class="w">    </span><span class="c1">// компилятор всё сделает за нас.</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">a_string</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;This is a string&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a_string</span><span class="p">);</span><span class="w"> </span><span class="c1">// %s обозначает вывод строки</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">a_string</span><span class="p">[</span><span class="mi">16</span><span class="p">]);</span><span class="w"> </span><span class="c1">// =&gt; 0</span>
<span class="w">    </span><span class="c1">// байт #17 тоже равен 0 (а также 18, 19, и 20)</span>

<span class="w">    </span><span class="c1">// Если между одинарными кавычками есть символ – это символьный литерал,</span>
<span class="w">    </span><span class="c1">// но это тип int, а не char (по историческим причинам).</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// хорошо</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">chb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// тоже хорошо (подразумевается преобразование int в char)</span>

<span class="w">    </span><span class="c1">///////////////////////////////////////</span>
<span class="w">    </span><span class="c1">// Операторы</span>
<span class="w">    </span><span class="c1">///////////////////////////////////////</span>

<span class="w">    </span><span class="c1">// Можно использовать множественное объявление.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">i2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">f2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Арифметика обычная</span>
<span class="w">    </span><span class="n">i1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">i2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 3</span>
<span class="w">    </span><span class="n">i2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">i1</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 1</span>
<span class="w">    </span><span class="n">i2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i1</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 2</span>
<span class="w">    </span><span class="n">i1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">i2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0 (0.5, но обрезается до 0)</span>

<span class="w">    </span><span class="n">f1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">f2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0.5, плюс-минус погрешность потому что,</span>
<span class="w">    </span><span class="c1">// цифры с плавающей точкой вычисляются неточно!</span>

<span class="w">    </span><span class="c1">// Остаток от деления</span>
<span class="w">    </span><span class="mi">11</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 2</span>

<span class="w">    </span><span class="c1">// Операции сравнения вам уже знакомы, но в Си нет булевого типа.</span>
<span class="w">    </span><span class="c1">// Вместо него используется int. 0 это false, всё остальное это true.</span>
<span class="w">    </span><span class="c1">// Операции сравнения всегда возвращают 1 или 0.</span>
<span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0 (false)</span>
<span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 1 (true)</span>
<span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 1</span>
<span class="w">    </span><span class="mi">3</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0</span>
<span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 1</span>
<span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 1</span>

<span class="w">    </span><span class="c1">// Си это не Питон – операции сравнения могут быть только парными.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// ОШИБКА:</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">between_0_and_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// Правильно:</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">between_0_and_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Логика</span>
<span class="w">    </span><span class="o">!</span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0 (логическое НЕ)</span>
<span class="w">    </span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 1</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 1 (логическое И)</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 1 (логическое ИЛИ)</span>
<span class="w">    </span><span class="mi">0</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0</span>

<span class="w">    </span><span class="c1">// Битовые операторы</span>
<span class="w">    </span><span class="o">~</span><span class="mh">0x0F</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0xF0 (побитовое отрицание)</span>
<span class="w">    </span><span class="mh">0x0F</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xF0</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0x00 (побитовое И)</span>
<span class="w">    </span><span class="mh">0x0F</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mh">0xF0</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0xFF (побитовое ИЛИ)</span>
<span class="w">    </span><span class="mh">0x04</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mh">0x0F</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0x0B (исключающее ИЛИ (XOR))</span>
<span class="w">    </span><span class="mh">0x01</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0x02 (побитовый сдвиг влево (на 1))</span>
<span class="w">    </span><span class="mh">0x02</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c1">// =&gt; 0x01 (побитовый сдвиг вправо (на 1))</span>

<span class="w">    </span><span class="c1">// Будьте осторожны при сдвиге беззнакового int, эти операции не определены:</span>
<span class="w">    </span><span class="c1">// - сдвиг в знаковый бит у целого числа (int a = 1 &lt;&lt; 32)</span>
<span class="w">    </span><span class="c1">// - сдвиг влево отрицательных чисел (int a = -1 &lt;&lt; 2)</span>

<span class="w">    </span><span class="c1">///////////////////////////////////////</span>
<span class="w">    </span><span class="c1">// Структуры ветвления</span>
<span class="w">    </span><span class="c1">///////////////////////////////////////</span>

<span class="w">    </span><span class="c1">// Условный оператор</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;I am never run</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;I am also never run</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;I print</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Цикл с предусловием</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ii</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">ii</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d, &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ii</span><span class="o">++</span><span class="p">);</span><span class="w"> </span><span class="c1">// инкрементация происходит после того как</span>
<span class="w">                              </span><span class="c1">// значение ii передано (&quot;postincrement&quot;)</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="c1">// =&gt; prints &quot;0, 1, 2, 3, 4, 5, 6, 7, 8, 9, &quot;</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Цикл с постусловием</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">kk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d, &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">kk</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">++</span><span class="n">kk</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w"> </span><span class="c1">// инкрементация происходит перед тем как</span>
<span class="w">                         </span><span class="c1">// передаётся значение kk (&quot;preincrement&quot;)</span>
<span class="w">    </span><span class="c1">// =&gt; prints &quot;0, 1, 2, 3, 4, 5, 6, 7, 8, 9, &quot;</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Цикл со счётчиком</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">jj</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">jj</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">jj</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">jj</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d, &quot;</span><span class="p">,</span><span class="w"> </span><span class="n">jj</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="c1">// =&gt; prints &quot;0, 1, 2, 3, 4, 5, 6, 7, 8, 9, &quot;</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Ветвление с множественным выбором</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">some_integral_expression</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="c1">// значения должны быть целыми константами (и могут быть выражениями)</span>
<span class="w">        </span><span class="n">do_stuff</span><span class="p">();</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span><span class="w"> </span><span class="c1">// если не написать break; то управление будет передано следующему блоку</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span>
<span class="w">        </span><span class="n">do_something_else</span><span class="p">();</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span>
<span class="w">        </span><span class="c1">// если не было совпадения, то выполняется блок default:</span>
<span class="w">        </span><span class="n">fputs</span><span class="p">(</span><span class="s">&quot;ошибка!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">stderr</span><span class="p">);</span>
<span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="mi">-1</span><span class="p">);</span>
<span class="w">        </span><span class="k">break</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">///////////////////////////////////////</span>
<span class="w">    </span><span class="c1">// Форматирование вывода</span>
<span class="w">    </span><span class="c1">///////////////////////////////////////</span>

<span class="w">    </span><span class="c1">// Каждое выражение в Си имеет тип, но вы можете привести один тип к другому,</span>
<span class="w">    </span><span class="c1">// если хотите (с некоторыми искажениями).</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x_hex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">;</span><span class="w"> </span><span class="c1">// Вы можете назначать переменные с помощью шестнадцатеричного кода.</span>

<span class="w">    </span><span class="c1">// Приведение типов будет пытаться сохранять цифровые значения.</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x_hex</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Prints 1</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">short</span><span class="p">)</span><span class="w"> </span><span class="n">x_hex</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Prints 1</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="w"> </span><span class="n">x_hex</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Prints 1</span>

<span class="w">    </span><span class="c1">// Типы могут переполняться без вызова предупреждения.</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="p">)</span><span class="w"> </span><span class="mi">257</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; 1 (Max char = 255 if char is 8 bits long)</span>

<span class="w">    </span><span class="c1">// Для определения максимального значения типов `char`, `signed char` и `unisigned char`,</span>
<span class="w">    </span><span class="c1">// соответственно используйте CHAR_MAX, SCHAR_MAX и UCHAR_MAX макросы из &lt;limits.h&gt;</span>

<span class="w">    </span><span class="c1">// Целые типы могут быть приведены к вещественным и наоборот.</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%f</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="mi">100</span><span class="p">);</span><span class="w"> </span><span class="c1">// %f formats a float</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lf</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="mi">100</span><span class="p">);</span><span class="w"> </span><span class="c1">// %lf formats a double</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="mf">100.0</span><span class="p">);</span>

<span class="w">    </span><span class="c1">///////////////////////////////////////</span>
<span class="w">    </span><span class="c1">// Указатели</span>
<span class="w">    </span><span class="c1">///////////////////////////////////////</span>

<span class="w">    </span><span class="c1">// Указатель – это переменная которая хранит адрес в памяти.</span>
<span class="w">    </span><span class="c1">// При объявлении указателя указывается тип данных переменной на которую он будет ссылаться.</span>
<span class="w">    </span><span class="c1">// Вы можете получить адрес любой переменной, а потом работать с ним.</span>

<span class="w">    </span><span class="c1">// Используйте &amp; для получения адреса переменной.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">x</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Напечатает адрес в памяти, где лежит переменная x</span>
<span class="w">    </span><span class="c1">// (%p выводит указатель на void *)</span>

<span class="w">    </span><span class="c1">// Для объявления указателя нужно поставить * перед именем.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">px</span><span class="p">,</span><span class="w"> </span><span class="n">not_a_pointer</span><span class="p">;</span><span class="w"> </span><span class="c1">// px это указатель на int</span>
<span class="w">    </span><span class="n">px</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">x</span><span class="p">;</span><span class="w"> </span><span class="c1">// сохранит адрес x в px</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="n">px</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Напечатает адрес в памяти, где лежит переменная px</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%zu, %zu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">px</span><span class="p">),</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">not_a_pointer</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// =&gt; Напечатает &quot;8, 4&quot; в 64 битной системе</span>

<span class="w">    </span><span class="c1">// Для того, чтобы получить значение по адресу, напечатайте * перед именем.</span>
<span class="w">    </span><span class="c1">// Да, * используется при объявлении указателя и для получении значения по адресу</span>
<span class="w">    </span><span class="c1">// немного запутано, но вы привыкнете.</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">px</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Напечатает 0, значение перемененной x</span>

<span class="w">    </span><span class="c1">// Вы также можете изменять значение, на которое указывает указатель.</span>
<span class="w">    </span><span class="p">(</span><span class="o">*</span><span class="n">px</span><span class="p">)</span><span class="o">++</span><span class="p">;</span><span class="w"> </span><span class="c1">// Инкрементирует значение на которое указывает px на единицу</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">px</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Напечатает 1</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Напечатает 1</span>

<span class="w">    </span><span class="c1">// Массивы удобно использовать для большого количества однотипных данных.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">x_array</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">xx</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">xx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">xx</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"> </span><span class="n">xx</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">x_array</span><span class="p">[</span><span class="n">xx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xx</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="c1">// Объявление x_array с значениями 20, 19, 18,... 2, 1</span>

<span class="w">    </span><span class="c1">// Объявление указателя на int с адресом массива.</span>
<span class="w">    </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">x_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x_array</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// x_ptr сейчас указывает на первый элемент массива (со значением 20).</span>
<span class="w">    </span><span class="c1">// Это работает, потому что при обращении к имени массива возвращается</span>
<span class="w">    </span><span class="c1">// указатель на первый элемент.</span>
<span class="w">    </span><span class="c1">// Например, когда массив передаётся в функцию или присваивается указателю, он</span>
<span class="w">    </span><span class="c1">// неявно преобразуется в указатель.</span>
<span class="w">    </span><span class="c1">// Исключения: когда массив является аргументом для оператор &#39;&amp;&#39;:</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ptr_to_arr</span><span class="p">)[</span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arr</span><span class="p">;</span><span class="w"> </span><span class="c1">// &amp;arr не является &#39;int *&#39;!</span>
<span class="w">                                  </span><span class="c1">// он является &quot;указателем на массив&quot; (из десяти &#39;int&#39;ов).</span>
<span class="w">    </span><span class="c1">// или когда массив это строчный литерал, используемый при объявлении массива символов:</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">arr</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;foobarbazquirk&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// или когда массив является аргументом `sizeof` или `alignof` операторов:</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">arr</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arr</span><span class="p">;</span><span class="w"> </span><span class="c1">// то же самое что и &quot;int *ptr = &amp;arr[0];&quot;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%zu %zu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">arr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">ptr</span><span class="p">);</span><span class="w"> </span><span class="c1">// напечатает &quot;40, 4&quot; или &quot;40, 8&quot;</span>

<span class="w">    </span><span class="c1">// Декрементация и инкрементация указателей зависит от их типа</span>
<span class="w">    </span><span class="c1">// (это называется арифметика указателей)</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">x_ptr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span><span class="w"> </span><span class="c1">// =&gt; Напечатает 19</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x_array</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span><span class="w"> </span><span class="c1">// =&gt; Напечатает 19</span>

<span class="w">    </span><span class="c1">// Вы также можете динамически выделять несколько блоков памяти с помощью</span>
<span class="w">    </span><span class="c1">// функции malloc из стандартной библиотеки, которая принимает один</span>
<span class="w">    </span><span class="c1">// аргумент типа size_t – количество байт необходимых для выделения.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">my_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">my_ptr</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">xx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">xx</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"> </span><span class="n">xx</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">*</span><span class="p">(</span><span class="n">my_ptr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">xx</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">xx</span><span class="p">;</span><span class="w"> </span><span class="c1">// my_ptr[xx] = 20-xx</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="c1">// Выделяет память для 20, 19, 18, 17... 2, 1 (как int&#39;ы)</span>

<span class="w">    </span><span class="c1">// Работа с памятью с помощью указателей может давать неожиданные и</span>
<span class="w">    </span><span class="c1">// непредсказуемые результаты.</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">my_ptr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">21</span><span class="p">));</span><span class="w"> </span><span class="c1">// =&gt; Напечатает кто-нибудь знает, что?</span>
<span class="w">                                    </span><span class="c1">// Скорей всего программа вылетит.</span>

<span class="w">    </span><span class="c1">// Когда вы закончили работать с памятью, которую ранее выделили, вам необходимо</span>
<span class="w">    </span><span class="c1">// освободить её, иначе это может вызвать утечку памяти или ошибки.</span>
<span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">my_ptr</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Строки это массивы символов, но обычно они представляются как</span>
<span class="w">    </span><span class="c1">// указатели на символ (как указатели на первый элемент массива).</span>
<span class="w">    </span><span class="c1">// Хорошей практикой считается использование `const char *&#39; при объявлении</span>
<span class="w">    </span><span class="c1">// строчного литерала. При таком подходе литерал не может быть изменён.</span>
<span class="w">    </span><span class="c1">// (например &quot;foo&quot;[0] = &#39;a&#39; вызовет ошибку!)</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">my_str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;This is my very own string literal&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;%c</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">my_str</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; &#39;T&#39;</span>

<span class="w">    </span><span class="c1">// Это не работает, если строка является массивом</span>
<span class="w">    </span><span class="c1">// (потенциально задаваемой с помощью строкового литерала)</span>
<span class="w">    </span><span class="c1">// который находится в перезаписываемой части памяти:</span>

<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">foo</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">foo</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// это выполнится и строка теперь &quot;aoo&quot;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">function_1</span><span class="p">()</span>
<span class="p">}</span><span class="w"> </span><span class="c1">// конец функции main()</span>

<span class="c1">///////////////////////////////////////</span>
<span class="c1">// Функции</span>
<span class="c1">///////////////////////////////////////</span>

<span class="c1">// Синтаксис объявления функции:</span>
<span class="c1">// &lt;возвращаемый тип&gt; &lt;имя функции&gt;(аргументы)</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">add_two_ints</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x1</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">x2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">x1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x2</span><span class="p">;</span><span class="w"> </span><span class="c1">// Используйте return для возврата значения</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">Данные в функцию передаются &quot;по значению&quot;, но никто не мешает</span>
<span class="cm">вам передавать в функцию указатели и менять данные по указателям.</span>

<span class="cm">Например: инвертировать строку прямо в функции</span>
<span class="cm">*/</span>

<span class="c1">// void означает, что функция ничего не возвращает</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">str_reverse</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">str_in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">tmp</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">ii</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">str_in</span><span class="p">);</span><span class="w"> </span><span class="c1">// `strlen()` является частью стандартной библиотеки</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">ii</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">ii</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">ii</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">tmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_in</span><span class="p">[</span><span class="n">ii</span><span class="p">];</span>
<span class="w">        </span><span class="n">str_in</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_in</span><span class="p">[</span><span class="n">len</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ii</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w"> </span><span class="c1">// ii-тый символ с конца</span>
<span class="w">        </span><span class="n">str_in</span><span class="p">[</span><span class="n">len</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">ii</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tmp</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;This is a test.&quot;</span><span class="p">;</span>
<span class="n">str_reverse</span><span class="p">(</span><span class="n">c</span><span class="p">);</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">);</span><span class="w"> </span><span class="c1">// =&gt; Выведет &quot;.tset a si sihT&quot;</span>

<span class="c1">///////////////////////////////////////</span>
<span class="c1">// Типы и структуры определяемые пользователем</span>
<span class="c1">///////////////////////////////////////</span>

<span class="c1">// typedef используется для задания стандартным типам своих названий</span>
<span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">my_type</span><span class="p">;</span>
<span class="n">my_type</span><span class="w"> </span><span class="n">my_type_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="c1">// Структуры это просто коллекция данных, память выделяется последовательно,</span>
<span class="c1">// в том порядке в котором записаны данные.</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">rectangle</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// sizeof(struct rectangle) == sizeof(int) + sizeof(int) – не всегда верно</span>
<span class="c1">// из-за особенностей компиляции (необычное поведение при отступах)[1].</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">function_1</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">rectangle</span><span class="w"> </span><span class="n">my_rec</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Доступ к структурам через точку</span>
<span class="w">    </span><span class="n">my_rec</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="n">my_rec</span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Вы можете объявить указатель на структуру</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">rectangle</span><span class="w"> </span><span class="o">*</span><span class="n">my_rec_ptr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">my_rec</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Можно получить доступ к структуре и через указатель</span>
<span class="w">    </span><span class="p">(</span><span class="o">*</span><span class="n">my_rec_ptr</span><span class="p">).</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// ... или ещё лучше: используйте оператор -&gt; для лучшей читабельности</span>
<span class="w">    </span><span class="n">my_rec_ptr</span><span class="o">-&gt;</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="c1">// то же что и &quot;(*my_rec_ptr).height = 10;&quot;</span>
<span class="p">}</span>

<span class="c1">// Вы можете применить typedef к структуре, для удобства.</span>
<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">rectangle</span><span class="w"> </span><span class="n">rect</span><span class="p">;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">area</span><span class="p">(</span><span class="n">rect</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">height</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Если вы имеете большую структуру, можно получить доступ к ней &quot;по указателю&quot;,</span>
<span class="c1">// чтобы избежать копирования всей структуры.</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">area</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">rect</span><span class="w"> </span><span class="o">*</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">r</span><span class="o">-&gt;</span><span class="n">width</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">r</span><span class="o">-&gt;</span><span class="n">height</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">///////////////////////////////////////</span>
<span class="c1">// Указатели на функции</span>
<span class="c1">///////////////////////////////////////</span>

<span class="cm">/*</span>
<span class="cm">Во время исполнения функции находятся по известным адресам в памяти.</span>
<span class="cm">Указатель на функцию может быть использован для непосредственного вызова функции.</span>
<span class="cm">Однако синтаксис может сбивать с толку.</span>

<span class="cm">Пример: использование str_reverse по указателю</span>
<span class="cm">*/</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">str_reverse_through_pointer</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">str_in</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Определение функции через указатель.</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="p">);</span><span class="w"> </span><span class="c1">// Сигнатура должна полностью совпадать с целевой функцией.</span>
<span class="w">    </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">str_reverse</span><span class="p">;</span><span class="w"> </span><span class="c1">// Присвоить фактический адрес (во время исполнения)</span>
<span class="w">    </span><span class="c1">// &quot;f = str_reverse;&quot; тоже будет работать.</span>
<span class="w">    </span><span class="c1">// Имя функции (как и массива) возвращает указатель на начало.</span>
<span class="w">    </span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">)(</span><span class="n">str_in</span><span class="p">);</span><span class="w"> </span><span class="c1">// Просто вызываем функцию через указатель.</span>
<span class="w">    </span><span class="c1">// &quot;f(str_in);&quot; или вот так</span>
<span class="p">}</span>
</pre></div>
<h2>На почитать</h2>
<p>Лучше всего найдите копию <a href="https://en.wikipedia.org/wiki/The_C_Programming_Language">K&amp;R, она же &quot;The C Programming Language&quot;</a>,
это книга написанная создателями Си. Но будьте осторожны, она содержит идеи которые больше не считаются хорошими.</p>
<p>Если у вас появился вопрос, почитайте <a href="http://c-faq.com">compl.lang.c Frequently Asked Questions</a>.</p>
<p>Очень важно использовать правильные отступы и ставить пробелы в нужных местах.
Читаемый код лучше, чем красивый или быстрый код.
Чтобы научиться писать хороший код, почитайте <a href="https://www.kernel.org/doc/Documentation/CodingStyle">Linux kernel coding style</a>.</p>
<p>[1] <a href="http://stackoverflow.com/questions/119123/why-isnt-sizeof-for-a-struct-equal-to-the-sum-of-sizeof-of-each-member">http://stackoverflow.com/questions/119123/why-isnt-sizeof-for-a-struct-equal-to-the-sum-of-sizeof-of-each-member</a></p>

        <hr>
        <p>
          Хотите предложить свой перевод? Может быть, улучшение перевода? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Откройте Issue</a> в репозитории GitHub или сделайте <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/ru/c.md">pull request</a> сами!
        </p>
        <p class="contributed">
          Первоначально предоставлено автором Adam Bard, и обновлено <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/ru/c.md">9 авторами</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://adambard.com/">Adam Bard</a>,
            <a href="http://twitter.com/H2CO3_iOS">Árpád Goretity</a>
          </p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const langSelect = document.getElementById('lang-select');
          langSelect?.addEventListener('change', () => {
            const selectedOption = langSelect.options[langSelect.selectedIndex];
            const url = selectedOption?.getAttribute('data-url');
            if (url) {
              window.location.href = url;
            }
          });
        });
      </script>
    </div>
  </body>
</html>