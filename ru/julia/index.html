<!DOCTYPE html>
<html lang="ru">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="ru">
    <title>Learn Julia in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/ru/julia/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <div class="share">
        <span class="sharemsg">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fru%2Fjulia%2F&amp;text=%D0%98%D0%B7%D1%83%D1%87%D0%B8%D1%82%D0%B5+X+%D0%B7%D0%B0+Y+%D0%BC%D0%B8%D0%BD%D1%83%D1%82%2C+%D0%B3%D0%B4%D0%B5+X%3DJulia">
            Поделиться страницей
          </a>
        </span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_twitter_large' displayText='Tweet'></span>
      </div>
      <h1><a href="/">Изучите X за Y минут</a></h1>
      <h2>Где X=Julia</h2>
      <p class="filelink">
        Получить исходный код:
        <a href="/ru/files/learnjulia.jl">learnjulia.jl</a>
      </p>
      <div id="doc">
<p>Julia — гомоиконный функциональный язык программирования для технических расчётов.
Несмотря на полную поддержку гомоиконных макросов, функций первого класса и конструкций управления низкого уровня, этот язык так же прост в изучении и применении, как и Python.</p>
<p>Документ описывает текущую dev-версию Julia от 18-о октября 2013 года.</p>
<div class="highlight"><pre lang="julia"><span class="c"># Однострочные комментарии начинаются со знака решётки.</span>

<span class="c">####################################################</span>
<span class="c">## 1. Примитивные типы данных и операторы</span>
<span class="c">####################################################</span>

<span class="c"># Всё в Julia — выражение.</span>

<span class="c"># Простые численные типы</span>
<span class="mi">3</span><span class="w"> </span><span class="c"># =&gt; 3 (Int64)</span>
<span class="mf">3.2</span><span class="w"> </span><span class="c"># =&gt; 3.2 (Float64)</span>
<span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="nb">im</span><span class="w"> </span><span class="c"># =&gt; 2 + 1im (Complex{Int64})</span>
<span class="mi">2</span><span class="o">//</span><span class="mi">3</span><span class="w"> </span><span class="c"># =&gt; 2//3 (Rational{Int64})</span>

<span class="c"># Доступны все привычные инфиксные операторы</span>
<span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; 2</span>
<span class="mi">8</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; 7</span>
<span class="mi">10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c"># =&gt; 20</span>
<span class="mi">35</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c"># =&gt; 7.0</span>
<span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c"># =&gt; 2.5 # деление Int на Int всегда возвращает Float</span>
<span class="n">div</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 2 # для округления к нулю используется div</span>
<span class="mi">5</span><span class="w"> </span><span class="o">\</span><span class="w"> </span><span class="mi">35</span><span class="w"> </span><span class="c"># =&gt; 7.0</span>
<span class="mi">2</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c"># =&gt; 4 # возведение в степень</span>
<span class="mi">12</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="c"># =&gt; 2</span>

<span class="c"># С помощью скобок можно изменить приоритет операций</span>
<span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c"># =&gt; 8</span>

<span class="c"># Побитовые операторы</span>
<span class="o">~</span><span class="mi">2</span><span class="w"> </span><span class="c"># =&gt; -3   # НЕ (NOT)</span>
<span class="mi">3</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c"># =&gt; 1 # И (AND)</span>
<span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="c"># =&gt; 6 # ИЛИ (OR)</span>
<span class="mi">2</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="c"># =&gt; 6 # сложение по модулю 2 (XOR)</span>
<span class="mi">2</span><span class="w"> </span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; 1 # логический сдвиг вправо</span>
<span class="mi">2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="c"># =&gt; 1 # арифметический сдвиг вправо</span>
<span class="mi">2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="c"># =&gt; 4 # логический/арифметический сдвиг влево</span>

<span class="c"># Функция bits возвращает бинарное представление числа</span>
<span class="n">bits</span><span class="p">(</span><span class="mi">12345</span><span class="p">)</span>
<span class="c"># =&gt; &quot;0000000000000000000000000000000000000000000000000011000000111001&quot;</span>
<span class="n">bits</span><span class="p">(</span><span class="mf">12345.0</span><span class="p">)</span>
<span class="c"># =&gt; &quot;0100000011001000000111001000000000000000000000000000000000000000&quot;</span>

<span class="c"># Логические значения являются примитивами</span>
<span class="nb">true</span>
<span class="nb">false</span>

<span class="c"># Булевы операторы</span>
<span class="o">!</span><span class="nb">true</span><span class="w"> </span><span class="c"># =&gt; false</span>
<span class="o">!</span><span class="nb">false</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="mi">1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; false</span>
<span class="mi">1</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; false</span>
<span class="mi">2</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="mi">1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="c"># =&gt; false</span>
<span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="mi">2</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="c"># Сравнения можно объединять цепочкой</span>
<span class="mi">1</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="mi">2</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="c"># =&gt; false</span>

<span class="c"># Строки объявляются с помощью двойных кавычек — &quot;</span>
<span class="s">&quot;This is a string.&quot;</span>

<span class="c"># Символьные литералы создаются с помощью одинарных кавычек — &#39;</span>
<span class="sc">&#39;a&#39;</span>

<span class="c"># Строки индексируются как массивы символов</span>
<span class="s">&quot;This is a string&quot;</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; &#39;T&#39; # Индексы начинаются с единицы</span>
<span class="c"># Индексирование не всегда правильно работает для UTF8-строк,</span>
<span class="c"># поэтому рекомендуется использовать итерирование (map, for-циклы и т.п.).</span>

<span class="c"># Для строковой интерполяции используется знак доллара ($):</span>
<span class="s">&quot;2 + 2 = </span><span class="si">$</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="s">&quot;</span><span class="w"> </span><span class="c"># =&gt; &quot;2 + 2 = 4&quot;</span>
<span class="c"># В скобках можно использовать любое выражение языка.</span>

<span class="c"># Другой способ форматирования строк — макрос printf</span>
<span class="nd">@printf</span><span class="w"> </span><span class="s">&quot;</span><span class="si">%d</span><span class="s"> is less than </span><span class="si">%f</span><span class="s">&quot;</span><span class="w"> </span><span class="mf">4.5</span><span class="w"> </span><span class="mf">5.3</span><span class="w"> </span><span class="c"># 5 is less than 5.300000</span>

<span class="c">####################################################</span>
<span class="c">## 2. Переменные и коллекции</span>
<span class="c">####################################################</span>

<span class="c"># Вывод</span>
<span class="n">println</span><span class="p">(</span><span class="s">&quot;I&#39;m Julia. Nice to meet you!&quot;</span><span class="p">)</span>

<span class="c"># Переменные инициализируются без предварительного объявления</span>
<span class="n">some_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="c"># =&gt; 5</span>
<span class="n">some_var</span><span class="w"> </span><span class="c"># =&gt; 5</span>

<span class="c"># Попытка доступа к переменной до инициализации вызывает ошибку</span>
<span class="k">try</span>
<span class="w">    </span><span class="n">some_other_var</span><span class="w"> </span><span class="c"># =&gt; ERROR: some_other_var not defined</span>
<span class="k">catch</span><span class="w"> </span><span class="n">e</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="k">end</span>

<span class="c"># Имена переменных начинаются с букв.</span>
<span class="c"># После первого символа можно использовать буквы, цифры,</span>
<span class="c"># символы подчёркивания и восклицательные знаки.</span>
<span class="n">SomeOtherVar123!</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="c"># =&gt; 6</span>

<span class="c"># Допустимо использование unicode-символов</span>
<span class="n">☃</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="c"># =&gt; 8</span>
<span class="c"># Это особенно удобно для математических обозначений</span>
<span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">π</span><span class="w"> </span><span class="c"># =&gt; 6.283185307179586</span>

<span class="c"># Рекомендации по именованию:</span>
<span class="c"># * имена переменных в нижнем регистре, слова разделяются символом</span>
<span class="c">#   подчёркивания (&#39;\_&#39;);</span>
<span class="c">#</span>
<span class="c"># * для имён типов используется CamelCase;</span>
<span class="c">#</span>
<span class="c"># * имена функций и макросов в нижнем регистре</span>
<span class="c">#   без разделения слов символом подчёркивания;</span>
<span class="c">#</span>
<span class="c"># * имя функции, изменяющей переданные ей аргументы (in-place function),</span>
<span class="c">#   оканчивается восклицательным знаком.</span>

<span class="c"># Массив хранит последовательность значений, индексируемых с единицы до n:</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Int64</span><span class="p">[]</span><span class="w"> </span><span class="c"># =&gt; пустой массив Int64-элементов</span>

<span class="c"># Одномерный массив объявляется разделёнными запятой значениями.</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; массив из трёх Int64-элементов: [4, 5, 6]</span>
<span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; 4</span>
<span class="n">b</span><span class="p">[</span><span class="k">end</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; 6</span>

<span class="c"># Строки двумерного массива разделяются точкой с запятой.</span>
<span class="c"># Элементы строк разделяются пробелами.</span>
<span class="n">matrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; 2x2 Int64 Array: [1 2; 3 4]</span>

<span class="c"># push! и append! добавляют в список новые элементы</span>
<span class="n">push!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w">     </span><span class="c"># =&gt; [1]</span>
<span class="n">push!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w">     </span><span class="c"># =&gt; [1,2]</span>
<span class="n">push!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w">     </span><span class="c"># =&gt; [1,2,4]</span>
<span class="n">push!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w">     </span><span class="c"># =&gt; [1,2,4,3]</span>
<span class="n">append!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; [1,2,4,3,4,5,6]</span>

<span class="c"># pop! удаляет из списка последний элемент</span>
<span class="n">pop!</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w">        </span><span class="c"># =&gt; возвращает 6; массив b снова равен [4,5]</span>

<span class="c"># Вернём 6 обратно</span>
<span class="n">push!</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="w">   </span><span class="c"># b снова [4,5,6].</span>

<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; 1 # индексы начинаются с единицы!</span>

<span class="c"># Последний элемент можно получить с помощью end</span>
<span class="n">a</span><span class="p">[</span><span class="k">end</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; 6</span>

<span class="c"># Операции сдвига</span>
<span class="n">shift!</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 1 and a is now [2,4,3,4,5,6]</span>
<span class="n">unshift!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; [7,2,4,3,4,5,6]</span>

<span class="c"># Восклицательный знак на конце названия функции означает,</span>
<span class="c"># что функция изменяет переданные ей аргументы.</span>
<span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; массив из 3 Int64-элементов: [5,4,6]</span>
<span class="n">sort</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; [4,5,6]; но arr равен [5,4,6]</span>
<span class="n">sort!</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; [4,5,6]; а теперь arr — [4,5,6]</span>

<span class="c"># Попытка доступа за пределами массива выбрасывает BoundsError</span>
<span class="k">try</span>
<span class="w">    </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; ERROR: BoundsError() in getindex at array.jl:270</span>
<span class="w">    </span><span class="n">a</span><span class="p">[</span><span class="k">end</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; ERROR: BoundsError() in getindex at array.jl:270</span>
<span class="k">catch</span><span class="w"> </span><span class="n">e</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="k">end</span>

<span class="c"># Вывод ошибок содержит строку и файл, где произошла ошибка,</span>
<span class="c"># даже если это случилось в стандартной библиотеке.</span>
<span class="c"># Если вы собрали Julia из исходных кодов,</span>
<span class="c"># то найти эти файлы можно в директории base.</span>

<span class="c"># Создавать массивы можно из последовательности</span>
<span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; массив из 5 Int64-элементов: [1,2,3,4,5]</span>

<span class="c"># Срезы</span>
<span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; [1, 2, 3]</span>
<span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="o">:</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; [2, 3, 4, 5]</span>
<span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="o">:</span><span class="k">end</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; [2, 3, 4, 5]</span>

<span class="c"># splice! удаляет элемент из массива</span>
<span class="c"># Remove elements from an array by index with splice!</span>
<span class="n">arr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">splice!</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 4 ; arr теперь равен [3,5]</span>

<span class="c"># append! объединяет списки</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">append!</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="c"># теперь a равен [1, 2, 3, 4, 5, 1, 2, 3]</span>

<span class="c"># Проверка на вхождение</span>
<span class="k">in</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; true</span>

<span class="c"># Длина списка</span>
<span class="n">length</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 8</span>

<span class="c"># Кортеж — неизменяемая структура.</span>
<span class="n">tup</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; (1,2,3) # кортеж (Int64,Int64,Int64).</span>
<span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; 1</span>
<span class="k">try</span><span class="o">:</span>
<span class="w">    </span><span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="c"># =&gt; ERROR: no method setindex!((Int64,Int64,Int64),Int64,Int64)</span>
<span class="k">catch</span><span class="w"> </span><span class="n">e</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="k">end</span>

<span class="c"># Многие функции над списками работают и для кортежей</span>
<span class="n">length</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 3</span>
<span class="n">tup</span><span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; (1,2)</span>
<span class="k">in</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">tup</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; true</span>

<span class="c"># Кортежи можно распаковывать в переменные</span>
<span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; (1,2,3)  # a = 1, b = 2 и c = 3</span>

<span class="c"># Скобки из предыдущего примера можно опустить</span>
<span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="c"># =&gt; (4,5,6)</span>

<span class="c"># Кортеж из одного элемента не равен значению этого элемента</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; false</span>
<span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="c"># =&gt; true</span>

<span class="c"># Обмен значений</span>
<span class="n">e</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="w">  </span><span class="c"># =&gt; (5,4) # d = 5, e = 4</span>


<span class="c"># Словари содержат ассоциативные массивы</span>
<span class="n">empty_dict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Dict</span><span class="p">()</span><span class="w"> </span><span class="c"># =&gt; Dict{Any,Any}()</span>

<span class="c"># Для создания словаря можно использовать литерал</span>
<span class="n">filled_dict</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;one&quot;</span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;two&quot;</span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;three&quot;</span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">]</span>
<span class="c"># =&gt; Dict{ASCIIString,Int64}</span>

<span class="c"># Значения ищутся по ключу с помощью оператора []</span>
<span class="n">filled_dict</span><span class="p">[</span><span class="s">&quot;one&quot;</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; 1</span>

<span class="c"># Получить все ключи</span>
<span class="n">keys</span><span class="p">(</span><span class="n">filled_dict</span><span class="p">)</span>
<span class="c"># =&gt; KeyIterator{Dict{ASCIIString,Int64}}([&quot;three&quot;=&gt;3,&quot;one&quot;=&gt;1,&quot;two&quot;=&gt;2])</span>
<span class="c"># Заметьте, словарь не запоминает порядок, в котором добавляются ключи.</span>

<span class="c"># Получить все значения.</span>
<span class="n">values</span><span class="p">(</span><span class="n">filled_dict</span><span class="p">)</span>
<span class="c"># =&gt; ValueIterator{Dict{ASCIIString,Int64}}([&quot;three&quot;=&gt;3,&quot;one&quot;=&gt;1,&quot;two&quot;=&gt;2])</span>
<span class="c"># То же касается и порядка значений.</span>

<span class="c"># Проверка вхождения ключа в словарь</span>
<span class="k">in</span><span class="p">((</span><span class="s">&quot;one&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="n">filled_dict</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="k">in</span><span class="p">((</span><span class="s">&quot;two&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">filled_dict</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; false</span>
<span class="n">haskey</span><span class="p">(</span><span class="n">filled_dict</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;one&quot;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="n">haskey</span><span class="p">(</span><span class="n">filled_dict</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; false</span>

<span class="c"># Попытка обратиться к несуществующему ключу выбросит ошибку</span>
<span class="k">try</span>
<span class="w">    </span><span class="n">filled_dict</span><span class="p">[</span><span class="s">&quot;four&quot;</span><span class="p">]</span><span class="w"> </span><span class="c"># =&gt; ERROR: key not found: four in getindex at dict.jl:489</span>
<span class="k">catch</span><span class="w"> </span><span class="n">e</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="k">end</span>

<span class="c"># Используйте метод get со значением по умолчанию, чтобы избежать этой ошибки</span>
<span class="c"># get(dictionary,key,default_value)</span>
<span class="n">get</span><span class="p">(</span><span class="n">filled_dict</span><span class="p">,</span><span class="s">&quot;one&quot;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 1</span>
<span class="n">get</span><span class="p">(</span><span class="n">filled_dict</span><span class="p">,</span><span class="s">&quot;four&quot;</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 4</span>

<span class="c"># Для коллекций неотсортированных уникальных элементов используйте Set</span>
<span class="n">empty_set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Set</span><span class="p">()</span><span class="w"> </span><span class="c"># =&gt; Set{Any}()</span>
<span class="c"># Инициализация множества</span>
<span class="n">filled_set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Set</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Set{Int64}(1,2,3,4)</span>

<span class="c"># Добавление элементов</span>
<span class="n">push!</span><span class="p">(</span><span class="n">filled_set</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Set{Int64}(5,4,2,3,1)</span>

<span class="c"># Проверка вхождения элементов во множество</span>
<span class="k">in</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">filled_set</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="k">in</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">filled_set</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; false</span>

<span class="c"># Функции для получения пересечения, объединения и разницы.</span>
<span class="n">other_set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">Set</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Set{Int64}(6,4,5,3)</span>
<span class="n">intersect</span><span class="p">(</span><span class="n">filled_set</span><span class="p">,</span><span class="w"> </span><span class="n">other_set</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Set{Int64}(3,4,5)</span>
<span class="n">union</span><span class="p">(</span><span class="n">filled_set</span><span class="p">,</span><span class="w"> </span><span class="n">other_set</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Set{Int64}(1,2,3,4,5,6)</span>
<span class="n">setdiff</span><span class="p">(</span><span class="kt">Set</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="kt">Set</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; Set{Int64}(1,4)</span>


<span class="c">####################################################</span>
<span class="c">## 3. Поток управления</span>
<span class="c">####################################################</span>

<span class="c"># Создадим переменную</span>
<span class="n">some_var</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>

<span class="c"># Выражение if. Отступы не имеют значения.</span>
<span class="k">if</span><span class="w"> </span><span class="n">some_var</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">10</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;some_var is totally bigger than 10.&quot;</span><span class="p">)</span>
<span class="k">elseif</span><span class="w"> </span><span class="n">some_var</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w">    </span><span class="c"># Необязательная ветка elseif.</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;some_var is smaller than 10.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="w">                    </span><span class="c"># else-ветка также опциональна.</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;some_var is indeed 10.&quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="c"># =&gt; prints &quot;some var is smaller than 10&quot;</span>


<span class="c"># Цикл for проходит по итерируемым объектам</span>
<span class="c"># Примеры итерируемых типов: Range, Array, Set, Dict и String.</span>
<span class="k">for</span><span class="w"> </span><span class="n">animal</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;dog&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;mouse&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="si">$animal</span><span class="s"> is a mammal&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="c"># Для вставки значения переменной или выражения в строку используется $</span>
<span class="k">end</span>
<span class="c"># Выведет:</span>
<span class="c">#    dog is a mammal</span>
<span class="c">#    cat is a mammal</span>
<span class="c">#    mouse is a mammal</span>

<span class="c"># Другой вариант записи.</span>
<span class="k">for</span><span class="w"> </span><span class="n">animal</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;dog&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cat&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;mouse&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="si">$animal</span><span class="s"> is a mammal&quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="c"># Выведет:</span>
<span class="c">#    dog is a mammal</span>
<span class="c">#    cat is a mammal</span>
<span class="c">#    mouse is a mammal</span>

<span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;dog&quot;</span><span class="o">=&gt;</span><span class="s">&quot;mammal&quot;</span><span class="p">,</span><span class="s">&quot;cat&quot;</span><span class="o">=&gt;</span><span class="s">&quot;mammal&quot;</span><span class="p">,</span><span class="s">&quot;mouse&quot;</span><span class="o">=&gt;</span><span class="s">&quot;mammal&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="si">$</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="s"> is a </span><span class="si">$</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="s">&quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="c"># Выведет:</span>
<span class="c">#    dog is a mammal</span>
<span class="c">#    cat is a mammal</span>
<span class="c">#    mouse is a mammal</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;dog&quot;</span><span class="o">=&gt;</span><span class="s">&quot;mammal&quot;</span><span class="p">,</span><span class="s">&quot;cat&quot;</span><span class="o">=&gt;</span><span class="s">&quot;mammal&quot;</span><span class="p">,</span><span class="s">&quot;mouse&quot;</span><span class="o">=&gt;</span><span class="s">&quot;mammal&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;</span><span class="si">$k</span><span class="s"> is a </span><span class="si">$v</span><span class="s">&quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="c"># Выведет:</span>
<span class="c">#    dog is a mammal</span>
<span class="c">#    cat is a mammal</span>
<span class="c">#    mouse is a mammal</span>

<span class="c"># Цикл while выполняется до тех пор, пока верно условие</span>
<span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">while</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="c"># Короткая запись x = x + 1</span>
<span class="k">end</span>
<span class="c"># Выведет:</span>
<span class="c">#   0</span>
<span class="c">#   1</span>
<span class="c">#   2</span>
<span class="c">#   3</span>

<span class="c"># Обработка исключений</span>
<span class="k">try</span>
<span class="w">   </span><span class="n">error</span><span class="p">(</span><span class="s">&quot;help&quot;</span><span class="p">)</span>
<span class="k">catch</span><span class="w"> </span><span class="n">e</span>
<span class="w">   </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;caught it </span><span class="si">$e</span><span class="s">&quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="c"># =&gt; caught it ErrorException(&quot;help&quot;)</span>


<span class="c">####################################################</span>
<span class="c">## 4. Функции</span>
<span class="c">####################################################</span>

<span class="c"># Для определения новой функции используется ключевое слово &#39;function&#39;</span>
<span class="c">#function имя(аргументы)</span>
<span class="c">#  тело...</span>
<span class="c">#end</span>
<span class="k">function</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;x is </span><span class="si">$x</span><span class="s"> and y is </span><span class="si">$y</span><span class="s">&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c"># Функция возвращает значение последнего выражения</span>
<span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span>
<span class="k">end</span>

<span class="n">add</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Вернёт 11, напечатав &quot;x is 5 and y is 6&quot;</span>

<span class="c"># Функция может принимать переменное количество позиционных аргументов.</span>
<span class="k">function</span><span class="w"> </span><span class="n">varargs</span><span class="p">(</span><span class="n">args</span><span class="o">...</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">args</span>
<span class="w">    </span><span class="c"># для возвращения из функции в любом месте используется &#39;return&#39;</span>
<span class="k">end</span>
<span class="c"># =&gt; varargs (generic function with 1 method)</span>

<span class="n">varargs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; (1,2,3)</span>

<span class="c"># Многоточие (...) — это splat.</span>
<span class="c"># Мы только что воспользовались им в определении функции.</span>
<span class="c"># Также его можно использовать при вызове функции,</span>
<span class="c"># где он преобразует содержимое массива или кортежа в список аргументов.</span>
<span class="kt">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="w">    </span><span class="c"># =&gt; Set{Array{Int64,1}}([1,2,3]) # формирует множество массивов</span>
<span class="kt">Set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span><span class="o">...</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Set{Int64}(1,2,3) # эквивалентно Set(1,2,3)</span>

<span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="w">     </span><span class="c"># =&gt; (1,2,3)</span>
<span class="kt">Set</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">          </span><span class="c"># =&gt; Set{(Int64,Int64,Int64)}((1,2,3)) # множество кортежей</span>
<span class="kt">Set</span><span class="p">(</span><span class="n">x</span><span class="o">...</span><span class="p">)</span><span class="w">       </span><span class="c"># =&gt; Set{Int64}(2,3,1)</span>


<span class="c"># Опциональные позиционные аргументы</span>
<span class="k">function</span><span class="w"> </span><span class="n">defaults</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;</span><span class="si">$a</span><span class="s"> </span><span class="si">$b</span><span class="s"> and </span><span class="si">$x</span><span class="s"> </span><span class="si">$y</span><span class="s">&quot;</span>
<span class="k">end</span>

<span class="n">defaults</span><span class="p">(</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;g&#39;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; &quot;h g and 5 6&quot;</span>
<span class="n">defaults</span><span class="p">(</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;g&#39;</span><span class="p">,</span><span class="sc">&#39;j&#39;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; &quot;h g and j 6&quot;</span>
<span class="n">defaults</span><span class="p">(</span><span class="sc">&#39;h&#39;</span><span class="p">,</span><span class="sc">&#39;g&#39;</span><span class="p">,</span><span class="sc">&#39;j&#39;</span><span class="p">,</span><span class="sc">&#39;k&#39;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; &quot;h g and j k&quot;</span>
<span class="k">try</span>
<span class="w">    </span><span class="n">defaults</span><span class="p">(</span><span class="sc">&#39;h&#39;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; ERROR: no method defaults(Char,)</span>
<span class="w">    </span><span class="n">defaults</span><span class="p">()</span><span class="w"> </span><span class="c"># =&gt; ERROR: no methods defaults()</span>
<span class="k">catch</span><span class="w"> </span><span class="n">e</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="k">end</span>

<span class="c"># Именованные аргументы</span>
<span class="k">function</span><span class="w"> </span><span class="n">keyword_args</span><span class="p">(;</span><span class="n">k1</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">name2</span><span class="o">=</span><span class="s">&quot;hello&quot;</span><span class="p">)</span><span class="w"> </span><span class="c"># обратите внимание на ;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;k1&quot;</span><span class="o">=&gt;</span><span class="n">k1</span><span class="p">,</span><span class="s">&quot;name2&quot;</span><span class="o">=&gt;</span><span class="n">name2</span><span class="p">]</span>
<span class="k">end</span>

<span class="n">keyword_args</span><span class="p">(</span><span class="n">name2</span><span class="o">=</span><span class="s">&quot;ness&quot;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; [&quot;name2&quot;=&gt;&quot;ness&quot;,&quot;k1&quot;=&gt;4]</span>
<span class="n">keyword_args</span><span class="p">(</span><span class="n">k1</span><span class="o">=</span><span class="s">&quot;mine&quot;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; [&quot;k1&quot;=&gt;&quot;mine&quot;,&quot;name2&quot;=&gt;&quot;hello&quot;]</span>
<span class="n">keyword_args</span><span class="p">()</span><span class="w"> </span><span class="c"># =&gt; [&quot;name2&quot;=&gt;&quot;hello&quot;,&quot;k2&quot;=&gt;4]</span>

<span class="c"># В одной функции можно совмещать все виды аргументов</span>
<span class="k">function</span><span class="w"> </span><span class="n">all_the_args</span><span class="p">(</span><span class="n">normal_arg</span><span class="p">,</span><span class="w"> </span><span class="n">optional_positional_arg</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">keyword_arg</span><span class="o">=</span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;normal arg: </span><span class="si">$normal_arg</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;optional arg: </span><span class="si">$optional_positional_arg</span><span class="s">&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;keyword arg: </span><span class="si">$keyword_arg</span><span class="s">&quot;</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">all_the_args</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">keyword_arg</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="c"># Выведет:</span>
<span class="c">#   normal arg: 1</span>
<span class="c">#   optional arg: 3</span>
<span class="c">#   keyword arg: 4</span>

<span class="c"># Функции в Julia первого класса</span>
<span class="k">function</span><span class="w"> </span><span class="n">create_adder</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="n">adder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">adder</span>
<span class="k">end</span>

<span class="c"># Анонимная функция</span>
<span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="p">)(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; true</span>

<span class="c"># Эта функция идентичная предыдущей версии create_adder</span>
<span class="k">function</span><span class="w"> </span><span class="n">create_adder</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="n">y</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span>
<span class="k">end</span>

<span class="c"># Если есть желание, можно воспользоваться полным вариантом</span>
<span class="k">function</span><span class="w"> </span><span class="n">create_adder</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">    </span><span class="k">function</span><span class="w"> </span><span class="n">adder</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="w">        </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">    </span><span class="n">adder</span>
<span class="k">end</span>

<span class="n">add_10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">create_adder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">add_10</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 13</span>


<span class="c"># Встроенные функции высшего порядка</span>
<span class="n">map</span><span class="p">(</span><span class="n">add_10</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="c"># =&gt; [11, 12, 13]</span>
<span class="n">filter</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">])</span><span class="w"> </span><span class="c"># =&gt; [6, 7]</span>

<span class="c"># Списковые сборки</span>
<span class="p">[</span><span class="n">add_10</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]]</span><span class="w"> </span><span class="c"># =&gt; [11, 12, 13]</span>
<span class="p">[</span><span class="n">add_10</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]]</span><span class="w"> </span><span class="c"># =&gt; [11, 12, 13]</span>

<span class="c">####################################################</span>
<span class="c">## 5. Типы</span>
<span class="c">####################################################</span>

<span class="c"># Julia has a type system.</span>
<span class="c"># Каждое значение имеет тип, но переменные не определяют тип значения.</span>
<span class="c"># Функция `typeof` возвращает тип значения.</span>
<span class="n">typeof</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Int64</span>

<span class="c"># Types are first-class values</span>
<span class="c"># Типы являются значениями первого класса</span>
<span class="n">typeof</span><span class="p">(</span><span class="kt">Int64</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; DataType</span>
<span class="n">typeof</span><span class="p">(</span><span class="kt">DataType</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; DataType</span>
<span class="c"># Тип DataType представляет типы, включая себя самого.</span>

<span class="c"># Типы используются в качестве документации, для оптимизации и организации.</span>
<span class="c"># Статически типы не проверяются.</span>

<span class="c"># Пользователь может определять свои типы</span>
<span class="c"># Типы похожи на структуры в других языках</span>
<span class="c"># Новые типы определяются с помощью ключевого слова `type`</span>

<span class="c"># type Name</span>
<span class="c">#   field::OptionalType</span>
<span class="c">#   ...</span>
<span class="c"># end</span>
<span class="n">type</span><span class="w"> </span><span class="n">Tiger</span>
<span class="w">  </span><span class="n">taillength</span><span class="o">::</span><span class="kt">Float64</span>
<span class="w">  </span><span class="n">coatcolor</span><span class="w"> </span><span class="c"># отсутствие типа равносильно `::Any`</span>
<span class="k">end</span>

<span class="c"># Аргументы конструктора по умолчанию — свойства типа</span>
<span class="c"># в порядке их определения.</span>
<span class="n">tigger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Tiger</span><span class="p">(</span><span class="mf">3.5</span><span class="p">,</span><span class="s">&quot;orange&quot;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Tiger(3.5,&quot;orange&quot;)</span>

<span class="c"># Тип объекта по сути является конструктором значений такого типа</span>
<span class="n">sherekhan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">typeof</span><span class="p">(</span><span class="n">tigger</span><span class="p">)(</span><span class="mf">5.6</span><span class="p">,</span><span class="s">&quot;fire&quot;</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Tiger(5.6,&quot;fire&quot;)</span>

<span class="c"># Эти типы, похожие на структуры, называются конкретными.</span>
<span class="c"># Можно создавать объекты таких типов, но не их подтипы.</span>
<span class="c"># Другой вид типов — абстрактные типы.</span>

<span class="c"># abstract Name</span>
<span class="n">abstract</span><span class="w"> </span><span class="n">Cat</span><span class="w"> </span><span class="c"># просто имя и точка в иерархии типов</span>

<span class="c"># Объекты абстрактных типов создавать нельзя,</span>
<span class="c"># но зато от них можно наследовать подтипы.</span>
<span class="c"># Например, Number — это абстрактный тип.</span>
<span class="n">subtypes</span><span class="p">(</span><span class="kt">Number</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; 6 элементов в массиве Array{Any,1}:</span>
<span class="w">                 </span><span class="c">#     Complex{Float16}</span>
<span class="w">                 </span><span class="c">#     Complex{Float32}</span>
<span class="w">                 </span><span class="c">#     Complex{Float64}</span>
<span class="w">                 </span><span class="c">#     Complex{T&lt;:Real}</span>
<span class="w">                 </span><span class="c">#     ImaginaryUnit</span>
<span class="w">                 </span><span class="c">#     Real</span>
<span class="n">subtypes</span><span class="p">(</span><span class="n">Cat</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; пустой массив Array{Any,1}</span>

<span class="c"># У всех типов есть супертип. Для его определения есть функция `super`.</span>
<span class="n">typeof</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Int64</span>
<span class="n">super</span><span class="p">(</span><span class="kt">Int64</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Signed</span>
<span class="n">super</span><span class="p">(</span><span class="kt">Signed</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Real</span>
<span class="n">super</span><span class="p">(</span><span class="kt">Real</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Number</span>
<span class="n">super</span><span class="p">(</span><span class="kt">Number</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Any</span>
<span class="n">super</span><span class="p">(</span><span class="n">super</span><span class="p">(</span><span class="kt">Signed</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; Number</span>
<span class="n">super</span><span class="p">(</span><span class="kt">Any</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; Any</span>
<span class="c"># Все эти типы, за исключением Int64, абстрактные.</span>

<span class="c"># Для создания подтипа используется оператор &lt;:</span>
<span class="n">type</span><span class="w"> </span><span class="kt">Lion</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">Cat</span><span class="w"> </span><span class="c"># Lion — это подтип Cat</span>
<span class="w">  </span><span class="n">mane_color</span>
<span class="w">  </span><span class="n">roar</span><span class="o">::</span><span class="kt">String</span>
<span class="k">end</span>

<span class="c"># У типа может быть несколько конструкторов.</span>
<span class="c"># Для создания нового определите функцию с именем, как у типа,</span>
<span class="c"># и вызовите имеющийся конструктор.</span>
<span class="n">Lion</span><span class="p">(</span><span class="n">roar</span><span class="o">::</span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;green&quot;</span><span class="p">,</span><span class="n">roar</span><span class="p">)</span>
<span class="c"># Мы создали внешний (т.к. он находится вне определения типа) конструктор.</span>

<span class="n">type</span><span class="w"> </span><span class="kt">Panther</span><span class="w"> </span><span class="o">&lt;:</span><span class="w"> </span><span class="kt">Cat</span><span class="w"> </span><span class="c"># Panther — это тоже подтип Cat</span>
<span class="w">  </span><span class="n">eye_color</span>

<span class="w">  </span><span class="c"># Определим свой конструктор вместо конструктора по умолчанию</span>
<span class="w">  </span><span class="n">Panther</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new</span><span class="p">(</span><span class="s">&quot;green&quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="c"># Использование внутренних конструкторов позволяет</span>
<span class="c"># определять, как будут создаваться объекты типов.</span>
<span class="c"># Но по возможности стоит пользоваться внешними конструкторами.</span>

<span class="c">####################################################</span>
<span class="c">## 6. Мультиметоды</span>
<span class="c">####################################################</span>

<span class="c"># Все именованные функции являются generic-функциями,</span>
<span class="c"># т.е. все они состоят из разных методов.</span>
<span class="c"># Каждый конструктор типа Lion — это метод generic-функции Lion.</span>

<span class="c"># Приведём пример без использования конструкторов, создадим функцию meow</span>

<span class="c"># Определения Lion, Panther и Tiger</span>
<span class="k">function</span><span class="w"> </span><span class="n">meow</span><span class="p">(</span><span class="n">animal</span><span class="o">::</span><span class="kt">Lion</span><span class="p">)</span>
<span class="w">  </span><span class="n">animal</span><span class="o">.</span><span class="n">roar</span><span class="w"> </span><span class="c"># доступ к свойству типа через точку</span>
<span class="k">end</span>

<span class="k">function</span><span class="w"> </span><span class="n">meow</span><span class="p">(</span><span class="n">animal</span><span class="o">::</span><span class="kt">Panther</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;grrr&quot;</span>
<span class="k">end</span>

<span class="k">function</span><span class="w"> </span><span class="n">meow</span><span class="p">(</span><span class="n">animal</span><span class="o">::</span><span class="kt">Tiger</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;rawwwr&quot;</span>
<span class="k">end</span>

<span class="c"># Проверка</span>
<span class="n">meow</span><span class="p">(</span><span class="n">tigger</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; &quot;rawwr&quot;</span>
<span class="n">meow</span><span class="p">(</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;brown&quot;</span><span class="p">,</span><span class="s">&quot;ROAAR&quot;</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; &quot;ROAAR&quot;</span>
<span class="n">meow</span><span class="p">(</span><span class="n">Panther</span><span class="p">())</span><span class="w"> </span><span class="c"># =&gt; &quot;grrr&quot;</span>

<span class="c"># Вспомним иерархию типов</span>
<span class="n">issubtype</span><span class="p">(</span><span class="n">Tiger</span><span class="p">,</span><span class="n">Cat</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; false</span>
<span class="n">issubtype</span><span class="p">(</span><span class="n">Lion</span><span class="p">,</span><span class="n">Cat</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; true</span>
<span class="n">issubtype</span><span class="p">(</span><span class="n">Panther</span><span class="p">,</span><span class="n">Cat</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; true</span>

<span class="c"># Определим функцию, принимающую на вход объекты типа Cat</span>
<span class="k">function</span><span class="w"> </span><span class="n">pet_cat</span><span class="p">(</span><span class="n">cat</span><span class="o">::</span><span class="kt">Cat</span><span class="p">)</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The cat says </span><span class="si">$</span><span class="p">(</span><span class="n">meow</span><span class="p">(</span><span class="n">cat</span><span class="p">))</span><span class="s">&quot;</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">pet_cat</span><span class="p">(</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;42&quot;</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; выведет &quot;The cat says 42&quot;</span>
<span class="k">try</span>
<span class="w">    </span><span class="n">pet_cat</span><span class="p">(</span><span class="n">tigger</span><span class="p">)</span><span class="w"> </span><span class="c"># =&gt; ERROR: no method pet_cat(Tiger,)</span>
<span class="k">catch</span><span class="w"> </span><span class="n">e</span>
<span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="k">end</span>

<span class="c"># В объектно-ориентированных языках распространена одиночная диспетчеризация —</span>
<span class="c"># подходящий метод выбирается на основе типа первого аргумента.</span>
<span class="c"># В Julia все аргументы участвуют в выборе нужного метода.</span>

<span class="c"># Чтобы понять разницу, определим функцию с несколькими аргументами.</span>
<span class="k">function</span><span class="w"> </span><span class="n">fight</span><span class="p">(</span><span class="n">t</span><span class="o">::</span><span class="kt">Tiger</span><span class="p">,</span><span class="n">c</span><span class="o">::</span><span class="kt">Cat</span><span class="p">)</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The </span><span class="si">$</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">coatcolor</span><span class="p">)</span><span class="s"> tiger wins!&quot;</span><span class="p">)</span>
<span class="k">end</span>
<span class="c"># =&gt; fight (generic function with 1 method)</span>

<span class="n">fight</span><span class="p">(</span><span class="n">tigger</span><span class="p">,</span><span class="n">Panther</span><span class="p">())</span><span class="w"> </span><span class="c"># =&gt; выведет The orange tiger wins!</span>
<span class="n">fight</span><span class="p">(</span><span class="n">tigger</span><span class="p">,</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;ROAR&quot;</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; выведет The orange tiger wins!</span>

<span class="c"># Переопределим поведение функции, если Cat-объект является Lion-объектом</span>
<span class="n">fight</span><span class="p">(</span><span class="n">t</span><span class="o">::</span><span class="kt">Tiger</span><span class="p">,</span><span class="n">l</span><span class="o">::</span><span class="kt">Lion</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The </span><span class="si">$</span><span class="p">(</span><span class="n">l</span><span class="o">.</span><span class="n">mane_color</span><span class="p">)</span><span class="s">-maned lion wins!&quot;</span><span class="p">)</span>
<span class="c"># =&gt; fight (generic function with 2 methods)</span>

<span class="n">fight</span><span class="p">(</span><span class="n">tigger</span><span class="p">,</span><span class="n">Panther</span><span class="p">())</span><span class="w"> </span><span class="c"># =&gt; выведет The orange tiger wins!</span>
<span class="n">fight</span><span class="p">(</span><span class="n">tigger</span><span class="p">,</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;ROAR&quot;</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; выведет The green-maned lion wins!</span>

<span class="c"># Драться можно не только с тиграми!</span>
<span class="n">fight</span><span class="p">(</span><span class="n">l</span><span class="o">::</span><span class="kt">Lion</span><span class="p">,</span><span class="n">c</span><span class="o">::</span><span class="kt">Cat</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The victorious cat says </span><span class="si">$</span><span class="p">(</span><span class="n">meow</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="s">&quot;</span><span class="p">)</span>
<span class="c"># =&gt; fight (generic function with 3 methods)</span>

<span class="n">fight</span><span class="p">(</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;balooga!&quot;</span><span class="p">),</span><span class="n">Panther</span><span class="p">())</span><span class="w"> </span><span class="c"># =&gt; выведет The victorious cat says grrr</span>
<span class="k">try</span>
<span class="w">  </span><span class="n">fight</span><span class="p">(</span><span class="n">Panther</span><span class="p">(),</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;RAWR&quot;</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; ERROR: no method fight(Panther,Lion)</span>
<span class="k">catch</span>
<span class="k">end</span>

<span class="c"># Вообще, пускай кошачьи могут первыми проявлять агрессию</span>
<span class="n">fight</span><span class="p">(</span><span class="n">c</span><span class="o">::</span><span class="kt">Cat</span><span class="p">,</span><span class="n">l</span><span class="o">::</span><span class="kt">Lion</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The cat beats the Lion&quot;</span><span class="p">)</span>
<span class="c"># =&gt; Warning: New definition</span>
<span class="c">#    fight(Cat,Lion) at none:1</span>
<span class="c"># is ambiguous with</span>
<span class="c">#    fight(Lion,Cat) at none:2.</span>
<span class="c"># Make sure</span>
<span class="c">#    fight(Lion,Lion)</span>
<span class="c"># is defined first.</span>
<span class="c">#fight (generic function with 4 methods)</span>

<span class="c"># Предупреждение говорит, что неясно, какой из методов вызывать:</span>
<span class="n">fight</span><span class="p">(</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;RAR&quot;</span><span class="p">),</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;brown&quot;</span><span class="p">,</span><span class="s">&quot;rarrr&quot;</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; выведет The victorious cat says rarrr</span>
<span class="c"># Результат может оказаться разным в разных версиях Julia</span>

<span class="n">fight</span><span class="p">(</span><span class="n">l</span><span class="o">::</span><span class="kt">Lion</span><span class="p">,</span><span class="n">l2</span><span class="o">::</span><span class="kt">Lion</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The lions come to a tie&quot;</span><span class="p">)</span>
<span class="n">fight</span><span class="p">(</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;RAR&quot;</span><span class="p">),</span><span class="n">Lion</span><span class="p">(</span><span class="s">&quot;brown&quot;</span><span class="p">,</span><span class="s">&quot;rarrr&quot;</span><span class="p">))</span><span class="w"> </span><span class="c"># =&gt; выведет The lions come to a tie</span>


<span class="c"># Под капотом</span>
<span class="c"># Язык позволяет посмотреть на сгенерированные ассемблерный и LLVM-код.</span>

<span class="n">square_area</span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">l</span><span class="w">      </span><span class="c"># square_area (generic function with 1 method)</span>

<span class="n">square_area</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c">#25</span>

<span class="c"># Что происходит, когда мы передаём функции square_area целое число?</span>
<span class="n">code_native</span><span class="p">(</span><span class="n">square_area</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">Int32</span><span class="p">,))</span>
<span class="w">    </span><span class="c">#        .section    __TEXT,__text,regular,pure_instructions</span>
<span class="w">    </span><span class="c">#    Filename: none</span>
<span class="w">    </span><span class="c">#    Source line: 1              # Вводная часть</span>
<span class="w">    </span><span class="c">#        push    RBP</span>
<span class="w">    </span><span class="c">#        mov RBP, RSP</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        movsxd  RAX, EDI        #</span>
<span class="w">    </span><span class="c">#        imul    RAX, RAX        #</span>
<span class="w">    </span><span class="c">#        pop RBP                 #</span>
<span class="w">    </span><span class="c">#        ret                     #</span>

<span class="n">code_native</span><span class="p">(</span><span class="n">square_area</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">Float32</span><span class="p">,))</span>
<span class="w">    </span><span class="c">#        .section    __TEXT,__text,regular,pure_instructions</span>
<span class="w">    </span><span class="c">#    Filename: none</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        push    RBP</span>
<span class="w">    </span><span class="c">#        mov RBP, RSP</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        vmulss  XMM0, XMM0, XMM0  # Произведение чисел одинарной точности (AVX)</span>
<span class="w">    </span><span class="c">#        pop RBP</span>
<span class="w">    </span><span class="c">#        ret</span>

<span class="n">code_native</span><span class="p">(</span><span class="n">square_area</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">Float64</span><span class="p">,))</span>
<span class="w">    </span><span class="c">#        .section    __TEXT,__text,regular,pure_instructions</span>
<span class="w">    </span><span class="c">#    Filename: none</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        push    RBP</span>
<span class="w">    </span><span class="c">#        mov RBP, RSP</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        vmulsd  XMM0, XMM0, XMM0 # Произведение чисел двойной точности (AVX)</span>
<span class="w">    </span><span class="c">#        pop RBP</span>
<span class="w">    </span><span class="c">#        ret</span>
<span class="w">    </span><span class="c">#</span>
<span class="c"># Если хотя бы один из аргументов является числом с плавающей запятой,</span>
<span class="c"># то Julia будет использовать соответствующие инструкции.</span>
<span class="c"># Вычислим площать круга</span>
<span class="n">circle_area</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">pi</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">r</span><span class="w">     </span><span class="c"># circle_area (generic function with 1 method)</span>
<span class="n">circle_area</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="w">                  </span><span class="c"># 78.53981633974483</span>

<span class="n">code_native</span><span class="p">(</span><span class="n">circle_area</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">Int32</span><span class="p">,))</span>
<span class="w">    </span><span class="c">#        .section    __TEXT,__text,regular,pure_instructions</span>
<span class="w">    </span><span class="c">#    Filename: none</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        push    RBP</span>
<span class="w">    </span><span class="c">#        mov RBP, RSP</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        vcvtsi2sd   XMM0, XMM0, EDI          # Загрузить целое число (r)</span>
<span class="w">    </span><span class="c">#        movabs  RAX, 4593140240              # Загрузить pi</span>
<span class="w">    </span><span class="c">#        vmulsd  XMM1, XMM0, QWORD PTR [RAX]  # pi * r</span>
<span class="w">    </span><span class="c">#        vmulsd  XMM0, XMM0, XMM1             # (pi * r) * r</span>
<span class="w">    </span><span class="c">#        pop RBP</span>
<span class="w">    </span><span class="c">#        ret</span>
<span class="w">    </span><span class="c">#</span>

<span class="n">code_native</span><span class="p">(</span><span class="n">circle_area</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="kt">Float64</span><span class="p">,))</span>
<span class="w">    </span><span class="c">#        .section    __TEXT,__text,regular,pure_instructions</span>
<span class="w">    </span><span class="c">#    Filename: none</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        push    RBP</span>
<span class="w">    </span><span class="c">#        mov RBP, RSP</span>
<span class="w">    </span><span class="c">#        movabs  RAX, 4593140496</span>
<span class="w">    </span><span class="c">#    Source line: 1</span>
<span class="w">    </span><span class="c">#        vmulsd  XMM1, XMM0, QWORD PTR [RAX]</span>
<span class="w">    </span><span class="c">#        vmulsd  XMM0, XMM1, XMM0</span>
<span class="w">    </span><span class="c">#        pop RBP</span>
<span class="w">    </span><span class="c">#        ret</span>
<span class="w">    </span><span class="c">#</span>
</pre></div>
<h2>Что дальше?</h2>
<p>Для более подробной информации читайте <a href="http://docs.julialang.org/en/latest/manual/">документацию по языку</a></p>
<p>Если вам нужна помощь, задавайте вопросы в <a href="https://groups.google.com/forum/#!forum/julia-users">списке рассылки</a>.</p>

        <hr>
        <p>
          Хотите предложить свой перевод? Может быть, улучшение перевода? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Откройте Issue</a> в репозитории GitHub или сделайте <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/ru/julia.md">pull request</a> сами!
        </p>
        <p class="contributed">
          Первоначально предоставлено автором Leah Hanson, и обновлено <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/ru/julia.md">3 авторами</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 88px; height: 31px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://leahhanson.us">Leah Hanson</a>
          </p>
        </footer>
      </div>
    </div>
  </body>
</html>