<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="en">
    <title>Learn Gleam in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/gleam/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <div class="share">
        <span class="sharemsg">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fgleam%2F&amp;text=Learn+X+in+Y+minutes%2C+where+X%3DGleam">
            Share this page
          </a>
        </span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_twitter_large' displayText='Tweet'></span>
      </div>
      <h1><a href="/">Learn X in Y minutes</a></h1>
      <h2>Where X=Gleam</h2>
      <p class="filelink">
        Get the code:
        <a href="/files/learngleam.gleam">learngleam.gleam</a>
      </p>
      <div id="doc">
<p>Gleam is a new language for Erlang's BEAM virtual machine that relies on the
power of a robust type system, the expressiveness of functional programming,
and the highly concurrent fault-tolerant Erlang runtime using familiar and
modern syntax inspired by languages like OCaml, Rust and Elixir.</p>
<p>Being a pretty modern development, Gleam comes with a compiler, a build tool,
a code formatter, several editor integrations, and a package manager.</p>
<p>Being part of the larger BEAM ecosystem, the programs created with Gleam can
also make use of thousands of published packages written in Erlang or Elixir.</p>
<p>The design of the language is very concise so it features no null values,
no exceptions, clear error messages, and a practical type system.</p>
<p>JavaScript is additionally supported as a compile target, so you can run Gleam
code in browser or any other JS-enabled runtime. When using this feature,
TypeScript definitions get created, so you can interact with your Gleam code
confidently, even from the outside.</p>
<div class="highlight"><pre lang="gleam"><span class="sd">//// This comment with four slashes is a module-level.</span>
<span class="sd">//// This kind of comments are used to describe the whole module.</span>

<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">bool</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">io</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">int</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">float</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">list</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">iterator</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="k">option</span><span class="p">.{</span><span class="k">type</span><span class="w"> </span><span class="n">Option</span><span class="p">,</span><span class="w"> </span><span class="n">None</span><span class="p">,</span><span class="w"> </span><span class="n">Some</span><span class="p">}</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">result</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">string</span>
<span class="k">import</span><span class="w"> </span><span class="n">gleam</span><span class="o">/</span><span class="n">string</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">text</span>

<span class="c1">// A type&#39;s name always starts with a capital letter, contrasting to variables</span>
<span class="c1">// and functions, which start with a lowercase letter.</span>

<span class="c1">// When the pub keyword is used the type alias is public and can be referred to</span>
<span class="c1">// by other modules.</span>

<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">UserId</span><span class="w"> </span><span class="p">=</span>
<span class="w">  </span><span class="n">Int</span>

<span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Hello from learnxinmyminutes.com!&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// io.println(&quot;This statement got commented out by a two slashes comment.!&quot;)</span>

<span class="w">  </span><span class="c1">// Modules are the units in which all Gleam code gets organized.</span>
<span class="w">  </span><span class="c1">// In a module you will find a bunch of definitions of types, functions, etc.</span>
<span class="w">  </span><span class="c1">// that seem to belong together.</span>
<span class="w">  </span><span class="c1">// For example, the gleam/io module contains a variety of functions for</span>
<span class="w">  </span><span class="c1">// printing, like println.</span>

<span class="w">  </span><span class="c1">// All gleam code is in some module or other, whose name comes from the name</span>
<span class="w">  </span><span class="c1">// of the file it&#39;s in.</span>
<span class="w">  </span><span class="c1">// For example, gleam/io is in a file called io.gleam in a directory called</span>
<span class="w">  </span><span class="c1">// gleam.</span>

<span class="w">  </span><span class="c1">// Gleam has a robust static type system that helps you as you write and edit</span>
<span class="w">  </span><span class="c1">// code, catching mistakes and showing you where to make changes.</span>
<span class="w">  </span><span class="c1">// io.println(10)</span>
<span class="w">  </span><span class="c1">// If you uncomment the previous line you&#39;ll get a compile time error reported</span>
<span class="w">  </span><span class="c1">// as the io.println function only works with strings, not ints.</span>

<span class="w">  </span><span class="c1">// The compile will output an error that looks like this:</span>
<span class="w">  </span><span class="c1">// error: Type mismatch</span>
<span class="w">  </span><span class="c1">//  ┌─ /home/contributor/learnxinmyminutes/src/learnxinmyminutes.gleam:21:14</span>
<span class="w">  </span><span class="c1">//  │</span>
<span class="w">  </span><span class="c1">// 21 │   io.println(10)</span>
<span class="w">  </span><span class="c1">//  │              ^^</span>
<span class="w">  </span><span class="c1">//</span>
<span class="w">  </span><span class="c1">// Expected type:</span>
<span class="w">  </span><span class="c1">//</span>
<span class="w">  </span><span class="c1">//     String</span>
<span class="w">  </span><span class="c1">//</span>
<span class="w">  </span><span class="c1">// Found type:</span>
<span class="w">  </span><span class="c1">//</span>
<span class="w">  </span><span class="c1">//     Int</span>

<span class="w">  </span><span class="c1">// Working with numbers</span>

<span class="w">  </span><span class="c1">// When running on the Erlang virtual machine ints have no maximum and minimum</span>
<span class="w">  </span><span class="c1">// size.</span>
<span class="w">  </span><span class="c1">// When running on JavaScript runtimes ints are represented using JavaScript&#39;s</span>
<span class="w">  </span><span class="c1">// 64 bit floating point numbers.</span>

<span class="w">  </span><span class="c1">// Int arithmetic</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">5</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">5</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Int comparisons</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Equality works for any type and is checked structurally, meaning that two</span>
<span class="w">  </span><span class="c1">// values are equal if they have the same structure rather than if they are at</span>
<span class="w">  </span><span class="c1">// the same memory location.</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// True</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="p">!=</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// False</span>

<span class="w">  </span><span class="c1">// Standard library int functions</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">int</span><span class="p">.</span><span class="n">min</span><span class="p">(</span><span class="mi">142</span><span class="p">,</span><span class="w"> </span><span class="mi">137</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 137</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">int</span><span class="p">.</span><span class="n">clamp</span><span class="p">(</span><span class="o">-</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">min</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">max</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 0</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">int</span><span class="p">.</span><span class="n">base_parse</span><span class="p">(</span><span class="s">&quot;10&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// Ok(2)</span>

<span class="w">  </span><span class="c1">// Binary, octal, and hex Int literals</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mb">0b00001111</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mo">0o17</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mh">0xF</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Use underscores to enhance integer readability</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mi">1_000_000</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Gleam&#39;s numerical operators are not overloaded, so there are dedicated</span>
<span class="w">  </span><span class="c1">// operators for working with floats.</span>

<span class="w">  </span><span class="c1">// Float arithmetic</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">+.</span><span class="w"> </span><span class="mf">1.5</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">5.0</span><span class="w"> </span><span class="o">-.</span><span class="w"> </span><span class="mf">1.5</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">5.0</span><span class="w"> </span><span class="o">/.</span><span class="w"> </span><span class="mf">2.5</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">3.0</span><span class="w"> </span><span class="o">*.</span><span class="w"> </span><span class="mf">3.5</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Float comparisons</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">2.2</span><span class="w"> </span><span class="o">&gt;.</span><span class="w"> </span><span class="mf">1.3</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">2.2</span><span class="w"> </span><span class="o">&lt;.</span><span class="w"> </span><span class="mf">1.3</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">2.2</span><span class="w"> </span><span class="o">&gt;=.</span><span class="w"> </span><span class="mf">1.3</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">2.2</span><span class="w"> </span><span class="o">&lt;=.</span><span class="w"> </span><span class="mf">1.3</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Floats are represented as 64-bit floating point numbers on both the Erlang</span>
<span class="w">  </span><span class="c1">// and JavaScript runtimes.</span>
<span class="w">  </span><span class="c1">// The floating point behaviour is native to their respective runtimes, so</span>
<span class="w">  </span><span class="c1">// their exact behaviour will be slightly different on the two runtimes.</span>

<span class="w">  </span><span class="c1">// Under the JavaScript runtime, exceeding the maximum (or minimum)</span>
<span class="w">  </span><span class="c1">// representable value for a floating point value will result in Infinity</span>
<span class="w">  </span><span class="c1">// (or -Infinity). Should you try to divide two infinities you will get NaN</span>
<span class="w">  </span><span class="c1">// as a result.</span>

<span class="w">  </span><span class="c1">// When running on the BEAM any overflow will raise an error. So there is no</span>
<span class="w">  </span><span class="c1">// NaN or Infinity float value in the Erlang runtime.</span>

<span class="w">  </span><span class="c1">// Division by zero is not an error</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">3.14</span><span class="w"> </span><span class="o">/.</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// 0.0</span>

<span class="w">  </span><span class="c1">// Standard library float functions</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">float</span><span class="p">.</span><span class="n">max</span><span class="p">(</span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="mf">9.5</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 9.5</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">float</span><span class="p">.</span><span class="n">ceiling</span><span class="p">(</span><span class="mf">5.4</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 6.0</span>

<span class="w">  </span><span class="c1">// Underscores for floats are also supported</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="mf">10_000.01</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Division by zero will not overflow but is instead defined to be zero.</span>

<span class="w">  </span><span class="c1">// Working with strings</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;⭐ Gleam ⭐ - 별&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span>
<span class="w">    </span><span class="s">&quot;this</span>
<span class="s">    is</span>
<span class="s">    a</span>
<span class="s">    multi</span>
<span class="s">    line</span>
<span class="s">    string&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;\u{1F600}&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// Outputs a smiley 😀</span>

<span class="w">  </span><span class="c1">// Double quote can be escaped</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;\&quot;X\&quot; marks the spot&quot;</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// String concatenation</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;One &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot;Two&quot;</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// String functions</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">text</span><span class="p">.</span><span class="n">reverse</span><span class="p">(</span><span class="s">&quot;1 2 3 4 5&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">text</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;def&quot;</span><span class="p">))</span>

<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="k">text</span><span class="p">.</span><span class="n">reverse</span><span class="p">(</span><span class="s">&quot;!desrever tog gnirts sihT&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// Outputs &quot;This string got reversed!&quot;</span>

<span class="w">  </span><span class="c1">// Several escape sequences are supported:</span>

<span class="w">  </span><span class="c1">// \&quot; - double quote</span>
<span class="w">  </span><span class="c1">// \\ - backslash</span>
<span class="w">  </span><span class="c1">// \f - form feed</span>
<span class="w">  </span><span class="c1">// \n - newline</span>
<span class="w">  </span><span class="c1">// \r - carriage return</span>
<span class="w">  </span><span class="c1">// \t - tab</span>

<span class="w">  </span><span class="c1">// Bool operators</span>
<span class="w">  </span><span class="c1">// The || and &amp;&amp; operators work by short-circuiting</span>

<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">True</span><span class="w"> </span><span class="p">&amp;&amp;</span><span class="w"> </span><span class="n">False</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// False</span>

<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">True</span><span class="w"> </span><span class="p">&amp;&amp;</span><span class="w"> </span><span class="n">True</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// True</span>

<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">False</span><span class="w"> </span><span class="p">||</span><span class="w"> </span><span class="n">False</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// False</span>

<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">False</span><span class="w"> </span><span class="p">||</span><span class="w"> </span><span class="n">True</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// True</span>

<span class="w">  </span><span class="c1">// Bool functions</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">bool</span><span class="p">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">True</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// &quot;True&quot;</span>

<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">bool</span><span class="p">.</span><span class="n">to_int</span><span class="p">(</span><span class="n">False</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 0</span>

<span class="w">  </span><span class="c1">// Assignments</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Original value&quot;</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Assign `y` to the value of `x`</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">x</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Assign `x` to a new value</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;New value&quot;</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// The `y` still refers to the original value</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// In Gleam variable and function names are written in snake_case.</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">answer_to_the_universe</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">42</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">answer_to_the_universe</span><span class="p">)</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">and_everything</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">answer_to_the_universe</span>
<span class="w">  </span><span class="c1">// Now using a variable produces a warning</span>

<span class="w">  </span><span class="c1">// warning: Unused variable</span>
<span class="w">  </span><span class="c1">//     ┌─ /home/contributor/learnxinmyminutes/src/learnxinmyminutes.gleam:199:7</span>
<span class="w">  </span><span class="c1">//     │</span>
<span class="w">  </span><span class="c1">// 199 │   let and_everything = answer_to_the_universe</span>
<span class="w">  </span><span class="c1">//     │       ^^^^^^^^^^^^^^ This variable is never used</span>
<span class="w">  </span><span class="c1">// Hint: You can ignore it with an underscore: `_and_everything`.</span>

<span class="w">  </span><span class="c1">// Type annotations</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">_name</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;Gleam&quot;</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">_is_cool</span><span class="p">:</span><span class="w"> </span><span class="n">Bool</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">True</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">_version</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="c1">// Useful for documentation purposes but they do not change how the compiler</span>
<span class="w">  </span><span class="c1">// type checks the code beyond making sure the annotation matches the type,</span>
<span class="w">  </span><span class="c1">// otherwise you get an error.</span>

<span class="w">  </span><span class="c1">// let _has_wrong_type_annotation: Int = True</span>

<span class="w">  </span><span class="c1">//  error: Type mismatch</span>
<span class="w">  </span><span class="c1">//      ┌─ /home/contributor/learnxinmyminutes/src/learnxinmyminutes.gleam:219:41</span>
<span class="w">  </span><span class="c1">//      │</span>
<span class="w">  </span><span class="c1">//  219 │   let _has_wrong_type_annotation: Int = True</span>
<span class="w">  </span><span class="c1">//      │                                         ^^^^</span>
<span class="w">  </span><span class="c1">//</span>
<span class="w">  </span><span class="c1">//  Expected type:</span>
<span class="w">  </span><span class="c1">//</span>
<span class="w">  </span><span class="c1">//      Int</span>
<span class="w">  </span><span class="c1">//</span>
<span class="w">  </span><span class="c1">//  Found type:</span>
<span class="w">  </span><span class="c1">//</span>
<span class="w">  </span><span class="c1">//      Bool</span>

<span class="w">  </span><span class="c1">// Type aliases</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">one</span><span class="p">:</span><span class="w"> </span><span class="n">UserId</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">  </span><span class="c1">// Refer to the beginning of the file for the definition of the UserId type</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">two</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">2</span>

<span class="w">  </span><span class="c1">// Aliases are just for creating more readable code and more precise</span>
<span class="w">  </span><span class="c1">// documentation.</span>
<span class="w">  </span><span class="c1">// Under the hood they are still values of the same type so operations</span>
<span class="w">  </span><span class="c1">// still work</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">one</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">two</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// 3</span>

<span class="w">  </span><span class="c1">// Blocks: scoping and value</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">100.0</span>
<span class="w">    </span><span class="n">value</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// io.debug(value) // &lt;- This will not compile because &quot;value&quot; is out of scope</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">3.14159</span><span class="w"> </span><span class="o">*.</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="o">*.</span><span class="w"> </span><span class="n">radius</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">area</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Use blocks to group operations instead of parenthesis</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">n1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">5</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">n2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">n1</span><span class="w"> </span><span class="p">!=</span><span class="w"> </span><span class="n">n2</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// True</span>

<span class="w">  </span><span class="c1">// Lists</span>

<span class="w">  </span><span class="c1">// Nephews of Scrooge McDuck</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">nephews</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;Huey&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Dewey&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Louie&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">nephews</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// [&quot;Huey&quot;, &quot;Dewey&quot;, &quot;Louie&quot;]</span>

<span class="w">  </span><span class="c1">// Immutably prepend so the original list is not changed</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">([</span><span class="s">&quot;Donald&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">..</span><span class="n">nephews</span><span class="p">])</span>
<span class="w">  </span><span class="c1">// [&quot;Donald&quot;, &quot;Huey&quot;, &quot;Dewey&quot;, &quot;Louie&quot;]</span>

<span class="w">  </span><span class="c1">// Some standard library functions for lists</span>

<span class="w">  </span><span class="k">list</span><span class="p">.</span><span class="n">each</span><span class="p">(</span><span class="n">nephews</span><span class="p">,</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">println</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// Huey</span>
<span class="w">  </span><span class="c1">// Dewey</span>
<span class="w">  </span><span class="c1">// Louie</span>

<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">list</span><span class="p">.</span><span class="n">drop</span><span class="p">(</span><span class="n">nephews</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// [&quot;Louie&quot;]</span>

<span class="w">  </span><span class="n">more_examples</span><span class="p">()</span>
<span class="w">  </span><span class="n">more_function_examples</span><span class="p">()</span>
<span class="w">  </span><span class="n">generic_typing_examples</span><span class="p">()</span>
<span class="w">  </span><span class="n">beloved_pipelines_demo</span><span class="p">()</span>
<span class="w">  </span><span class="n">labels_in_function_calls</span><span class="p">()</span>
<span class="w">  </span><span class="n">showcase_flow_control</span><span class="p">()</span>
<span class="w">  </span><span class="n">more_on_recursion</span><span class="p">()</span>
<span class="w">  </span><span class="n">more_on_pattern_matching</span><span class="p">()</span>
<span class="w">  </span><span class="n">showcase_types</span><span class="p">()</span>
<span class="w">  </span><span class="n">more_on_types</span><span class="p">()</span>
<span class="w">  </span><span class="n">more_on_callbacks</span><span class="p">()</span>
<span class="w">  </span><span class="n">showcase_externals</span><span class="p">()</span>
<span class="w">  </span><span class="n">showcase_panic</span><span class="p">()</span>
<span class="p">}</span>

<span class="c1">// The fn keyword is used to define new functions.</span>
<span class="k">fn</span><span class="w"> </span><span class="n">multiply</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// No explicit return</span>
<span class="w">  </span><span class="c1">// The last expression gets returned</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span>
<span class="p">}</span>

<span class="c1">// The double and multiply functions are defined without the pub keyword.</span>
<span class="c1">// This makes them private functions, they can only be used within this module.</span>
<span class="c1">// If another module attempted to use them it would result in a compiler error.</span>
<span class="k">fn</span><span class="w"> </span><span class="n">double</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">multiply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Only public functions are exported and can be called from outside the module.</span>

<span class="c1">// Type annotations are optional for function arguments and return values</span>
<span class="c1">// but are considered good practice for clarity and in order to encourage</span>
<span class="c1">// intentional and thoughtful design.</span>

<span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="n">is_leap_year</span><span class="p">(</span><span class="n">year</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Bool</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">&amp;&amp;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">||</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">more_examples</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Debug also returns a value so its output is the return value of</span>
<span class="w">  </span><span class="c1">// this function</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">double</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 20</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">is_leap_year</span><span class="p">(</span><span class="mi">2000</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// True</span>
<span class="p">}</span>

<span class="c1">// Gleam supports higher-order functions:</span>
<span class="c1">// They can be assigned to variables, passed as arguments to other functions</span>
<span class="c1">// or even be returned as values from blocks or other functions</span>
<span class="k">fn</span><span class="w"> </span><span class="n">call_func_on_int</span><span class="p">(</span><span class="n">func</span><span class="p">:</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">func</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">more_function_examples</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">call_func_on_int</span><span class="p">(</span><span class="n">double</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 4</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">square</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 9</span>

<span class="w">  </span><span class="c1">// Calling an anonymous function immediately after defining it</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">fn</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">}(</span><span class="mi">1</span><span class="p">))</span>

<span class="w">  </span><span class="c1">// Closure example</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">make_adder</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span><span class="p">(</span><span class="n">argument</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">adder_of_fives</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">make_adder</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">adder_of_fives</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 15</span>

<span class="w">  </span><span class="c1">// Anonymous functions can be used interchangeably with named functions.</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">call_func_on_int</span><span class="p">(</span><span class="k">fn</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="mi">900</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 1000</span>

<span class="w">  </span><span class="c1">// Let&#39;s create a function decorator</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">twice</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">wrapped_func</span><span class="p">:</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span><span class="p">(</span><span class="n">argument</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">wrapped_func</span><span class="p">(</span><span class="n">wrapped_func</span><span class="p">(</span><span class="n">argument</span><span class="p">))</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">quadruple</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">twice</span><span class="p">(</span><span class="n">double</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">quadruple</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">quadruple_2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">multiply</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">quadruple_2</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 8</span>

<span class="w">  </span><span class="c1">// A function capture is a shorthand syntax for creating anonymous functions</span>
<span class="w">  </span><span class="c1">// that takes one argument and immediately calls another function with that</span>
<span class="w">  </span><span class="c1">// argument</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">quadruple_3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">multiply</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">quadruple_3</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 16</span>
<span class="p">}</span>

<span class="c1">// Generic functions are supported using type variables.</span>
<span class="k">fn</span><span class="w"> </span><span class="n">generic_twice</span><span class="p">(</span><span class="n">func</span><span class="p">:</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">argument</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">func</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">argument</span><span class="p">))</span>
<span class="p">}</span>

<span class="c1">// In generic_twice value was the type variable.</span>
<span class="c1">// In generic_twice_decorator the_type is the type variable.</span>
<span class="c1">// As in any other variable you get to choose the name.</span>
<span class="k">fn</span><span class="w"> </span><span class="n">generic_twice_decorator</span><span class="p">(</span>
<span class="w">  </span><span class="n">func</span><span class="p">:</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">the_type</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">the_type</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">the_type</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">the_type</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">fn</span><span class="p">(</span><span class="n">argument</span><span class="p">:</span><span class="w"> </span><span class="n">the_type</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">the_type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">func</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">argument</span><span class="p">))</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">generic_typing_examples</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">double_integers</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">double_floats</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="n">Float</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Float</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*.</span><span class="w"> </span><span class="mf">2.0</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">generic_twice</span><span class="p">(</span><span class="n">double_integers</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">generic_twice</span><span class="p">(</span><span class="n">double_floats</span><span class="p">,</span><span class="w"> </span><span class="mf">3.0</span><span class="p">))</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">quadruple_integers</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generic_twice_decorator</span><span class="p">(</span><span class="n">double_integers</span><span class="p">)</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">quadruple_floats</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">generic_twice_decorator</span><span class="p">(</span><span class="n">double_floats</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">quadruple_integers</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 4</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">quadruple_floats</span><span class="p">(</span><span class="mf">1.0</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 4.0</span>
<span class="p">}</span>

<span class="c1">// Gleam&#39;s pipe operator |&gt; takes the result of the expression on its left</span>
<span class="c1">// and passes it as an argument to the function on its right.</span>
<span class="k">fn</span><span class="w"> </span><span class="n">beloved_pipelines_demo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Let&#39;s be honest: you want to use Gleam just for this cool operator, right?</span>
<span class="w">  </span><span class="p">[</span><span class="s">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">list</span><span class="p">.</span><span class="n">intersperse</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">list</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="s">&quot;!&quot;</span><span class="p">])</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">string</span><span class="p">.</span><span class="n">concat</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">string</span><span class="p">.</span><span class="n">capitalise</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span>

<span class="w">  </span><span class="c1">// Match cleaner than this right?</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span>
<span class="w">    </span><span class="k">string</span><span class="p">.</span><span class="n">capitalise</span><span class="p">(</span>
<span class="w">      </span><span class="k">string</span><span class="p">.</span><span class="n">concat</span><span class="p">(</span>
<span class="w">        </span><span class="k">list</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="k">list</span><span class="p">.</span><span class="n">intersperse</span><span class="p">([</span><span class="s">&quot;hello&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p">],</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">),</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;!&quot;</span><span class="p">]),</span>
<span class="w">      </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">  </span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Solution to the first problem of Project Euler:</span>
<span class="w">  </span><span class="c1">// URL: https://projecteuler.net/problem=1</span>
<span class="w">  </span><span class="c1">// Description: Find the sum of all the multiples of 3 and 5 below 1000.</span>
<span class="w">  </span><span class="k">iterator</span><span class="p">.</span><span class="n">iterate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">})</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">iterator</span><span class="p">.</span><span class="n">take</span><span class="p">(</span><span class="mi">1000</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">iterator</span><span class="p">.</span><span class="n">filter</span><span class="p">(</span><span class="k">fn</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">||</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">iterator</span><span class="p">.</span><span class="n">fold</span><span class="p">(</span><span class="n">from</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">with</span><span class="p">:</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">acc</span><span class="p">,</span><span class="w"> </span><span class="n">element</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">acc</span><span class="w"> </span><span class="p">})</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">int</span><span class="p">.</span><span class="n">to_string</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">sum_as_text</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;Solution to Project Euler&#39;s problem #1: &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">sum_as_text</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span>
<span class="w">  </span><span class="c1">// Solution to Project Euler&#39;s problem #1: 233168</span>
<span class="p">}</span>

<span class="c1">// Labels can be added before each argument</span>
<span class="k">fn</span><span class="w"> </span><span class="n">call_func_on_int_with_labels</span><span class="p">(</span>
<span class="w">  </span><span class="n">func</span><span class="w"> </span><span class="n">passed_func</span><span class="p">:</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="p">,</span>
<span class="w">  </span><span class="n">value</span><span class="w"> </span><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">passed_func</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// The label and the argument can have the same name</span>
<span class="k">fn</span><span class="w"> </span><span class="n">add_one</span><span class="p">(</span><span class="n">number</span><span class="w"> </span><span class="n">number</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">number</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">add_two_integers</span><span class="p">(</span><span class="n">first</span><span class="w"> </span><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">,</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">m</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">m</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">labels_in_function_calls</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Since we are labelling the arguments we can switch the order</span>
<span class="w">  </span><span class="c1">// if we want to</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">call_func_on_int_with_labels</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">func</span><span class="p">:</span><span class="w"> </span><span class="n">double</span><span class="p">))</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">add_one</span><span class="p">(</span><span class="n">number</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 2</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">string</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">does</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;theme&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">contain</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;the&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// True</span>
<span class="w">  </span><span class="c1">// Unlabeled arguments must go first</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">add_two_integers</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">second</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 4</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">showcase_flow_control</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Use case if you want to use pattern-matching in order to</span>
<span class="w">  </span><span class="c1">// select which code to execute.</span>
<span class="w">  </span><span class="c1">// Gleam will make sure all possible values are covered</span>
<span class="w">  </span><span class="c1">// by performing exhaustiveness checks.</span>
<span class="w">  </span><span class="c1">// Otherwise you get compilation errors.</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">puppies</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;Bear&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Frisco&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ranger&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">list</span><span class="p">.</span><span class="n">length</span><span class="p">(</span><span class="n">of</span><span class="p">:</span><span class="w"> </span><span class="n">puppies</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;We have &quot;</span>
<span class="w">    </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">int</span><span class="p">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
<span class="w">    </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot; &quot;</span>
<span class="w">    </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="c1">// The underscore matches with any other value</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;puppy&quot;</span>
<span class="w">      </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;puppies&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span>

<span class="w">  </span><span class="c1">// Gleam allows patterns in case expressions to also assign variables.</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;Puppy count: &quot;</span>
<span class="w">    </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="k">list</span><span class="p">.</span><span class="n">length</span><span class="p">(</span><span class="n">puppies</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="mi">0</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;None.&quot;</span>
<span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;Just one.&quot;</span>
<span class="w">      </span><span class="n">other</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;As many as &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">int</span><span class="p">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot; puppies.&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span>

<span class="w">  </span><span class="c1">// Consider BEAM languages are functional in design and Gleam is no exception</span>
<span class="w">  </span><span class="c1">// so there are no if, for or while constructs available.</span>

<span class="w">  </span><span class="c1">// Use pattern-matching for conditionals</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">42</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">True</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;This is the answer to the universe.&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">False</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;This is the answer to something else.&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Use recursion instead of looping</span>
<span class="w">  </span><span class="n">from_one_to_ten</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Recursive function</span>
<span class="k">fn</span><span class="w"> </span><span class="n">from_one_to_ten</span><span class="p">(</span><span class="n">n</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">10</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Nil</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">from_one_to_ten</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// In order to avoid memory exhaustion due to creating excessive</span>
<span class="c1">// stack frames when calling functions recursively, Gleam supports</span>
<span class="c1">// &quot;tail call optimisation&quot; which means that the compiler can reuse</span>
<span class="c1">// the stack frame for the current function if a function call is</span>
<span class="c1">// the last thing the function does.</span>

<span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="n">fib</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// The public function calls the private tail recursive function</span>
<span class="w">  </span><span class="n">fib_loop</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">fib_loop</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">,</span><span class="w"> </span><span class="n">accumulator</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Int</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">accumulator</span>

<span class="w">    </span><span class="c1">// The last thing this function does is call itself</span>
<span class="w">    </span><span class="c1">// In the previous lesson the last thing it did was multiply two ints</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">fib_loop</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">accumulator</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Gleam supports pattern-matching the first element and the remainder</span>
<span class="c1">// of a list with the [x, ..y] pattern inside a case expression.</span>
<span class="k">fn</span><span class="w"> </span><span class="n">reverse_list</span><span class="p">(</span><span class="n">the_list</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="n">value</span><span class="p">))</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">the_list</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">[</span><span class="n">head</span><span class="p">,</span><span class="w"> </span><span class="p">..</span><span class="n">tail</span><span class="p">]</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="k">list</span><span class="p">.</span><span class="n">concat</span><span class="p">([</span><span class="n">reverse_list</span><span class="p">(</span><span class="n">tail</span><span class="p">),</span><span class="w"> </span><span class="p">[</span><span class="n">head</span><span class="p">]])</span>
<span class="w">    </span><span class="p">[]</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p">[]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">more_on_recursion</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">fib</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 55</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">reverse_list</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">]))</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">more_on_pattern_matching</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// When pattern-matching on strings the &lt;&gt; operator match on strings</span>
<span class="w">  </span><span class="c1">// with a specific prefix and assigns the reminder to a variable</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">case</span><span class="w"> </span><span class="s">&quot;Hello, Lucy&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;Hello, &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;Greetings for &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">name</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;Potentially no greetings&quot;</span>
<span class="w">  </span><span class="p">})</span>

<span class="w">  </span><span class="c1">// Alternative patterns are supported so the same clause is used</span>
<span class="w">  </span><span class="c1">// for multiple values</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">year</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">2024</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">number_of_days</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">2</span><span class="w"> </span><span class="p">-&gt;</span>
<span class="w">      </span><span class="k">case</span><span class="w"> </span><span class="n">is_leap_year</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">False</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">28</span>
<span class="w">        </span><span class="n">True</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">29</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="mi">4</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">30</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">31</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;Number of days: &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">int</span><span class="p">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">number_of_days</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// 29</span>

<span class="w">  </span><span class="c1">// Guards in pattern-matching:</span>
<span class="w">  </span><span class="c1">// When using the if keyword an expression must evaluate to True</span>
<span class="w">  </span><span class="c1">// for the pattern to match.</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">list_starts_with</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">the_list</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="p">(</span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">the_value</span><span class="p">:</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Bool</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="n">the_list</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">[</span><span class="n">head</span><span class="p">,</span><span class="w"> </span><span class="p">..]</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">head</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="n">the_value</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">True</span>
<span class="w">      </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">False</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">list_starts_with</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">],</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// True</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">Gender</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Male</span>
<span class="w">  </span><span class="n">Female</span>
<span class="w">  </span><span class="n">Other</span>
<span class="p">}</span>

<span class="c1">// Records:</span>
<span class="c1">// - Support variants</span>
<span class="c1">// - Each variant is similar to a struct with fields</span>
<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Rectangle</span><span class="p">(</span><span class="n">base</span><span class="p">:</span><span class="w"> </span><span class="n">Float</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="n">Float</span><span class="p">)</span>
<span class="w">  </span><span class="n">Triangle</span><span class="p">(</span><span class="n">base</span><span class="p">:</span><span class="w"> </span><span class="n">Float</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="n">Float</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Records with one variant resemble structs</span>
<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">Point</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">Float</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="n">Float</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">showcase_types</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Tuples:</span>
<span class="w">  </span><span class="c1">// - Can mix together elements of different types</span>
<span class="w">  </span><span class="c1">// - Their type is implicit e.g. #{1, &quot;Hello&quot;} is of type #{Int, String}</span>
<span class="w">  </span><span class="c1">// - Their elements can be accessed by numeric indexes</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">tuple_01</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">#(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ferris&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;rustacean&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">True</span><span class="p">)</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">tuple_02</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">#(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Lucy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;starfish&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">True</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">tuple_01</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">tuple_01</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// 1</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">tuple_02</span><span class="p">.</span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// Lucy</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="p">#(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">species</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">tuple_01</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot; the &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">species</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Pattern-matching with tuples including variable assignment</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">tuple_02</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">#(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">True</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot; is a mascot.&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">#(</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">False</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot; is not a mascot.&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Using a custom type with pattern-matching</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">gender</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Other</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="k">case</span><span class="w"> </span><span class="n">gender</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Male</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;Boy&quot;</span>
<span class="w">    </span><span class="n">Female</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;Girl&quot;</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;Undetermined&quot;</span>
<span class="w">  </span><span class="p">})</span>

<span class="w">  </span><span class="c1">// Using records</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">rectangle_1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="n">base</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">:</span><span class="w"> </span><span class="mf">20.0</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">rectangle_1</span><span class="p">.</span><span class="n">height</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// 10.3</span>

<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">point_1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="mf">3.2</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="mf">4.3</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">point_1</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Updating a record</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">point_2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Point</span><span class="p">(..</span><span class="n">point_1</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="w"> </span><span class="mf">5.7</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">point_2</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// In Gleam, values are not nullable.</span>
<span class="w">  </span><span class="c1">// Nil is the only value of its type.</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">some_var</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Nil</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Hello!&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">some_var</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="n">result</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// True</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">Mineral</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Gold</span>
<span class="w">  </span><span class="n">Silver</span>
<span class="w">  </span><span class="n">Copper</span>
<span class="p">}</span>

<span class="c1">// Generic custom types with contained types as parameters</span>
<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">Purity</span><span class="p">(</span><span class="n">inner_type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Pure</span><span class="p">(</span><span class="n">inner_type</span><span class="p">)</span>
<span class="w">  </span><span class="n">Impure</span><span class="p">(</span><span class="n">inner_type</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">Beverage</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Water</span>
<span class="w">  </span><span class="n">Juice</span>
<span class="p">}</span>

<span class="c1">// Existing custom types from the gleam/option and gleam/result modules</span>
<span class="c1">// facilitate working with nullable values and handling potential errors</span>
<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">nickname</span><span class="p">:</span><span class="w"> </span><span class="n">Option</span><span class="p">(</span><span class="n">String</span><span class="p">))</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">DiceError</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">DiceValueOutOfRange</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">checked_dice_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Result</span><span class="p">(</span><span class="n">Int</span><span class="p">,</span><span class="w"> </span><span class="n">DiceError</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Ok</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="n">DiceValueOutOfRange</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">double_dice_value</span><span class="p">(</span><span class="n">value</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Result</span><span class="p">(</span><span class="n">Int</span><span class="p">,</span><span class="w"> </span><span class="n">DiceError</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Ok</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="n">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Error</span><span class="p">(</span><span class="n">DiceValueOutOfRange</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">more_on_types</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">mineral_sample_01</span><span class="p">:</span><span class="w"> </span><span class="n">Purity</span><span class="p">(</span><span class="n">Mineral</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Pure</span><span class="p">(</span><span class="n">Gold</span><span class="p">)</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">mineral_sample_02</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Impure</span><span class="p">(</span><span class="n">Silver</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">mineral_sample_01</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">mineral_sample_02</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// A glass can be empty or not</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">glass_01</span><span class="p">:</span><span class="w"> </span><span class="n">Option</span><span class="p">(</span><span class="n">Beverage</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Some</span><span class="p">(</span><span class="n">Water</span><span class="p">)</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">glass_02</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">None</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">glass_01</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">glass_02</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// A person can have a nickname or not</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">person_01</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;John&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nickname</span><span class="p">:</span><span class="w"> </span><span class="n">Some</span><span class="p">(</span><span class="s">&quot;The Ripper&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">person_02</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Martin&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">nickname</span><span class="p">:</span><span class="w"> </span><span class="n">None</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">person_01</span><span class="p">)</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">person_02</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// Working with functions that return values of type Result</span>
<span class="w">  </span><span class="k">let</span><span class="w"> </span><span class="n">dice_01</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">5</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="n">checked_dice_value</span><span class="p">(</span><span class="n">dice_01</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Ok</span><span class="p">(</span><span class="n">checked_value</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span>
<span class="w">      </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;The value of &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="k">int</span><span class="p">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">checked_value</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot; is OK.&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="n">Error</span><span class="p">(</span><span class="n">DiceValueOutOfRange</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span>
<span class="w">      </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;The value of the dice is out of range&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Let&#39;s attempt to double the value if the resulting value is still</span>
<span class="w">  </span><span class="c1">// a number in any of the sides of the dice.</span>
<span class="w">  </span><span class="c1">// Otherwise, let&#39;s put the max value.</span>
<span class="w">  </span><span class="mi">2</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="n">checked_dice_value</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">result</span><span class="p">.</span><span class="n">try</span><span class="p">(</span><span class="n">double_dice_value</span><span class="p">)</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">result</span><span class="p">.</span><span class="n">unwrap</span><span class="p">(</span><span class="n">or</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<span class="w">  </span><span class="p">|&gt;</span><span class="w"> </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="n">throw_dice_as_result</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Ok</span><span class="p">(</span><span class="k">int</span><span class="p">.</span><span class="n">random</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="n">sum_dice_values</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="n">Int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">Ok</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Betting on first-class functions and pattern-matching</span>
<span class="c1">// can easily lead to tons of indentation</span>
<span class="k">fn</span><span class="w"> </span><span class="n">roll_two_dices_without_use</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">result</span><span class="p">.</span><span class="n">try</span><span class="p">(</span><span class="n">throw_dice_as_result</span><span class="p">(),</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">first_dice</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">result</span><span class="p">.</span><span class="n">try</span><span class="p">(</span><span class="n">throw_dice_as_result</span><span class="p">(),</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">second_dice</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">result</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">sum_dice_values</span><span class="p">(</span><span class="n">first_dice</span><span class="p">,</span><span class="w"> </span><span class="n">second_dice</span><span class="p">),</span><span class="w"> </span><span class="k">fn</span><span class="p">(</span><span class="n">sum</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">})</span>
<span class="p">}</span>

<span class="c1">// The use expression still lets us write code that uses callbacks</span>
<span class="c1">// but cleans up excessive indentation:</span>
<span class="c1">// - A call to higher order function go the right side of the &lt;- operator</span>
<span class="c1">// - The argument names for the callback function go on the left hand side of</span>
<span class="c1">//   the &lt;- operator</span>
<span class="c1">// - All the remaining code in the enclosing {} block becomes the body of the</span>
<span class="c1">//   callback function.</span>
<span class="k">fn</span><span class="w"> </span><span class="n">roll_two_dices_with_use</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">use</span><span class="w"> </span><span class="n">first_dice</span><span class="w"> </span><span class="p">&lt;-</span><span class="w"> </span><span class="k">result</span><span class="p">.</span><span class="n">try</span><span class="p">(</span><span class="n">throw_dice_as_result</span><span class="p">())</span>
<span class="w">  </span><span class="k">use</span><span class="w"> </span><span class="n">second_dice</span><span class="w"> </span><span class="p">&lt;-</span><span class="w"> </span><span class="k">result</span><span class="p">.</span><span class="n">try</span><span class="p">(</span><span class="n">throw_dice_as_result</span><span class="p">())</span>
<span class="w">  </span><span class="k">use</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="p">&lt;-</span><span class="w"> </span><span class="k">result</span><span class="p">.</span><span class="n">map</span><span class="p">(</span><span class="n">sum_dice_values</span><span class="p">(</span><span class="n">first_dice</span><span class="p">,</span><span class="w"> </span><span class="n">second_dice</span><span class="p">))</span>
<span class="w">  </span><span class="c1">// This is the remaining code in innermost callback function</span>
<span class="w">  </span><span class="n">sum</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">more_on_callbacks</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">roll_two_dices_without_use</span><span class="p">())</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">roll_two_dices_with_use</span><span class="p">())</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">DateTime</span>

<span class="c1">// External functions must annotate a return type</span>
<span class="p">@</span><span class="n">external</span><span class="p">(</span><span class="n">erlang</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;calendar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;local_time&quot;</span><span class="p">)</span>
<span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="n">now</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">DateTime</span>

<span class="k">fn</span><span class="w"> </span><span class="n">showcase_externals</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">io</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="n">now</span><span class="p">())</span>
<span class="w">  </span><span class="c1">// #(#(2024, 4, 6), #(14, 4, 16))</span>
<span class="p">}</span>

<span class="k">fn</span><span class="w"> </span><span class="n">showcase_panic</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// We can deliberately abort execution by using the panic keyword</span>
<span class="w">  </span><span class="c1">// in order to make our program crash immediately</span>
<span class="w">  </span><span class="k">case</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">==</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">True</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="k">panic</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s">&quot;The equality operator is broken!&quot;</span>
<span class="w">    </span><span class="n">False</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="s">&quot;Equality operator works for integers&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="c1">// Calling a function that uses the todo keyword also crashes</span>
<span class="w">  </span><span class="c1">// homework()</span>
<span class="p">}</span>

<span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="n">homework</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">todo</span>
<span class="p">}</span>
</pre></div>
<h2>Further reading</h2>
<ul>
<li><a href="https://gleam.run/">Gleam's official website</a></li>
<li><a href="https://tour.gleam.run/">Language tour</a> - Includes live code editor</li>
<li><a href="https://gleam.run/documentation/">Official documentation</a></li>
<li><a href="https://github.com/gleam-lang/awesome-gleam">Gleam's awesome list</a></li>
<li><a href="https://exercism.org/tracks/gleam">Exercism track for Gleam</a></li>
</ul>
<p>The official docs have cheatsheets for people familiar with:</p>
<ul>
<li><a href="https://gleam.run/cheatsheets/gleam-for-elixir-users">Elixir</a></li>
<li><a href="https://gleam.run/cheatsheets/gleam-for-elm-users">Elm</a></li>
<li><a href="https://gleam.run/cheatsheets/gleam-for-erlang-users">Erlang</a></li>
<li><a href="https://gleam.run/cheatsheets/gleam-for-php-users">PHP</a></li>
<li><a href="https://gleam.run/cheatsheets/gleam-for-python-users">Python</a></li>
<li><a href="https://gleam.run/cheatsheets/gleam-for-rust-users">Rust</a></li>
</ul>

        <hr>
        <p>
          Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the GitHub Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/gleam.md">pull request</a> yourself!
        </p>
        <p class="contributed">
          Originally contributed by Antonio Ognio, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/gleam.md">4 contributors</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="https://github.com/aognio/">Antonio Ognio</a>
          </p>
        </footer>
      </div>
    </div>
  </body>
</html>