<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="pt-BR">
    <title>Learn F# in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/pt-br/fsharp/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <div class="share">
        <span class="sharemsg">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fpt-br%2Ffsharp%2F&amp;text=Aprenda+X+em+Y+Minutos%2C+onde+X%3DF%23">
            Compartilhe esta página
          </a>
        </span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_twitter_large' displayText='Tweet'></span>
      </div>
      <h1><a href="/">Aprenda X em Y Minutos</a></h1>
      <h2>Onde X=F#</h2>
      <p class="filelink">
        Baixar o código:
        <a href="/pt-br/files/learnfsharp.fs">learnfsharp.fs</a>
      </p>
      <div id="doc">
<p>F# é uma linguagem de propósito geral funcional e orientada a objetos. É livre, de código aberto e executa em Linux, Mac, Windows e outros.</p>
<p>Possui um sistema de tipagem poderoso que evita muitos erros em tempo de compilação. Para isto utilizando inferência de tipos, o que a faz se comportar como uma linguagem dinâmica.</p>
<p>A sintaxe é diferente das linguagens do estilo C (C, C#, Java, etc):</p>
<ul>
<li>Chaves não são usadas para delimitar blocos de código. Ao invés disso é utilizada indentação (semelhante ao Python).</li>
<li>Espaços em branco são usados para separar parâmetros, ao invés de vírgulas.</li>
</ul>
<p>Se você deseja executar o código abaixo, copie e cole em <a href="https://try.fsharp.org">https://try.fsharp.org</a>, que é um REPL online.</p>
<div class="highlight"><pre lang="fsharp"><span class="c1">// comentários de linhas únicas usam barras duplas</span>
<span class="c">(* comentários de linhas múltiplas usam o par (* . . . *)</span>

<span class="c">-fim do comentário de linhas múltiplas- *)</span>

<span class="c1">// ================================================</span>
<span class="c1">// Sintaxe básica</span>
<span class="c1">// ================================================</span>

<span class="c1">// ------ &quot;Variáveis&quot; (mas não exatamente) ------</span>
<span class="c1">// A palavra reservada &quot;let&quot; define um valor imutável</span>
<span class="k">let</span><span class="w"> </span><span class="nv">myInt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span>
<span class="k">let</span><span class="w"> </span><span class="nv">myFloat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="o">.</span><span class="mi">14</span>
<span class="k">let</span><span class="w"> </span><span class="nv">myString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="w">           </span><span class="c1">// note que nenhum tipo é necessário</span>

<span class="c1">// ------ Listas ------</span>
<span class="k">let</span><span class="w"> </span><span class="nv">twoToFive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="mi">2</span><span class="o">;</span><span class="w"> </span><span class="mi">3</span><span class="o">;</span><span class="w"> </span><span class="mi">4</span><span class="o">;</span><span class="w"> </span><span class="mi">5</span><span class="o">]</span><span class="w">     </span><span class="c1">// Colchetes criam uma lista com</span>
<span class="w">                                 </span><span class="c1">// ponto e vírgula como delimitadores</span>
<span class="k">let</span><span class="w"> </span><span class="nv">oneToFive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">twoToFive</span><span class="w">   </span><span class="c1">// :: cria uma lista com um novo primeiro elemento</span>
<span class="c1">// O resultado é [1; 2; 3; 4; 5]</span>
<span class="k">let</span><span class="w"> </span><span class="nv">zeroToFive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="mi">0</span><span class="o">;</span><span class="w"> </span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">twoToFive</span><span class="w">   </span><span class="c1">// @ concatena duas listas</span>

<span class="c1">// IMPORTANTE: vírgulas nunca são usadas como delimitadores, somente ponto e vírgula!</span>

<span class="c1">// ------ Funções ------</span>
<span class="c1">// A palavra chave &quot;let&quot; também define nomes para funções.</span>
<span class="k">let</span><span class="w"> </span><span class="nv">square</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="w">          </span><span class="c1">// Note que não são usados parêntesis</span>
<span class="n">square</span><span class="w"> </span><span class="mi">3</span><span class="w">                      </span><span class="c1">// Agora executando a função. Também sem parêntesis</span>

<span class="k">let</span><span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w">           </span><span class="c1">// Não use add (x,y)! Isto significa algo</span>
<span class="w">                              </span><span class="c1">// completamente diferente.</span>
<span class="n">add</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w">                       </span><span class="c1">// Agora execute a função.</span>

<span class="c1">// para definir uma função de múltiplas linhas apenas use indentação. Nenhum ponto e vírgula é necessário</span>
<span class="k">let</span><span class="w"> </span><span class="nv">evens</span><span class="w"> </span><span class="kt">list</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="k">let</span><span class="w"> </span><span class="nv">isEven</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">   </span><span class="c1">// Define &quot;isEven&quot;como uma sub função. Note</span>
<span class="w">                              </span><span class="c1">// que o operador de igualdade é um simples &quot;=&quot;.</span>
<span class="w">   </span><span class="nn">List</span><span class="p">.</span><span class="n">filter</span><span class="w"> </span><span class="n">isEven</span><span class="w"> </span><span class="kt">list</span><span class="w">    </span><span class="c1">// List.filter é uma função da biblioteca padrão</span>
<span class="w">                              </span><span class="c1">// com dois parâmetros: uma função que retorna boolean</span>
<span class="w">                              </span><span class="c1">// e uma lista para verificar</span>

<span class="n">evens</span><span class="w"> </span><span class="n">oneToFive</span><span class="w">               </span><span class="c1">// Agora executando a função</span>

<span class="c1">// Usando parênteses é possível deixar mais clara a precedência. Neste exemplo,</span>
<span class="c1">// &quot;map&quot; é usado primeiro, com dois argumentos, então executa &quot;sum&quot; no resultado.</span>
<span class="c1">// Sem os parênteses, &quot;List.map&quot; seria passado como uma argumento para List.sum</span>
<span class="k">let</span><span class="w"> </span><span class="nv">sumOfSquaresTo100</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="nn">List</span><span class="p">.</span><span class="n">sum</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="o">]</span><span class="w"> </span><span class="o">)</span>

<span class="c1">// É possível redirecionar a saída de uma operação para a próxima usando pipe (&quot;|&gt;&quot;)</span>
<span class="c1">// Redirecimento de dados é algo comum em F#, similar a pipes Unix.</span>

<span class="c1">// Aqui é a mesma função sumOfSquares escrita com pipe</span>
<span class="k">let</span><span class="w"> </span><span class="nv">sumOfSquaresTo100piped</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">sum</span><span class="w">  </span><span class="c1">// &quot;square&quot; foi definido anteriormente</span>

<span class="c1">// você pode definir lambdas (funções anônimas) usando a palavra reservada &quot;fun&quot;</span>
<span class="k">let</span><span class="w"> </span><span class="nv">sumOfSquaresTo100withFun</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">100</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="o">(</span><span class="k">fun</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">x</span><span class="o">)</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">sum</span>

<span class="c1">// Em F# não há a palavra chave &quot;return&quot;. Funções sempre</span>
<span class="c1">// retornam o valor da última expressão usada.</span>

<span class="c1">// ------ Casamento de padrões (Pattern Matching) ------</span>
<span class="c1">// Match..with.. é um poderoso case/switch.</span>
<span class="k">let</span><span class="w"> </span><span class="nv">simplePatternMatch</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="k">let</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a&quot;</span>
<span class="w">   </span><span class="k">match</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">with</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;x is a&quot;</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;x is b&quot;</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="o">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;x is something else&quot;</span><span class="w">   </span><span class="c1">// sublinhado combina com qualquer coisa</span>

<span class="c1">// F# não permite null por padrão -- deve-se usar um Option</span>
<span class="c1">// e então efetuar um casamento de padrão.</span>
<span class="c1">// Some(..) e None são análogos a Nullable</span>
<span class="k">let</span><span class="w"> </span><span class="nv">validValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Some</span><span class="o">(</span><span class="mi">99</span><span class="o">)</span>
<span class="k">let</span><span class="w"> </span><span class="nv">invalidValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">None</span>

<span class="c1">// Neste exemplo, match..with casa com &quot;Some&quot; e &quot;None&quot;,</span>
<span class="c1">// e também desconstrói o valor em &quot;Some&quot; ao mesmo tempo.</span>
<span class="k">let</span><span class="w"> </span><span class="nv">optionPatternMatch</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="k">match</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="k">with</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">Some</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;input is an int=%d&quot;</span><span class="w"> </span><span class="n">i</span>
<span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">None</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;input is missing&quot;</span>

<span class="n">optionPatternMatch</span><span class="w"> </span><span class="n">validValue</span>
<span class="n">optionPatternMatch</span><span class="w"> </span><span class="n">invalidValue</span>

<span class="c1">// ------ Escrevando na tela ------</span>
<span class="c1">// As funções printf/printfn são similares às</span>
<span class="c1">// Console.Write/WriteLine encontradas no C#.</span>
<span class="n">printfn</span><span class="w"> </span><span class="s">&quot;Printing an int %i, a float %f, a bool %b&quot;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="mi">0</span><span class="w"> </span><span class="k">true</span>
<span class="n">printfn</span><span class="w"> </span><span class="s">&quot;A string %s, and something generic %A&quot;</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">;</span><span class="w"> </span><span class="mi">2</span><span class="o">;</span><span class="w"> </span><span class="mi">3</span><span class="o">;</span><span class="w"> </span><span class="mi">4</span><span class="o">]</span>

<span class="c1">// Exitem também as funções sprintf/sprintfn para formatação de dados</span>
<span class="c1">// em uma string, semelhante à String.Format do C#.</span>

<span class="c1">// ================================================</span>
<span class="c1">// Mais sobre funções</span>
<span class="c1">// ================================================</span>

<span class="c1">// F# é uma liguagem verdadeiramente funcional -- funções fazem</span>
<span class="c1">// parte das classes e podem ser combinadas facilmente para criar</span>
<span class="c1">// poderosos construtores</span>

<span class="c1">// Módulos podem usar um grupo de funções</span>
<span class="c1">// É necessário usar indentação para defini-las.</span>
<span class="k">module</span><span class="w"> </span><span class="nn">FunctionExamples</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// define uma função de soma</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">add</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span>

<span class="w">    </span><span class="c1">// básico uso de uma função</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;1 + 2 = %i&quot;</span><span class="w"> </span><span class="n">a</span>

<span class="w">    </span><span class="c1">// aplicação parcial de parâmetros</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">add42</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="mi">42</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add42</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;42 + 1 = %i&quot;</span><span class="w"> </span><span class="n">b</span>

<span class="w">    </span><span class="c1">// composição para combinar funções</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">add1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">add2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">add3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">add2</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add3</span><span class="w"> </span><span class="mi">7</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;3 + 7 = %i&quot;</span><span class="w"> </span><span class="n">c</span>

<span class="w">    </span><span class="c1">// funções de alta ordem</span>
<span class="w">    </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="n">add3</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;new list is %A&quot;</span>

<span class="w">    </span><span class="c1">// listas de funções e mais</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">add6</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n">add1</span><span class="o">;</span><span class="w"> </span><span class="n">add2</span><span class="o">;</span><span class="w"> </span><span class="n">add3</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">reduce</span><span class="w"> </span><span class="o">(&gt;&gt;)</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">add6</span><span class="w"> </span><span class="mi">7</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;1 + 2 + 3 + 7 = %i&quot;</span><span class="w"> </span><span class="n">d</span>

<span class="c1">// ================================================</span>
<span class="c1">// Listas e coleções</span>
<span class="c1">// ================================================</span>

<span class="c1">// Existem três tipos de coleções ordenadas:</span>
<span class="c1">// * Listas são o tipo mais básico de coleção imutável;</span>
<span class="c1">// * Arrays são mutáveis e mais eficientes;</span>
<span class="c1">// * Sequences são lazy e infinitas (semelhante a enumerator).</span>
<span class="c1">//</span>
<span class="c1">// Outras coleções incluem maps e conjuntos imutáveis</span>
<span class="c1">// mais todas as coleções padrões do .NET</span>

<span class="k">module</span><span class="w"> </span><span class="nn">ListExamples</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// listas usam colchetes</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">list1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s">&quot;a&quot;</span><span class="o">;</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="o">]</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">list2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">list1</span><span class="w">    </span><span class="c1">// :: é usado para adicionar um elemento no início da lista</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">list3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list1</span><span class="w"> </span><span class="o">@</span><span class="w"> </span><span class="n">list2</span><span class="w">   </span><span class="c1">// @ é o operador de concatenação</span>

<span class="w">    </span><span class="c1">// list comprehensions (generators)</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">squares</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="o">]</span>

<span class="w">    </span><span class="c1">// Um gerador de números primos</span>
<span class="w">    </span><span class="c1">// - este usa a notação custa para casamento de padrões</span>
<span class="w">    </span><span class="c1">// - (p::xs) significa &#39;primeiro :: cauda&#39; da lista, e pode ser escrito como p :: xs</span>
<span class="w">    </span><span class="c1">//   isto significa que casa &#39;p&#39; (o primeiro item da lista), e xs recebe o resto da lista</span>
<span class="w">    </span><span class="c1">//   que é chamdo de &#39;cons pattern&#39;</span>
<span class="w">    </span><span class="c1">// - usa a palavra chave &#39;rec&#39;, que é necessária quando se usa recursão</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">rec</span><span class="w"> </span><span class="n">sieve</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="o">(</span><span class="n">p</span><span class="o">::</span><span class="n">xs</span><span class="o">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">sieve</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">xs</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">]</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="bp">[]</span><span class="w">      </span><span class="o">-&gt;</span><span class="w"> </span><span class="bp">[]</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">primes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sieve</span><span class="w"> </span><span class="o">[</span><span class="mi">2</span><span class="o">..</span><span class="mi">50</span><span class="o">]</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;%A&quot;</span><span class="w"> </span><span class="n">primes</span>

<span class="w">    </span><span class="c1">// casamento de padrões (pattern matching) com listas</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">listMatcher</span><span class="w"> </span><span class="n">aList</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">match</span><span class="w"> </span><span class="n">aList</span><span class="w"> </span><span class="k">with</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="bp">[]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;the list is empty&quot;</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="o">[</span><span class="n">first</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;the list has one element %A &quot;</span><span class="w"> </span><span class="n">first</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="o">[</span><span class="n">first</span><span class="o">;</span><span class="w"> </span><span class="n">second</span><span class="o">]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;list is %A and %A&quot;</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">second</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;the list has more than two elements, first element %A&quot;</span><span class="w"> </span><span class="n">first</span>

<span class="w">    </span><span class="n">listMatcher</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">;</span><span class="w"> </span><span class="mi">2</span><span class="o">;</span><span class="w"> </span><span class="mi">3</span><span class="o">;</span><span class="w"> </span><span class="mi">4</span><span class="o">]</span>
<span class="w">    </span><span class="n">listMatcher</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">;</span><span class="w"> </span><span class="mi">2</span><span class="o">]</span>
<span class="w">    </span><span class="n">listMatcher</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
<span class="w">    </span><span class="n">listMatcher</span><span class="w"> </span><span class="bp">[]</span>

<span class="w">    </span><span class="c1">// recursão usando listas</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">rec</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="n">aList</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">match</span><span class="w"> </span><span class="n">aList</span><span class="w"> </span><span class="k">with</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="bp">[]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">x</span><span class="o">::</span><span class="n">xs</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="n">xs</span>
<span class="w">    </span><span class="n">sum</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">]</span>

<span class="w">    </span><span class="c1">// -----------------------------------------</span>
<span class="w">    </span><span class="c1">// Funções da biblioteca padrão</span>
<span class="w">    </span><span class="c1">// -----------------------------------------</span>

<span class="w">    </span><span class="c1">// mapas</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">add3</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span>
<span class="w">    </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="n">add3</span>

<span class="w">    </span><span class="c1">// filtros</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">even</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">filter</span><span class="w"> </span><span class="n">even</span>

<span class="w">    </span><span class="c1">// muito mais -- veja a documentação</span>

<span class="k">module</span><span class="w"> </span><span class="nn">ArrayExamples</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// arrays usam colchetes com barra vertical</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">array1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[|</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="o">;</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="o">|]</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">first</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array1</span><span class="o">.[</span><span class="mi">0</span><span class="o">]</span><span class="w">        </span><span class="c1">// acesso por índice usando ponto</span>

<span class="w">    </span><span class="c1">// casamento de padrões (pattern matching) para arrays é feito da mesma forma que de listas</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">arrayMatcher</span><span class="w"> </span><span class="n">aList</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">match</span><span class="w"> </span><span class="n">aList</span><span class="w"> </span><span class="k">with</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="o">[|</span><span class="w"> </span><span class="o">|]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;the array is empty&quot;</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="o">[|</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="o">|]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;the array has one element %A &quot;</span><span class="w"> </span><span class="n">first</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="o">[|</span><span class="w"> </span><span class="n">first</span><span class="o">;</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="o">|]</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;array is %A and %A&quot;</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">second</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="o">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;the array has more than two elements&quot;</span>

<span class="w">    </span><span class="n">arrayMatcher</span><span class="w"> </span><span class="o">[|</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span><span class="w"> </span><span class="mi">2</span><span class="o">;</span><span class="w"> </span><span class="mi">3</span><span class="o">;</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">|]</span>

<span class="w">    </span><span class="c1">// As funções da biblioteca padrão são as mesmas que para List</span>

<span class="w">    </span><span class="o">[|</span><span class="w"> </span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="w"> </span><span class="o">|]</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">Array</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="o">(</span><span class="k">fun</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">3</span><span class="o">)</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">Array</span><span class="p">.</span><span class="n">filter</span><span class="w"> </span><span class="o">(</span><span class="k">fun</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="o">)</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">Array</span><span class="p">.</span><span class="n">iter</span><span class="w"> </span><span class="o">(</span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;value is %i. &quot;</span><span class="o">)</span>


<span class="k">module</span><span class="w"> </span><span class="nn">SequenceExamples</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// sequências usam chaves</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">seq1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seq</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="o">;</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="w"> </span><span class="o">}</span>

<span class="w">    </span><span class="c1">// sequências podem usar yield e</span>
<span class="w">    </span><span class="c1">// podem conter subsequencias</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">strange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seq</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="c1">// &quot;yield&quot; adiciona um elemento</span>
<span class="w">        </span><span class="k">yield</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="mi">2</span><span class="o">;</span>

<span class="w">        </span><span class="c1">// &quot;yield!&quot; adiciona uma subsequencia</span>
<span class="w">        </span><span class="k">yield</span><span class="o">!</span><span class="w"> </span><span class="o">[</span><span class="mi">5</span><span class="o">..</span><span class="mi">10</span><span class="o">]</span>
<span class="w">        </span><span class="k">yield</span><span class="o">!</span><span class="w"> </span><span class="n">seq</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="w"> </span><span class="k">do</span>
<span class="w">              </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="k">yield</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">}}</span>
<span class="w">    </span><span class="c1">// teste</span>
<span class="w">    </span><span class="n">strange</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">Seq</span><span class="p">.</span><span class="n">toList</span>

<span class="w">    </span><span class="c1">// Sequências podem ser criadas usando &quot;unfold&quot;</span>
<span class="w">    </span><span class="c1">// Este é um exemplo da série de Fibonacci</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">fib</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">Seq</span><span class="p">.</span><span class="n">unfold</span><span class="w"> </span><span class="o">(</span><span class="k">fun</span><span class="w"> </span><span class="o">(</span><span class="n">fst</span><span class="o">,</span><span class="n">snd</span><span class="o">)</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">        </span><span class="n">Some</span><span class="o">(</span><span class="n">fst</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">snd</span><span class="o">,</span><span class="w"> </span><span class="o">(</span><span class="n">snd</span><span class="o">,</span><span class="w"> </span><span class="n">fst</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">snd</span><span class="o">)))</span><span class="w"> </span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">)</span>

<span class="w">    </span><span class="c1">// teste</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">fib10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fib</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">Seq</span><span class="p">.</span><span class="n">take</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">Seq</span><span class="p">.</span><span class="n">toList</span>
<span class="w">    </span><span class="n">printf</span><span class="w"> </span><span class="s">&quot;first 10 fibs are %A&quot;</span><span class="w"> </span><span class="n">fib10</span>


<span class="c1">// ================================================</span>
<span class="c1">// Tipos de dados</span>
<span class="c1">// ================================================</span>

<span class="k">module</span><span class="w"> </span><span class="nn">DataTypeExamples</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// Todos os dados são imutáveis por padrão</span>

<span class="w">    </span><span class="c1">// Tuplas são uma forma rápida de reprentar n elementos de tipos anônimos</span>
<span class="w">    </span><span class="c1">// -- Use a vírgula para criar uma tupla</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">twoTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">threeTuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="k">true</span>

<span class="w">    </span><span class="c1">// Casamento de padrões (pattern match) para desconstruir</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">x</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">twoTuple</span><span class="w">  </span><span class="c1">// atribui x = 1, y = 2</span>

<span class="w">    </span><span class="c1">// ------------------------------------</span>
<span class="w">    </span><span class="c1">// O tipo registro possui nomes nos campos</span>
<span class="w">    </span><span class="c1">// ------------------------------------</span>

<span class="w">    </span><span class="c1">// Use &quot;type&quot; com chaves para definir um registro</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="n">First</span><span class="o">:</span><span class="kt">string</span><span class="o">;</span><span class="w"> </span><span class="n">Last</span><span class="o">:</span><span class="kt">string</span><span class="o">}</span>

<span class="w">    </span><span class="c1">// Use &quot;let&quot; com chaves para criar um registro</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="n">First</span><span class="o">=</span><span class="s">&quot;John&quot;</span><span class="o">;</span><span class="w"> </span><span class="n">Last</span><span class="o">=</span><span class="s">&quot;Doe&quot;</span><span class="o">}</span>

<span class="w">    </span><span class="c1">// Casamento de padrões para desconstruir</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="o">{</span><span class="n">First</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">first</span><span class="o">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">person1</span><span class="w">    </span><span class="c1">// atribui first=&quot;John&quot;</span>

<span class="w">    </span><span class="c1">// ------------------------------------</span>
<span class="w">    </span><span class="c1">// Tipos union (variantes) possuem um conjunto de escolhas</span>
<span class="w">    </span><span class="c1">// Somente um caso pode ser válido por vez.</span>
<span class="w">    </span><span class="c1">// ------------------------------------</span>

<span class="w">    </span><span class="c1">// Use &quot;type&quot; com barra/pipe para definir um union</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Temp</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">DegreesC</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">float</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">DegreesF</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">float</span>

<span class="w">    </span><span class="c1">// Use qualquer dos tipos para criar um</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">temp1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DegreesF</span><span class="w"> </span><span class="mi">98</span><span class="o">.</span><span class="mi">6</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">temp2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DegreesC</span><span class="w"> </span><span class="mi">37</span><span class="o">.</span><span class="mi">0</span>

<span class="w">    </span><span class="c1">// Casamento de padrões deve cobrir todos os tipos de definidos para desconstruir</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">printTemp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">DegreesC</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;%f degC&quot;</span><span class="w"> </span><span class="n">t</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">DegreesF</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;%f degF&quot;</span><span class="w"> </span><span class="n">t</span>

<span class="w">    </span><span class="n">printTemp</span><span class="w"> </span><span class="n">temp1</span>
<span class="w">    </span><span class="n">printTemp</span><span class="w"> </span><span class="n">temp2</span>

<span class="w">    </span><span class="c1">// ------------------------------------</span>
<span class="w">    </span><span class="c1">// Tipos recursivos</span>
<span class="w">    </span><span class="c1">// ------------------------------------</span>

<span class="w">    </span><span class="c1">// Tipos podem ser combinados recursivamente de formas complexas</span>
<span class="w">    </span><span class="c1">// sem ter que criar subclasses</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Employee</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Worker</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Person</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Manager</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">Employee</span><span class="w"> </span><span class="kt">list</span>

<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">jdoe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="n">First</span><span class="o">=</span><span class="s">&quot;John&quot;</span><span class="o">;</span><span class="w"> </span><span class="n">Last</span><span class="o">=</span><span class="s">&quot;Doe&quot;</span><span class="o">}</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">worker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Worker</span><span class="w"> </span><span class="n">jdoe</span>

<span class="w">    </span><span class="c1">// ------------------------------------</span>
<span class="w">    </span><span class="c1">// Modelando com tipos</span>
<span class="w">    </span><span class="c1">// ------------------------------------</span>

<span class="w">    </span><span class="c1">// Tipos union são muito bons para modelagem de estados sem usar flags</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">EmailAddress</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">ValidEmailAddress</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">InvalidEmailAddress</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">string</span>

<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">trySendEmail</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">match</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="c1">// casamento de padrões</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">ValidEmailAddress</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="bp">()</span><span class="w">   </span><span class="c1">// envia</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">InvalidEmailAddress</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="bp">()</span><span class="w"> </span><span class="c1">// não envia</span>

<span class="w">    </span><span class="c1">// A combinação de tipos union e registros juntos</span>
<span class="w">    </span><span class="c1">// provê uma grande fundação para DDD (Domain Driven Design).</span>
<span class="w">    </span><span class="c1">// Você pode criar centenas de pequenos tipos que refletem</span>
<span class="w">    </span><span class="c1">// exatamente o seu domínio.</span>

<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">CartItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">ProductCode</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="o">;</span><span class="w"> </span><span class="n">Qty</span><span class="o">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Payment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Payment</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="kt">float</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">ActiveCartData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">UnpaidItems</span><span class="o">:</span><span class="w"> </span><span class="n">CartItem</span><span class="w"> </span><span class="kt">list</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">PaidCartData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">PaidItems</span><span class="o">:</span><span class="w"> </span><span class="n">CartItem</span><span class="w"> </span><span class="kt">list</span><span class="o">;</span><span class="w"> </span><span class="n">Payment</span><span class="o">:</span><span class="w"> </span><span class="n">Payment</span><span class="o">}</span>

<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">ShoppingCart</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">EmptyCart</span><span class="w">  </span><span class="c1">// nenhum dado</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">ActiveCart</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">ActiveCartData</span>
<span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">PaidCart</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">PaidCartData</span>

<span class="w">    </span><span class="c1">// ------------------------------------</span>
<span class="w">    </span><span class="c1">// Comportamento padrão para tipos</span>
<span class="w">    </span><span class="c1">// ------------------------------------</span>

<span class="w">    </span><span class="c1">// Tipos padrões possuem um padrão já definido, não precisando de codificação nenhuma.</span>
<span class="w">    </span><span class="c1">// * Imutáveis</span>
<span class="w">    </span><span class="c1">// * Impressão formatada para depuração</span>
<span class="w">    </span><span class="c1">// * Igualdade e comparação</span>
<span class="w">    </span><span class="c1">// * Serialização</span>

<span class="w">    </span><span class="c1">// Impressão formatada usando %A</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;twoTuple=%A,</span><span class="se">\n</span><span class="s">Person=%A,</span><span class="se">\n</span><span class="s">Temp=%A,</span><span class="se">\n</span><span class="s">Employee=%A&quot;</span>
<span class="w">             </span><span class="n">twoTuple</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="n">temp1</span><span class="w"> </span><span class="n">worker</span>

<span class="w">    </span><span class="c1">// Igualdade e comparação padrão.</span>
<span class="w">    </span><span class="c1">// Um exemplo com cartas:</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Suit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Club</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Diamond</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Spade</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Heart</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Rank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Two</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Three</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Four</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Five</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Six</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Seven</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Eight</span>
<span class="w">                </span><span class="o">|</span><span class="w"> </span><span class="n">Nine</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Ten</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Jack</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Queen</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">King</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Ace</span>

<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">hand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="n">Club</span><span class="o">,</span><span class="w"> </span><span class="n">Ace</span><span class="o">;</span><span class="w"> </span><span class="n">Heart</span><span class="o">,</span><span class="w"> </span><span class="n">Three</span><span class="o">;</span><span class="w"> </span><span class="n">Heart</span><span class="o">,</span><span class="w"> </span><span class="n">Ace</span><span class="o">;</span>
<span class="w">                 </span><span class="n">Spade</span><span class="o">,</span><span class="w"> </span><span class="n">Jack</span><span class="o">;</span><span class="w"> </span><span class="n">Diamond</span><span class="o">,</span><span class="w"> </span><span class="n">Two</span><span class="o">;</span><span class="w"> </span><span class="n">Diamond</span><span class="o">,</span><span class="w"> </span><span class="n">Ace</span><span class="w"> </span><span class="o">]</span>

<span class="w">    </span><span class="c1">// ordenando</span>
<span class="w">    </span><span class="nn">List</span><span class="p">.</span><span class="n">sort</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;sorted hand is (low to high) %A&quot;</span>
<span class="w">    </span><span class="nn">List</span><span class="p">.</span><span class="n">max</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;high card is %A&quot;</span>
<span class="w">    </span><span class="nn">List</span><span class="p">.</span><span class="n">min</span><span class="w"> </span><span class="n">hand</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;low card is %A&quot;</span>


<span class="c1">// ================================================</span>
<span class="c1">// Padrões ativos (Active patterns)</span>
<span class="c1">// ================================================</span>

<span class="k">module</span><span class="w"> </span><span class="nn">ActivePatternExamples</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// F# possui um tipo especial de casamento de padrões chamado &quot;padrões ativos&quot; (&quot;active patterns&quot;)</span>
<span class="w">    </span><span class="c1">// onde o padrão pode ser interpretado ou detectado dinamicamente.</span>

<span class="w">    </span><span class="c1">// parêntesis e barra são a sintaxe para &quot;padrões ativos&quot;</span>

<span class="w">    </span><span class="c1">// Você pode usar &quot;elif&quot; ao invés de &quot;else if&quot; em expressões condicionais.</span>
<span class="w">    </span><span class="c1">// Elas são equivalentes em F#</span>

<span class="w">    </span><span class="c1">// por exemplo, defina um &quot;padrão ativo&quot; para tratar tipos de caracteres...</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="o">(|</span><span class="n">Digit</span><span class="o">|</span><span class="n">Letter</span><span class="o">|</span><span class="n">Whitespace</span><span class="o">|</span><span class="n">Other</span><span class="o">|)</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span>
<span class="w">       </span><span class="k">if</span><span class="w"> </span><span class="nn">System</span><span class="p">.</span><span class="nn">Char</span><span class="p">.</span><span class="n">IsDigit</span><span class="o">(</span><span class="n">ch</span><span class="o">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">Digit</span>
<span class="w">       </span><span class="k">elif</span><span class="w"> </span><span class="nn">System</span><span class="p">.</span><span class="nn">Char</span><span class="p">.</span><span class="n">IsLetter</span><span class="o">(</span><span class="n">ch</span><span class="o">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">Letter</span>
<span class="w">       </span><span class="k">elif</span><span class="w"> </span><span class="nn">System</span><span class="p">.</span><span class="nn">Char</span><span class="p">.</span><span class="n">IsWhiteSpace</span><span class="o">(</span><span class="n">ch</span><span class="o">)</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">Whitespace</span>
<span class="w">       </span><span class="k">else</span><span class="w"> </span><span class="n">Other</span>

<span class="w">    </span><span class="c1">// ... e então use ele para interpretar de forma bem mais simples</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">printChar</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="k">match</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="k">with</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Digit</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;%c is a Digit&quot;</span><span class="w"> </span><span class="n">ch</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Letter</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;%c is a Letter&quot;</span><span class="w"> </span><span class="n">ch</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">Whitespace</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;%c is a Whitespace&quot;</span><span class="w"> </span><span class="n">ch</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="o">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;%c is something else&quot;</span><span class="w"> </span><span class="n">ch</span>

<span class="w">    </span><span class="c1">// imprima a lista</span>
<span class="w">    </span><span class="o">[</span><span class="sc">&#39;a&#39;</span><span class="o">;</span><span class="w"> </span><span class="sc">&#39;b&#39;</span><span class="o">;</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="o">;</span><span class="w"> </span><span class="sc">&#39; &#39;</span><span class="o">;</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="o">;</span><span class="w"> </span><span class="sc">&#39;c&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">iter</span><span class="w"> </span><span class="n">printChar</span>

<span class="w">    </span><span class="c1">// ------------------------------------------------</span>
<span class="w">    </span><span class="c1">// FizzBuzz usando padrões ativos (active patterns)</span>
<span class="w">    </span><span class="c1">// ------------------------------------------------</span>

<span class="w">    </span><span class="c1">// É possível criar casamento de padrões parcial também</span>
<span class="w">    </span><span class="c1">// Apenas use sublinhado para a definição, e retorne Some se casado.</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="o">(|</span><span class="n">MultOf3</span><span class="o">|_|)</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">Some</span><span class="w"> </span><span class="n">MultOf3</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">None</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="o">(|</span><span class="n">MultOf5</span><span class="o">|_|)</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">Some</span><span class="w"> </span><span class="n">MultOf5</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">None</span>

<span class="w">    </span><span class="c1">// a função principal</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">fizzBuzz</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span>
<span class="w">      </span><span class="k">match</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">with</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">MultOf3</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">MultOf5</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printf</span><span class="w"> </span><span class="s">&quot;FizzBuzz, &quot;</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">MultOf3</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printf</span><span class="w"> </span><span class="s">&quot;Fizz, &quot;</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">MultOf5</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printf</span><span class="w"> </span><span class="s">&quot;Buzz, &quot;</span>
<span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="o">_</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">printf</span><span class="w"> </span><span class="s">&quot;%i, &quot;</span><span class="w"> </span><span class="n">i</span>

<span class="w">    </span><span class="c1">// teste</span>
<span class="w">    </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">20</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">iter</span><span class="w"> </span><span class="n">fizzBuzz</span>

<span class="c1">// ================================================</span>
<span class="c1">// Expressividade</span>
<span class="c1">// ================================================</span>

<span class="k">module</span><span class="w"> </span><span class="nn">AlgorithmExamples</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// F# possui uma alta razão sinais/ruídos, assim o código</span>
<span class="w">    </span><span class="c1">// é lido praticamento como se descreve o algoritmo</span>

<span class="w">    </span><span class="c1">// ------ Exemplo: defina uma função que faça soma dos quadrados ------</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">sumOfSquares</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span>
<span class="w">       </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="n">n</span><span class="o">]</span><span class="w">              </span><span class="c1">// 1) pega todos os números de 1 a n</span>
<span class="w">       </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="n">square</span><span class="w">  </span><span class="c1">// 2) eleva ao quadrado cada um</span>
<span class="w">       </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">sum</span><span class="w">         </span><span class="c1">// 3) soma os resultados</span>

<span class="w">    </span><span class="c1">// teste</span>
<span class="w">    </span><span class="n">sumOfSquares</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;Sum of squares = %A&quot;</span>

<span class="w">    </span><span class="c1">// ------ Examplo: defina uma função de ordenação ------</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">rec</span><span class="w"> </span><span class="n">sort</span><span class="w"> </span><span class="kt">list</span><span class="w"> </span><span class="o">=</span>
<span class="w">       </span><span class="k">match</span><span class="w"> </span><span class="kt">list</span><span class="w"> </span><span class="k">with</span>
<span class="w">       </span><span class="c1">// Se a lista está vazia</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="bp">[]</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">            </span><span class="bp">[]</span><span class="w">                            </span><span class="c1">// retorna a lista vazia</span>
<span class="w">       </span><span class="c1">// Se a lista não está vazia</span>
<span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">firstElem</span><span class="o">::</span><span class="n">otherElements</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">      </span><span class="c1">// pega o primeiro elemento</span>
<span class="w">            </span><span class="k">let</span><span class="w"> </span><span class="nv">smallerElements</span><span class="w"> </span><span class="o">=</span><span class="w">         </span><span class="c1">// extrai os elementos menores</span>
<span class="w">                </span><span class="n">otherElements</span><span class="w">             </span><span class="c1">// dos restantes</span>
<span class="w">                </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">filter</span><span class="w"> </span><span class="o">(</span><span class="k">fun</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">firstElem</span><span class="o">)</span>
<span class="w">                </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">sort</span><span class="w">                   </span><span class="c1">// e ordena eles</span>
<span class="w">            </span><span class="k">let</span><span class="w"> </span><span class="nv">largerElements</span><span class="w"> </span><span class="o">=</span><span class="w">          </span><span class="c1">// extrai os elementos maiores</span>
<span class="w">                </span><span class="n">otherElements</span><span class="w">             </span><span class="c1">// dos restantes</span>
<span class="w">                </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">filter</span><span class="w"> </span><span class="o">(</span><span class="k">fun</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">firstElem</span><span class="o">)</span>
<span class="w">                </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">sort</span><span class="w">                   </span><span class="c1">// e ordena eles</span>
<span class="w">            </span><span class="c1">// Combine as 3 partes em uma nova lista e retorne ela</span>
<span class="w">            </span><span class="nn">List</span><span class="p">.</span><span class="n">concat</span><span class="w"> </span><span class="o">[</span><span class="n">smallerElements</span><span class="o">;</span><span class="w"> </span><span class="o">[</span><span class="n">firstElem</span><span class="o">];</span><span class="w"> </span><span class="n">largerElements</span><span class="o">]</span>

<span class="w">    </span><span class="c1">// teste</span>
<span class="w">    </span><span class="n">sort</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">;</span><span class="w"> </span><span class="mi">5</span><span class="o">;</span><span class="w"> </span><span class="mi">23</span><span class="o">;</span><span class="w"> </span><span class="mi">18</span><span class="o">;</span><span class="w"> </span><span class="mi">9</span><span class="o">;</span><span class="w"> </span><span class="mi">1</span><span class="o">;</span><span class="w"> </span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;Sorted = %A&quot;</span>

<span class="c1">// ================================================</span>
<span class="c1">// Código assíncrono</span>
<span class="c1">// ================================================</span>

<span class="k">module</span><span class="w"> </span><span class="nn">AsyncExample</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// F# possui suporte a funcionalidades para ajudar a escrever código assíncrono</span>
<span class="w">    </span><span class="c1">// sem tornar o código difícil de manter (&quot;pyramid of doom&quot;)</span>
<span class="w">    </span><span class="c1">//</span>
<span class="w">    </span><span class="c1">// O seguinte exemplo efetua download de um conjunto de páginas em paralelo.</span>

<span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="nn">System.Net</span>
<span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="nn">System</span>
<span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="nn">System.IO</span>
<span class="w">    </span><span class="k">open</span><span class="w"> </span><span class="nn">Microsoft.FSharp.Control.CommonExtensions</span>

<span class="w">    </span><span class="c1">// Obtém o conteúdo de cara página de forma assíncrona</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">fetchUrlAsync</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">async</span><span class="w"> </span><span class="o">{</span><span class="w">   </span><span class="c1">// a palavra chave &quot;async&quot; e chaves</span>
<span class="w">                  </span><span class="c1">// criam um objeto assíncrono</span>
<span class="w">            </span><span class="k">let</span><span class="w"> </span><span class="nv">req</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">WebRequest</span><span class="p">.</span><span class="n">Create</span><span class="o">(</span><span class="n">Uri</span><span class="o">(</span><span class="n">url</span><span class="o">))</span>
<span class="w">            </span><span class="k">use</span><span class="o">!</span><span class="w"> </span><span class="n">resp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">req</span><span class="o">.</span><span class="n">AsyncGetResponse</span><span class="bp">()</span>
<span class="w">                </span><span class="c1">// use! é uma atribuição assíncrona</span>
<span class="w">            </span><span class="k">use</span><span class="w"> </span><span class="n">stream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">resp</span><span class="o">.</span><span class="n">GetResponseStream</span><span class="bp">()</span>
<span class="w">                </span><span class="c1">// &quot;use&quot; dispara automaticamente close()</span>
<span class="w">                </span><span class="c1">// no recurso no fim do escopo</span>
<span class="w">            </span><span class="k">use</span><span class="w"> </span><span class="n">reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nn">IO</span><span class="p">.</span><span class="n">StreamReader</span><span class="o">(</span><span class="n">stream</span><span class="o">)</span>
<span class="w">            </span><span class="k">let</span><span class="w"> </span><span class="nv">html</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reader</span><span class="o">.</span><span class="n">ReadToEnd</span><span class="bp">()</span>
<span class="w">            </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;finished downloading %s&quot;</span><span class="w"> </span><span class="n">url</span>
<span class="w">            </span><span class="o">}</span>

<span class="w">    </span><span class="c1">// uma lista de sites para fazer download</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">sites</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s">&quot;http://www.bing.com&quot;</span><span class="o">;</span>
<span class="w">                 </span><span class="s">&quot;http://www.google.com&quot;</span><span class="o">;</span>
<span class="w">                 </span><span class="s">&quot;http://www.microsoft.com&quot;</span><span class="o">;</span>
<span class="w">                 </span><span class="s">&quot;http://www.amazon.com&quot;</span><span class="o">;</span>
<span class="w">                 </span><span class="s">&quot;http://www.yahoo.com&quot;</span><span class="o">]</span>

<span class="w">    </span><span class="c1">// efetue</span>
<span class="w">    </span><span class="n">sites</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">List</span><span class="p">.</span><span class="n">map</span><span class="w"> </span><span class="n">fetchUrlAsync</span><span class="w">  </span><span class="c1">// cria uma lista de tarefas assíncronas</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">Async</span><span class="p">.</span><span class="n">Parallel</span><span class="w">          </span><span class="c1">// coloca as tarefas para executarem em paralelo</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="nn">Async</span><span class="p">.</span><span class="n">RunSynchronously</span><span class="w">  </span><span class="c1">// inicia cada uma</span>

<span class="c1">// ================================================</span>
<span class="c1">// Compatibilidade com .NET</span>
<span class="c1">// ================================================</span>

<span class="k">module</span><span class="w"> </span><span class="nn">NetCompatibilityExamples</span><span class="w"> </span><span class="o">=</span>

<span class="w">    </span><span class="c1">// F# pode pode fazer praticamente tudo que C# pode fazer, e integra</span>
<span class="w">    </span><span class="c1">// de forma simples com bibliotecas .NET e Mono</span>

<span class="w">    </span><span class="c1">// ------- usando uma função de uma biblioteca existente -------</span>

<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="o">(</span><span class="n">i1success</span><span class="o">,</span><span class="w"> </span><span class="n">i1</span><span class="o">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">System</span><span class="p">.</span><span class="nn">Int32</span><span class="p">.</span><span class="n">TryParse</span><span class="o">(</span><span class="s">&quot;123&quot;</span><span class="o">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">i1success</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;parsed as %i&quot;</span><span class="w"> </span><span class="n">i1</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;parse failed&quot;</span>

<span class="w">    </span><span class="c1">// ------- Implementando interfaces de forma simples! -------</span>

<span class="w">    </span><span class="c1">// cria um novo objeto que implementa IDisposable</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">makeResource</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span>
<span class="w">       </span><span class="o">{</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="nn">System</span><span class="p">.</span><span class="n">IDisposable</span>
<span class="w">         </span><span class="k">with</span><span class="w"> </span><span class="k">member</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="nf">Dispose</span><span class="bp">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;%s disposed&quot;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">}</span>

<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">useAndDisposeResources</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">use</span><span class="w"> </span><span class="n">r1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">makeResource</span><span class="w"> </span><span class="s">&quot;first resource&quot;</span>
<span class="w">        </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;using first resource&quot;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="o">]</span><span class="w"> </span><span class="k">do</span>
<span class="w">            </span><span class="k">let</span><span class="w"> </span><span class="nv">resourceName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sprintf</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">inner resource %d&quot;</span><span class="w"> </span><span class="n">i</span>
<span class="w">            </span><span class="k">use</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">makeResource</span><span class="w"> </span><span class="n">resourceName</span>
<span class="w">            </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">do something with %s&quot;</span><span class="w"> </span><span class="n">resourceName</span>
<span class="w">        </span><span class="k">use</span><span class="w"> </span><span class="n">r2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">makeResource</span><span class="w"> </span><span class="s">&quot;second resource&quot;</span>
<span class="w">        </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;using second resource&quot;</span>
<span class="w">        </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;done.&quot;</span>

<span class="w">    </span><span class="c1">// ------- Código orientado a objetos -------</span>

<span class="w">    </span><span class="c1">// F# também possui suporte a orientação a objetos.</span>
<span class="w">    </span><span class="c1">// Possui suporte a classes, herança, métodos virtuais, etc.</span>

<span class="w">    </span><span class="c1">// interface com tipo genérico</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">IEnumerator</span><span class="o">&lt;</span><span class="k">&#39;</span><span class="n">a</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">abstract</span><span class="w"> </span><span class="k">member</span><span class="w"> </span><span class="n">Current</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">&#39;</span><span class="n">a</span>
<span class="w">        </span><span class="k">abstract</span><span class="w"> </span><span class="n">MoveNext</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">unit</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">bool</span>

<span class="w">    </span><span class="c1">// classe base abstrata com métodos virtuais</span>
<span class="w">    </span><span class="o">[&lt;</span><span class="n">AbstractClass</span><span class="o">&gt;]</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Shape</span><span class="bp">()</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="c1">// propriedades somente leitura</span>
<span class="w">        </span><span class="k">abstract</span><span class="w"> </span><span class="k">member</span><span class="w"> </span><span class="n">Width</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">get</span>
<span class="w">        </span><span class="k">abstract</span><span class="w"> </span><span class="k">member</span><span class="w"> </span><span class="n">Height</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">get</span>
<span class="w">        </span><span class="c1">// método não virtual</span>
<span class="w">        </span><span class="k">member</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="nf">BoundingArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">Height</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">Width</span>
<span class="w">        </span><span class="c1">// método virtual com implementação base</span>
<span class="w">        </span><span class="k">abstract</span><span class="w"> </span><span class="k">member</span><span class="w"> </span><span class="n">Print</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">unit</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">unit</span>
<span class="w">        </span><span class="k">default</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">Print</span><span class="w"> </span><span class="bp">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;I&#39;m a shape&quot;</span>

<span class="w">    </span><span class="c1">// classe concreta que herda da classe base e sobrescreve</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Rectangle</span><span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="n">int</span><span class="o">,</span><span class="w"> </span><span class="n">y</span><span class="o">:</span><span class="n">int</span><span class="o">)</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">inherit</span><span class="w"> </span><span class="n">Shape</span><span class="bp">()</span>
<span class="w">        </span><span class="k">override</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="nf">Width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span>
<span class="w">        </span><span class="k">override</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="nf">Height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">y</span>
<span class="w">        </span><span class="k">override</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="nf">Print</span><span class="w"> </span><span class="bp">()</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;I&#39;m a Rectangle&quot;</span>

<span class="w">    </span><span class="c1">// testes</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Rectangle</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">)</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;The width is %i&quot;</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">Width</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;The area is %i&quot;</span><span class="w"> </span><span class="n">r</span><span class="o">.</span><span class="n">BoundingArea</span>
<span class="w">    </span><span class="n">r</span><span class="o">.</span><span class="n">Print</span><span class="bp">()</span>

<span class="w">    </span><span class="c1">// ------- métodos de extensão -------</span>

<span class="w">    </span><span class="c1">// Assim como em C#, F# pode extender classes já existentes com métodos de extensão.</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">System</span><span class="o">.</span><span class="n">String</span><span class="w"> </span><span class="k">with</span>
<span class="w">       </span><span class="k">member</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="nf">StartsWithA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">this</span><span class="o">.</span><span class="n">StartsWith</span><span class="w"> </span><span class="s">&quot;A&quot;</span>

<span class="w">    </span><span class="c1">// testes</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Alice&quot;</span>
<span class="w">    </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;&#39;%s&#39; starts with an &#39;A&#39; = %A&quot;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="n">s</span><span class="o">.</span><span class="n">StartsWithA</span>

<span class="w">    </span><span class="c1">// ------- eventos  -------</span>

<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">MyButton</span><span class="bp">()</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="k">let</span><span class="w"> </span><span class="nv">clickEvent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Event</span><span class="o">&lt;_&gt;</span><span class="bp">()</span>

<span class="w">        </span><span class="o">[&lt;</span><span class="n">CLIEvent</span><span class="o">&gt;]</span>
<span class="w">        </span><span class="k">member</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="nf">OnClick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clickEvent</span><span class="o">.</span><span class="n">Publish</span>

<span class="w">        </span><span class="k">member</span><span class="w"> </span><span class="n">this</span><span class="p">.</span><span class="nf">TestEvent</span><span class="o">(</span><span class="n">arg</span><span class="o">)</span><span class="w"> </span><span class="o">=</span>
<span class="w">            </span><span class="n">clickEvent</span><span class="o">.</span><span class="n">Trigger</span><span class="o">(</span><span class="n">this</span><span class="o">,</span><span class="w"> </span><span class="n">arg</span><span class="o">)</span>

<span class="w">    </span><span class="c1">// teste</span>
<span class="w">    </span><span class="k">let</span><span class="w"> </span><span class="nv">myButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyButton</span><span class="bp">()</span>
<span class="w">    </span><span class="n">myButton</span><span class="o">.</span><span class="n">OnClick</span><span class="o">.</span><span class="n">Add</span><span class="o">(</span><span class="k">fun</span><span class="w"> </span><span class="o">(</span><span class="n">sender</span><span class="o">,</span><span class="w"> </span><span class="n">arg</span><span class="o">)</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">            </span><span class="n">printfn</span><span class="w"> </span><span class="s">&quot;Click event with arg=%O&quot;</span><span class="w"> </span><span class="n">arg</span><span class="o">)</span>

<span class="w">    </span><span class="n">myButton</span><span class="o">.</span><span class="n">TestEvent</span><span class="o">(</span><span class="s">&quot;Hello World!&quot;</span><span class="o">)</span>
</pre></div>
<h2>Mais Informações</h2>
<p>Para mais demonstrações de F# acesse <a href="http://fsharpforfunandprofit.com/why-use-fsharp/">why use F#</a>.</p>
<p>Leia mais sobre F# em <a href="http://fsharp.org/">fsharp.org</a> e <a href="https://dotnet.microsoft.com/languages/fsharp">dotnet's F# page</a>.</p>

        <hr>
        <p>
          Sugestões ou correções? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Abra uma issue</a> no repositório do GitHub, ou faça um <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/pt-br/fsharp.md">pull request</a> você mesmo!
        </p>
        <p class="contributed">
          Originalmente contribuído por Scott Wlaschin e atualizado por <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/pt-br/fsharp.md">1 colaborador</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 88px; height: 31px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://fsharpforfunandprofit.com">Scott Wlaschin</a>,
            <a href="https://adelarsq.github.io">Adelar da Silva Queiróz</a>
          </p>
        </footer>
      </div>
    </div>
  </body>
</html>