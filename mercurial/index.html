<!DOCTYPE html>
<html lang="en">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="en">
    <title>Learn Mercurial in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/mercurial/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <h1><a href="/">Learn X in Y minutes</a></h1>
      <h2>Where X=Mercurial</h2>

      <p class="filelink">
        Get the code:
        <a href="/files/LearnMercurial.txt">LearnMercurial.txt</a>
      </p>
      <div id="doc">
<p>Mercurial is a free, distributed source control management tool. It offers
you the power to efficiently handle projects of any size while using an
intuitive interface. It is easy to use and hard to break, making it ideal for
anyone working with versioned files.</p>
<h2>Versioning Concepts</h2>
<h3>What is version control?</h3>
<p>Version control is a system that keeps track fo changes to a set of file(s)
and/or directorie(s) over time.</p>
<h3>Why use Mercurial?</h3>
<ul>
<li>Distributed Architecture - Traditionally version control systems such as CVS
and Subversion are a client server architecture with a central server to
store the revision history of a project. Mercurial however is a truly
distributed architecture, giving each developer a full local copy of the
entire development history. It works independently of a central server.</li>
<li>Fast - Traditionally version control systems such as CVS and Subversion are a
client server architecture with a central server to store the revision history
of a project. Mercurial however is a truly distributed architecture, giving
each developer a full local copy of the entire development history. It works
independently of a central server.</li>
<li>Platform Independent - Mercurial was written to be highly platform
independent. Much of Mercurial is written in Python, with small performance
critical parts written in portable C. Binary releases are available for all
major platforms.</li>
<li>Extensible - The functionality of Mercurial can be increased with extensions,
either by activating the official ones which are shipped with Mercurial or
downloading some <a href="https://www.mercurial-scm.org/wiki/UsingExtensions">from the wiki</a> or by <a href="https://www.mercurial-scm.org/wiki/WritingExtensions">writing your own</a>. Extensions are written in
Python and can change the workings of the basic commands, add new commands and
access all the core functions of Mercurial.</li>
<li>Easy to use - The Mercurial command set is consistent with what subversion
users would expect, so they are likely to feel right at home. Most dangerous
actions are part of extensions that need to be enabled to be used.</li>
<li>Open Source - Mercurial is free software licensed under the terms of the <a href="http://www.gnu.org/licenses/gpl-2.0.txt">GNU
General Public License Version 2</a> or
any later version.</li>
</ul>
<h2>Terminology</h2>
<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Repository</td>
<td>A repository is a collection of revisions</td>
</tr>
<tr>
<td>hgrc</td>
<td>A configuration file which stores the defaults for a repository.</td>
</tr>
<tr>
<td>revision</td>
<td>A committed changeset: has a REV number</td>
</tr>
<tr>
<td>changeset</td>
<td>Set of changes saved as diffs</td>
</tr>
<tr>
<td>diff</td>
<td>Changes between file(s)</td>
</tr>
<tr>
<td>tag</td>
<td>A named named revision</td>
</tr>
<tr>
<td>parent(s)</td>
<td>Immediate ancestor(s) of a revision</td>
</tr>
<tr>
<td>branch</td>
<td>A child of a revision</td>
</tr>
<tr>
<td>head</td>
<td>A head is a changeset with no child changesets</td>
</tr>
<tr>
<td>merge</td>
<td>The process of merging two HEADS</td>
</tr>
<tr>
<td>tip</td>
<td>The latest revision in any branch</td>
</tr>
<tr>
<td>patch</td>
<td>All of the diffs between two revisions</td>
</tr>
<tr>
<td>bundle</td>
<td>Patch with permisÂ­sions and rename support</td>
</tr>
</tbody>
</table>
<h2>Commands</h2>
<h3>init</h3>
<p>Create a new repository in the given directory, the settings and stored
information are in a directory named <code>.hg</code>.</p>
<div class="highlight"><pre lang="bash">$<span class="w"> </span>hg<span class="w"> </span>init
</pre></div>
<h3>help</h3>
<p>Will give you access to a very detailed description of each command.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Quickly check what commands are available</span>
$<span class="w"> </span>hg<span class="w"> </span><span class="nb">help</span>

<span class="c1"># Get help on a specific command</span>
<span class="c1"># hg help &lt;command&gt;</span>
$<span class="w"> </span>hg<span class="w"> </span><span class="nb">help</span><span class="w"> </span>add
$<span class="w"> </span>hg<span class="w"> </span><span class="nb">help</span><span class="w"> </span>commit
$<span class="w"> </span>hg<span class="w"> </span><span class="nb">help</span><span class="w"> </span>init
</pre></div>
<h3>status</h3>
<p>Show the differences between what is on disk and what is committed to the current
branch or tag.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Will display the status of files</span>
$<span class="w"> </span>hg<span class="w"> </span>status

<span class="c1"># Get help on the status subcommand</span>
$<span class="w"> </span>hg<span class="w"> </span><span class="nb">help</span><span class="w"> </span>status
</pre></div>
<h3>add</h3>
<p>Will add the specified files to the repository on the next commit.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Add a file in the current directory</span>
$<span class="w"> </span>hg<span class="w"> </span>add<span class="w"> </span>filename.rb

<span class="c1"># Add a file in a sub directory</span>
$<span class="w"> </span>hg<span class="w"> </span>add<span class="w"> </span>foo/bar/filename.rb

<span class="c1"># Add files by pattern</span>
$<span class="w"> </span>hg<span class="w"> </span>add<span class="w"> </span>*.rb
</pre></div>
<h3>branch</h3>
<p>Set or show the current branch name.</p>
<p><em>Branch names are permanent and global. Use 'hg bookmark' to create a
light-weight bookmark instead. See 'hg help glossary' for more information
about named branches and bookmarks.</em></p>
<div class="highlight"><pre lang="bash"><span class="c1"># With no argument it shows the current branch name</span>
$<span class="w"> </span>hg<span class="w"> </span>branch

<span class="c1"># With a name argument it will change the current branch.</span>
$<span class="w"> </span>hg<span class="w"> </span>branch<span class="w"> </span>new_branch
marked<span class="w"> </span>working<span class="w"> </span>directory<span class="w"> </span>as<span class="w"> </span>branch<span class="w"> </span>new_branch
<span class="o">(</span>branches<span class="w"> </span>are<span class="w"> </span>permanent<span class="w"> </span>and<span class="w"> </span>global,<span class="w"> </span>did<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>a<span class="w"> </span>bookmark?<span class="o">)</span>
</pre></div>
<h3>tag</h3>
<p>Add one or more tags for the current or given revision.</p>
<p>Tags are used to name particular revisions of the repository and are very
useful to compare different revisions, to go back to significant earlier
versions or to mark branch points as releases, etc. Changing an existing tag
is normally disallowed; use -f/--force to override.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># List tags</span>
$<span class="w"> </span>hg<span class="w"> </span>tags
tip<span class="w">                                </span><span class="m">2</span>:efc8222cd1fb
v1.0<span class="w">                               </span><span class="m">0</span>:37e9b57123b3

<span class="c1"># Create a new tag on the current revision</span>
$<span class="w"> </span>hg<span class="w"> </span>tag<span class="w"> </span>v1.1

<span class="c1"># Create a tag on a specific revision</span>
$<span class="w"> </span>hg<span class="w"> </span>tag<span class="w"> </span>-r<span class="w"> </span>efc8222cd1fb<span class="w"> </span>v1.1.1
</pre></div>
<h3>clone</h3>
<p>Create a copy of an existing repository in a new directory.</p>
<p>If no destination directory name is specified, it defaults to the basename of
the source.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Clone a remote repo to a local directory</span>
$<span class="w"> </span>hg<span class="w"> </span>clone<span class="w"> </span>https://some-mercurial-server.example.com/reponame

<span class="c1"># Clone a local repo to a remote server</span>
$<span class="w"> </span>hg<span class="w"> </span>clone<span class="w"> </span>.<span class="w"> </span>ssh://username@some-mercurial-server.example.com/newrepo

<span class="c1"># Clone a local repo to a local repo</span>
$<span class="w"> </span>hg<span class="w"> </span>clone<span class="w"> </span>.<span class="w"> </span>/tmp/some_backup_dir
</pre></div>
<h3>commit / ci</h3>
<p>Commit changes to the given files into the repository.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Commit with a message</span>
$<span class="w"> </span>hg<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;This is a commit message&#39;</span>

<span class="c1"># Commit all added / removed files in the current tree</span>
$<span class="w"> </span>hg<span class="w"> </span>commit<span class="w"> </span>-A<span class="w"> </span><span class="s1">&#39;Adding and removing all existing files in the tree&#39;</span>

<span class="c1"># amend the parent of the working directory with a new commit that contains the</span>
<span class="c1"># changes in the parent in addition to those currently reported by &#39;hg status&#39;,</span>
$<span class="w"> </span>hg<span class="w"> </span>commit<span class="w"> </span>--amend<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Correct message&quot;</span>
</pre></div>
<h3>diff</h3>
<p>Show differences between revisions for the specified files using the unified
diff format.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Show the diff between the current directory and a previous revision</span>
$<span class="w"> </span>hg<span class="w"> </span>diff<span class="w"> </span>-r<span class="w"> </span><span class="m">10</span>

<span class="c1"># Show the diff between two previous revisions</span>
$<span class="w"> </span>hg<span class="w"> </span>diff<span class="w"> </span>-r<span class="w"> </span><span class="m">30</span><span class="w"> </span>-r<span class="w"> </span><span class="m">20</span>
</pre></div>
<h3>grep</h3>
<p>Search revision history for a pattern in specified files.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Search files for a specific phrase</span>
$<span class="w"> </span>hg<span class="w"> </span>grep<span class="w"> </span><span class="s2">&quot;TODO:&quot;</span>
</pre></div>
<h3>log / history</h3>
<p>Show revision history of entire repository or files. If no revision range is
specified, the default is &quot;tip:0&quot; unless --follow is set, in which case the
working directory parent is used as the starting revision.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Show the history of the entire repository</span>
$<span class="w"> </span>hg<span class="w"> </span>log

<span class="c1"># Show the history of a single file</span>
$<span class="w"> </span>hg<span class="w"> </span>log<span class="w"> </span>myfile.rb

<span class="c1"># Show the revision changes as an ASCII art DAG with the most recent changeset</span>
<span class="c1"># at the top.</span>
$<span class="w"> </span>hg<span class="w"> </span>log<span class="w"> </span>-G
</pre></div>
<h3>merge</h3>
<p>Merge another revision into working directory.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Merge changesets to local repository</span>
$<span class="w"> </span>hg<span class="w"> </span>merge

<span class="c1"># Merge from a named branch or revision into the current local branch</span>
$<span class="w"> </span>hg<span class="w"> </span>merge<span class="w"> </span>branchname_or_revision

<span class="c1"># After successful merge, commit the changes</span>
hg<span class="w"> </span>commit
</pre></div>
<h3>move / mv / rename</h3>
<p>Rename files; equivalent of copy + remove. Mark dest as copies of sources;
mark sources for deletion. If dest is a directory, copies are put in that
directory. If dest is a file, there can only be one source.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Rename a single file</span>
$<span class="w"> </span>hg<span class="w"> </span>mv<span class="w"> </span>foo.txt<span class="w"> </span>bar.txt

<span class="c1"># Rename a directory</span>
$<span class="w"> </span>hg<span class="w"> </span>mv<span class="w"> </span>some_directory<span class="w"> </span>new_directory
</pre></div>
<h3>pull</h3>
<p>Pull changes from a remote repository to a local one.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># List remote paths</span>
$<span class="w"> </span>hg<span class="w"> </span>paths
<span class="nv">remote1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>http://path/to/remote1
<span class="nv">remote2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>http://path/to/remote2

<span class="c1"># Pull from remote 1</span>
$<span class="w"> </span>hg<span class="w"> </span>pull<span class="w"> </span>remote1

<span class="c1"># Pull from remote 2</span>
$<span class="w"> </span>hg<span class="w"> </span>pull<span class="w"> </span>remote2
</pre></div>
<h3>push</h3>
<p>Push changesets from the local repository to the specified destination.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># List remote paths</span>
$<span class="w"> </span>hg<span class="w"> </span>paths
<span class="nv">remote1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>http://path/to/remote1
<span class="nv">remote2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>http://path/to/remote2

<span class="c1"># Pull from remote 1</span>
$<span class="w"> </span>hg<span class="w"> </span>push<span class="w"> </span>remote1

<span class="c1"># Pull from remote 2</span>
$<span class="w"> </span>hg<span class="w"> </span>push<span class="w"> </span>remote2
</pre></div>
<h3>rebase</h3>
<p>Move changeset (and descendants) to a different branch.</p>
<p>Rebase uses repeated merging to graft changesets from one part of history
(the source) onto another (the destination). This can be useful for
linearizing <em>local</em> changes relative to a master development tree.</p>
<ul>
<li>Draft the commits back to the source revision.</li>
<li>-s is the source, ie. what you are rebasing.</li>
<li>-d is the destination, which is where you are sending it.</li>
</ul>
<div class="highlight"><pre lang="bash"><span class="c1"># Put the commits into draft status</span>
<span class="c1"># This will draft all subsequent commits on the relevant branch</span>
$<span class="w"> </span>hg<span class="w"> </span>phase<span class="w"> </span>--draft<span class="w"> </span>--force<span class="w"> </span>-r<span class="w"> </span><span class="m">1206</span>

<span class="c1"># Rebase from from revision 102 over revision 208</span>
$<span class="w"> </span>hg<span class="w"> </span>rebase<span class="w"> </span>-s<span class="w"> </span><span class="m">102</span><span class="w"> </span>-d<span class="w"> </span><span class="m">208</span>
</pre></div>
<h3>revert</h3>
<p>Restore files to their checkout state. With no revision specified, revert the
specified files or directories to the contents they had in the parent of the
working directory. This restores the contents of files to an unmodified state
and unschedules adds, removes, copies, and renames. If the working directory
has two parents, you must explicitly specify a revision.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Reset a specific file to its checked out state</span>
$<span class="w"> </span>hg<span class="w"> </span>revert<span class="w"> </span>oops_i_did_it_again.txt

<span class="c1"># Revert a specific file to its checked out state without leaving a .orig file</span>
<span class="c1"># around</span>
$<span class="w"> </span>hg<span class="w"> </span>revert<span class="w"> </span>-C<span class="w"> </span>oops_i_did_it_again.txt

<span class="c1"># Revert all changes</span>
$<span class="w"> </span>hg<span class="w"> </span>revert<span class="w"> </span>-a
</pre></div>
<h3>rm / remove</h3>
<p>Remove the specified files on the next commit.</p>
<div class="highlight"><pre lang="bash"><span class="c1"># Remove a specific file</span>
$<span class="w"> </span>hg<span class="w"> </span>remove<span class="w"> </span>go_away.txt

<span class="c1"># Remove a group of files by pattern</span>
$<span class="w"> </span>hg<span class="w"> </span>remove<span class="w"> </span>*.txt
</pre></div>
<h2>Further information</h2>
<ul>
<li><a href="https://www.mercurial-scm.org/guide">Learning Mercurial in Workflows</a></li>
<li><a href="https://www.mercurial-scm.org/wiki/QuickStart">Mercurial Quick Start</a></li>
<li><a href="http://hgbook.red-bean.com/">Mercurial: The Definitive Guide by Bryan O'Sullivan</a></li>
</ul>

        <hr>
        <p>
          Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the GitHub Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/mercurial.md">pull request</a> yourself!
        </p>
        <p class="contributed">
          Originally contributed by Will L. Fife, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/mercurial.md">6 contributors</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://github.com/sarlalian">Will L. Fife</a>
          </p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const langSelect = document.getElementById('lang-select');
          langSelect?.addEventListener('change', () => {
            const selectedOption = langSelect.options[langSelect.selectedIndex];
            const url = selectedOption?.getAttribute('data-url');
            if (url) {
              window.location.href = url;
            }
          });
        });
      </script>
    </div>
  </body>
</html>