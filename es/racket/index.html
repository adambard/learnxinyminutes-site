<!DOCTYPE html>
<html lang="es">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="es">
    <title>Learn Racket in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/es/racket/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <div class="share">
        <span class="sharemsg">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fes%2Fracket%2F&amp;text=Aprende+X+en+Y+minutos%2C+donde+X%3DRacket">
            Comparte esta página
          </a>
        </span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_twitter_large' displayText='Tweet'></span>
      </div>
      <h1><a href="/">Aprende X en Y minutos</a></h1>
      <h2>Donde X=Racket</h2>
      <p class="filelink">
        Descarga el código:
        <a href="/es/files/learnracket.rkt">learnracket.rkt</a>
      </p>
      <div id="doc">
<p>Racket es un lenguaje de propósito general, multiparadigma que hace parte de la familia Lisp/Scheme.</p>
<div class="highlight"><pre lang="racket"><span class="kn">#lang </span><span class="nn">racket</span><span class="w"> </span><span class="c1">; Define el lenguaje que usas</span>

<span class="c1">;;; Comentarios</span>

<span class="c1">;; Los comentarios de una sola línea inician con un punto y coma</span>

<span class="cm">#| Un bloque de comentarios</span>
<span class="cm">   puede distribuirse en varias líneas...</span>
<span class="cm">    #|</span>
<span class="cm">       ¡Incluso puede estar anidado!</span>
<span class="cm">    |#</span>
<span class="cm">|#</span>

<span class="c1">;; Los comentarios descartan la siguiente expresión,</span>
<span class="c1">;; pero son útiles para comentar expresiones al momento de depurar el código</span>
<span class="c">#;</span><span class="w"> </span><span class="p">(</span><span class="n">Esta</span><span class="w"> </span><span class="n">expresión</span><span class="w"> </span><span class="n">es</span><span class="w"> </span><span class="n">descartada</span><span class="p">)</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 1. Tipos de datos primitivos y operadores</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;;; Numeros</span>
<span class="mi">9999999999999999999999</span><span class="w"> </span><span class="c1">; Enteros</span>
<span class="mb">#b111</span><span class="w">                  </span><span class="c1">; binario =&gt; 7</span>
<span class="mo">#o111</span><span class="w">                  </span><span class="c1">; octal =&gt; 73</span>
<span class="mh">#x111</span><span class="w">                  </span><span class="c1">; hexadecimal =&gt; 273</span>
<span class="mf">3.14</span><span class="w">                   </span><span class="c1">; reales</span>
<span class="mf">6.02e+23</span>
<span class="m">1/2</span><span class="w">                    </span><span class="c1">; racionaless</span>
<span class="m">1+2i</span><span class="w">                   </span><span class="c1">; numeros complejos</span>

<span class="c1">;; La aplicación de funciones es escrita de la siguiente forma: (f x y z ...)</span>
<span class="c1">;; donde f es una función y “x, y, z” son sus operandos</span>
<span class="c1">;; Si quieres crear una lista de literales debes agregar &#39; al inicio</span>
<span class="c1">;; para que no sean evaluados</span>
<span class="o">&#39;</span><span class="p">(</span><span class="ss">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; (+ 1 2)</span>
<span class="c1">;; Ahora algunas operaciones aritméticas</span>
<span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">  </span><span class="c1">; =&gt; 2</span>
<span class="p">(</span><span class="nb">-</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">  </span><span class="c1">; =&gt; 7</span>
<span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 20</span>
<span class="p">(</span><span class="nb">expt</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 8</span>
<span class="p">(</span><span class="nb">quotient</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 2</span>
<span class="p">(</span><span class="nb">remainder</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 1</span>
<span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">35</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 7</span>
<span class="p">(</span><span class="nb">/</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 1/3</span>
<span class="p">(</span><span class="nb">exact-&gt;inexact</span><span class="w"> </span><span class="m">1/3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 0.3333333333333333</span>
<span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="m">1+2i</span><span class="w">  </span><span class="m">2-3i</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 3-1i</span>

<span class="c1">;;; Booleanos</span>
<span class="no">#t</span><span class="w"> </span><span class="c1">; Para verdadero (true)</span>
<span class="no">#f</span><span class="w"> </span><span class="c1">; Para falso (false) -- cualquier valor distinto de #f es verdadero</span>
<span class="p">(</span><span class="nb">not</span><span class="w"> </span><span class="no">#t</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #f</span>
<span class="p">(</span><span class="k">and</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="no">#f</span><span class="w"> </span><span class="p">(</span><span class="nb">error</span><span class="w"> </span><span class="s2">&quot;No entra aquí&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #f</span>
<span class="p">(</span><span class="k">or</span><span class="w"> </span><span class="no">#f</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="nb">error</span><span class="w"> </span><span class="s2">&quot;No entra aquí&quot;</span><span class="p">))</span><span class="w">  </span><span class="c1">; =&gt; 0</span>

<span class="c1">;;; Caracteres</span>
<span class="sc">#\A</span><span class="w"> </span><span class="c1">; =&gt; #\A</span>
<span class="sc">#\λ</span><span class="w"> </span><span class="c1">; =&gt; #\λ</span>
<span class="sc">#\u03BB</span><span class="w"> </span><span class="c1">; =&gt; #\λ</span>

<span class="c1">;;; Los Strings tienen una longitud fija</span>
<span class="s2">&quot;Hello, world!&quot;</span>
<span class="s2">&quot;Benjamin </span><span class="se">\&quot;</span><span class="s2">Bugsy</span><span class="se">\&quot;</span><span class="s2"> Siegel&quot;</span><span class="w">   </span><span class="c1">; backslash es un caracter de escape</span>
<span class="s2">&quot;Foo</span><span class="se">\t</span><span class="s2">bar</span><span class="se">\41\x21\u0021\a\r\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="c1">; incluye escape para C, Unicode</span>
<span class="s2">&quot;λx:(μα.α→α).xx&quot;</span><span class="w">              </span><span class="c1">; Puedes incluir caracteres Unicode</span>

<span class="c1">;; ¡Los tipos de dato Strings pueden unirse tambien!</span>
<span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;Hello &quot;</span><span class="w"> </span><span class="s2">&quot;world!&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Hello world!&quot;</span>

<span class="c1">;; Un string puede ser tratado como una lista de caracteres</span>
<span class="p">(</span><span class="nb">string-ref</span><span class="w"> </span><span class="s2">&quot;Apple&quot;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #\A</span>

<span class="c1">;; la función format puede usarse para darle formato a un string:</span>
<span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;~a can be ~a&quot;</span><span class="w"> </span><span class="s2">&quot;strings&quot;</span><span class="w"> </span><span class="s2">&quot;formatted&quot;</span><span class="p">)</span>

<span class="c1">;; Imprimir en consola es muy simple</span>
<span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;I&#39;m Racket. Nice to meet you!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 2. Variables</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; Puedes crear una variable usando define</span>
<span class="c1">;; el nombre de una variable puede contener cualquier nombre excepto: ()[]{}&quot;,&#39;`;#|\</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">some-var</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="n">some-var</span><span class="w"> </span><span class="c1">; =&gt; 5</span>

<span class="c1">;; También puedes usar caracteres unicode</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">⊆</span><span class="w"> </span><span class="nb">subset?</span><span class="p">)</span>
<span class="p">(</span><span class="n">⊆</span><span class="w"> </span><span class="p">(</span><span class="nb">set</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">set</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #t</span>

<span class="c1">;; Acceder a una variable no definida con anterioridad resulta en una excepción</span>
<span class="c1">; x ; =&gt; x: undefined ...</span>

<span class="c1">;; Local binding: La variable &#39;me&#39; esta limitada a tomar el valor &quot;Bob&quot; dentro del ambiente (let ...)</span>
<span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">([</span><span class="n">me</span><span class="w"> </span><span class="s2">&quot;Bob&quot;</span><span class="p">])</span>
<span class="w">  </span><span class="s2">&quot;Alice&quot;</span>
<span class="w">  </span><span class="n">me</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Bob&quot;</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 3. Estructuras y colecciones</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Estructuras</span>
<span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="n">dog</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="n">breed</span><span class="w"> </span><span class="n">age</span><span class="p">))</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">my-pet</span>
<span class="w">  </span><span class="p">(</span><span class="n">dog</span><span class="w"> </span><span class="s2">&quot;lassie&quot;</span><span class="w"> </span><span class="s2">&quot;collie&quot;</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span>
<span class="n">my-pet</span><span class="w"> </span><span class="c1">; =&gt; #&lt;dog&gt;</span>
<span class="p">(</span><span class="n">dog?</span><span class="w"> </span><span class="n">my-pet</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #t</span>
<span class="p">(</span><span class="n">dog-name</span><span class="w"> </span><span class="n">my-pet</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;lassie&quot;</span>

<span class="c1">;;; Parejas (Inmutables)</span>
<span class="c1">;; &#39;cons&#39; construye parejas, &#39;car&#39; y &#39;cdr&#39; extraen el primer</span>
<span class="c1">;; y segundo elemento respectivamente de una pareja</span>
<span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &#39;(1 . 2)</span>
<span class="p">(</span><span class="nb">car</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; 1</span>
<span class="p">(</span><span class="nb">cdr</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; 2</span>

<span class="c1">;;; Listas</span>

<span class="c1">;; Las Listas son estructuras secuenciales no indexadas, hechas con ‘cons’ y</span>
<span class="c1">;; con un &#39;null&#39; (o &#39;()) para denotar el final de la lista</span>
<span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="nb">null</span><span class="p">)))</span><span class="w"> </span><span class="c1">; =&gt; &#39;(1 2 3)</span>
<span class="c1">;; &#39;list&#39; es otro constructor apropiado para las listas</span>
<span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &#39;(1 2 3)</span>
<span class="c1">;; y el simbolo comilla (&#39;) puede ser usado en una lista de valores literales</span>
<span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &#39;(1 2 3)</span>

<span class="c1">;; Aquí aun se puede usar &#39;cons&#39; para agregar un elemento al comienzo de la lista</span>
<span class="p">(</span><span class="nb">cons</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;(4 1 2 3)</span>

<span class="c1">;; El uso de &#39;append&#39; para unir un par de listas</span>
<span class="p">(</span><span class="nb">append</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;(1 2 3 4)</span>

<span class="c1">;; Las listas son un tipo de dato básico, por lo cual proveen numerosas funcionalidades;</span>
<span class="c1">;; algunos ejemplos son:</span>
<span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="nb">add1</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w">          </span><span class="c1">; =&gt; &#39;(2 3 4)</span>
<span class="p">(</span><span class="nb">map</span><span class="w"> </span><span class="nb">+</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">10</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="mi">30</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;(11 22 33)</span>
<span class="p">(</span><span class="nb">filter</span><span class="w"> </span><span class="nb">even?</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w">    </span><span class="c1">; =&gt; &#39;(2 4)</span>
<span class="p">(</span><span class="nb">count</span><span class="w"> </span><span class="nb">even?</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span><span class="w">     </span><span class="c1">; =&gt; 2</span>
<span class="p">(</span><span class="nb">take</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">          </span><span class="c1">; =&gt; &#39;(1 2)</span>
<span class="p">(</span><span class="nb">drop</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w">          </span><span class="c1">; =&gt; &#39;(3 4)</span>

<span class="c1">;;; Vectores</span>

<span class="c1">;; Los Vectores son arreglos de longitud fija</span>
<span class="o">#</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &#39;#(1 2 3)</span>

<span class="c1">;; Se usa &#39;vector-append&#39; para unir dos vectores</span>
<span class="p">(</span><span class="nb">vector-append</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #(1 2 3 4 5 6)</span>

<span class="c1">;;; Conjuntos</span>

<span class="c1">;; Crear un conjunto a partir de una lista</span>
<span class="p">(</span><span class="nb">list-&gt;set</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; (set 1 2 3)</span>

<span class="c1">;; Agregar/Asignar un nuevo elemento &#39;set-add&#39;</span>
<span class="c1">;; (Funcional: retorna un conjunto extendido en vez de una mutar la entrada)</span>
<span class="p">(</span><span class="nb">set-add</span><span class="w"> </span><span class="p">(</span><span class="nb">set</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; (set 1 2 3 4)</span>

<span class="c1">;; Remueve el elemento agregado anteriormente &#39;set-remove&#39;</span>
<span class="p">(</span><span class="nb">set-remove</span><span class="w"> </span><span class="p">(</span><span class="nb">set</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; (set 2 3)</span>

<span class="c1">;; Prueba la existencia de un elemento con la funcion &#39;set-member?&#39;</span>
<span class="p">(</span><span class="nb">set-member?</span><span class="w"> </span><span class="p">(</span><span class="nb">set</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #t</span>
<span class="p">(</span><span class="nb">set-member?</span><span class="w"> </span><span class="p">(</span><span class="nb">set</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #f</span>

<span class="c1">;;; Tablas Hashs</span>

<span class="c1">;; Crea una tabla hash inmutable (Abajo presentamos un ejemplo)</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="p">(</span><span class="nb">hash</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">a</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">b</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">c</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span>

<span class="c1">;; Conseguir un valor</span>
<span class="p">(</span><span class="nb">hash-ref</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">a</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 1</span>

<span class="c1">;; Conseguir un valor que no está presente es una excepción</span>
<span class="c1">; (hash-ref m &#39;d) =&gt; no value found</span>

<span class="c1">;; Puedes proveer un valor por defecto si el valor para la llave no se encuentra</span>
<span class="p">(</span><span class="nb">hash-ref</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">d</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 0</span>

<span class="c1">;; Usa &#39;hash-set&#39; para ampliar un tabla hash “inmutable”</span>
<span class="c1">;; (Retorna la tabla hash extendida en vez de una mutarla)</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">m2</span><span class="w"> </span><span class="p">(</span><span class="nb">hash-set</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">d</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span>
<span class="n">m2</span><span class="w"> </span><span class="c1">; =&gt; &#39;#hash((b . 2) (a . 1) (d . 4) (c . 3))</span>

<span class="c1">;; ¡Recuerde que estas tablas hash son inmutables!</span>
<span class="n">m</span><span class="w"> </span><span class="c1">; =&gt; &#39;#hash((b . 2) (a . 1) (c . 3))  &lt;-- no &#39;d&#39;</span>

<span class="c1">;; Usa &#39;hash-remove&#39; para quitar las llaves de la tabla hash (functional tambien)</span>
<span class="p">(</span><span class="nb">hash-remove</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">a</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &#39;#hash((b . 2) (c . 3))</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 3. Funciones</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Usa &#39;lambda&#39; para crear funciones.</span>
<span class="c1">;; Una función siempre retorna el valor de su última expresión</span>
<span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #&lt;procedure&gt;</span>
<span class="c1">;; También se puede usar el caracter Unicode &#39;λ&#39;</span>
<span class="p">(</span><span class="k">λ</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span><span class="w">     </span><span class="c1">; =&gt; same function</span>

<span class="c1">;; Usa los paréntesis exteriores para llamar la función</span>
<span class="p">((</span><span class="k">lambda</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &quot;Hello World&quot;</span>
<span class="p">((</span><span class="k">λ</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span><span class="p">))</span><span class="w">      </span><span class="c1">; =&gt; &quot;Hello World&quot;</span>

<span class="c1">;; Asigna una función a una variable</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">hello-world</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span><span class="p">))</span>
<span class="p">(</span><span class="n">hello-world</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Hello World&quot;</span>

<span class="c1">;; Puede acortar esto usando el azúcar sintáctico para la definición de una función:</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">hello-world2</span><span class="p">)</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span><span class="p">)</span>

<span class="c1">;; El paréntesis () del ejemplo anterior denota la lista de argumentos para la función</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">hello</span>
<span class="w">  </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;Hello &quot;</span><span class="w"> </span><span class="n">name</span><span class="p">)))</span>
<span class="p">(</span><span class="n">hello</span><span class="w"> </span><span class="s2">&quot;Steve&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Hello Steve&quot;</span>
<span class="c1">;; ... O de forma similar, usando el azúcar sintáctico para una definición:</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">hello2</span><span class="w"> </span><span class="n">name</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;Hello &quot;</span><span class="w"> </span><span class="n">name</span><span class="p">))</span>

<span class="c1">;; Puedes tener una función con parametros variables, using &#39;case-lambda&#39;</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">hello3</span>
<span class="w">  </span><span class="p">(</span><span class="k">case-lambda</span>
<span class="w">    </span><span class="p">[()</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">[(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;Hello &quot;</span><span class="w"> </span><span class="n">name</span><span class="p">)]))</span>
<span class="p">(</span><span class="n">hello3</span><span class="w"> </span><span class="s2">&quot;Jake&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Hello Jake&quot;</span>
<span class="p">(</span><span class="n">hello3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Hello World&quot;</span>
<span class="c1">;; ... o especificar los argumentos opcionales junto con su valor por defecto</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">hello4</span><span class="w"> </span><span class="p">[</span><span class="n">name</span><span class="w"> </span><span class="s2">&quot;World&quot;</span><span class="p">])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;Hello &quot;</span><span class="w"> </span><span class="n">name</span><span class="p">))</span>

<span class="c1">;; Las funciones pueden tener argumentos extra empaquetados como una lista</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">count-args</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;You passed ~a args: ~a&quot;</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">args</span><span class="p">))</span>
<span class="p">(</span><span class="n">count-args</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;You passed 3 args: (1 2 3)&quot;</span>
<span class="c1">;; ... o sin usar el azúcar sintáctico:</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">count-args2</span>
<span class="w">  </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="n">args</span>
<span class="w">    </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;You passed ~a args: ~a&quot;</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="n">args</span><span class="p">)))</span>

<span class="c1">;; Puedes combinar argumentos regulares y empaquetados</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">hello-count</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;Hello ~a, you passed ~a extra args&quot;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="w"> </span><span class="n">args</span><span class="p">)))</span>
<span class="p">(</span><span class="n">hello-count</span><span class="w"> </span><span class="s2">&quot;Finn&quot;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="c1">; =&gt; &quot;Hello Finn, you passed 3 extra args&quot;</span>
<span class="c1">;; ... Sin usar azúcar sintáctica:</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">hello-count2</span>
<span class="w">  </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;Hello ~a, you passed ~a extra args&quot;</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="w"> </span><span class="n">args</span><span class="p">))))</span>

<span class="c1">;; Y con keywords</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">hello-k</span><span class="w"> </span><span class="kd">#:name</span><span class="w"> </span><span class="p">[</span><span class="n">name</span><span class="w"> </span><span class="s2">&quot;World&quot;</span><span class="p">]</span><span class="w"> </span><span class="kd">#:greeting</span><span class="w"> </span><span class="p">[</span><span class="n">g</span><span class="w"> </span><span class="s2">&quot;Hello&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="n">args</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;~a ~a, ~a extra args&quot;</span><span class="w"> </span><span class="n">g</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">(</span><span class="nb">length</span><span class="w"> </span><span class="n">args</span><span class="p">)))</span>
<span class="p">(</span><span class="n">hello-k</span><span class="p">)</span><span class="w">                 </span><span class="c1">; =&gt; &quot;Hello World, 0 extra args&quot;</span>
<span class="p">(</span><span class="n">hello-k</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">           </span><span class="c1">; =&gt; &quot;Hello World, 3 extra args&quot;</span>
<span class="p">(</span><span class="n">hello-k</span><span class="w"> </span><span class="kd">#:greeting</span><span class="w"> </span><span class="s2">&quot;Hi&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Hi World, 0 extra args&quot;</span>
<span class="p">(</span><span class="n">hello-k</span><span class="w"> </span><span class="kd">#:name</span><span class="w"> </span><span class="s2">&quot;Finn&quot;</span><span class="w"> </span><span class="kd">#:greeting</span><span class="w"> </span><span class="s2">&quot;Hey&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;Hey Finn, 0 extra args&quot;</span>
<span class="p">(</span><span class="n">hello-k</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="kd">#:greeting</span><span class="w"> </span><span class="s2">&quot;Hi&quot;</span><span class="w"> </span><span class="kd">#:name</span><span class="w"> </span><span class="s2">&quot;Finn&quot;</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<span class="w">                                         </span><span class="c1">; =&gt; &quot;Hi Finn, 6 extra args&quot;</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 4. Comparando</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Para números usa &#39;=&#39;</span>
<span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #t</span>
<span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">   </span><span class="c1">; =&gt; #f</span>

<span class="c1">;; &#39;eq?&#39; retorna #t si 2 argumentos refieren al mismo objeto en memoria</span>
<span class="c1">;; #f de lo contrario.</span>
<span class="c1">;; En otras palabras, es una simple comparación de punteros.</span>
<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="o">&#39;</span><span class="p">()</span><span class="w"> </span><span class="o">&#39;</span><span class="p">())</span><span class="w"> </span><span class="c1">; =&gt; #t, Debido a que existe solo una lista vacia en memoria</span>
<span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">([</span><span class="n">x</span><span class="w"> </span><span class="o">&#39;</span><span class="p">()]</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="w"> </span><span class="o">&#39;</span><span class="p">()])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">))</span><span class="w">  </span><span class="c1">; =&gt; #t, igual que arriba</span>

<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #f</span>
<span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">([</span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">)]</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">)])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">))</span><span class="w">            </span><span class="c1">; =&gt; #f — ¡No es la misma lista en memoria!</span>

<span class="p">(</span><span class="k">let*</span><span class="w"> </span><span class="p">([</span><span class="n">x</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">)]</span><span class="w"> </span><span class="p">[</span><span class="n">y</span><span class="w"> </span><span class="n">x</span><span class="p">])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #t, debido a que ‘x’ y ‘y’ ahora apuntan a la misma posición en memoria</span>

<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">yes</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">yes</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #t</span>
<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">yes</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">no</span><span class="p">)</span><span class="w">  </span><span class="c1">; =&gt; #f</span>

<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w">   </span><span class="c1">; =&gt; #t — Te cuidado aqui</span>
<span class="w">            </span><span class="c1">; es mejor usar &#39;=&#39; para comparacion de numeros.</span>
<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #f</span>

<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="p">(</span><span class="nb">expt</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">expt</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">100</span><span class="p">))</span><span class="w">               </span><span class="c1">; =&gt; #f</span>
<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="p">(</span><span class="nb">integer-&gt;char</span><span class="w"> </span><span class="mi">955</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">integer-&gt;char</span><span class="w"> </span><span class="mi">955</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #f</span>

<span class="p">(</span><span class="nb">eq?</span><span class="w"> </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #f</span>

<span class="c1">;; &#39;eqv?&#39; permite comparar números y caracteres..</span>
<span class="c1">;; for other datatypes, &#39;eqv?&#39; and &#39;eq?&#39; return the same result.</span>
<span class="p">(</span><span class="nb">eqv?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w">                                   </span><span class="c1">; =&gt; #f</span>
<span class="p">(</span><span class="nb">eqv?</span><span class="w"> </span><span class="p">(</span><span class="nb">expt</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">expt</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">100</span><span class="p">))</span><span class="w">               </span><span class="c1">; =&gt; #t</span>
<span class="p">(</span><span class="nb">eqv?</span><span class="w"> </span><span class="p">(</span><span class="nb">integer-&gt;char</span><span class="w"> </span><span class="mi">955</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">integer-&gt;char</span><span class="w"> </span><span class="mi">955</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #t</span>

<span class="p">(</span><span class="nb">eqv?</span><span class="w"> </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">))</span><span class="w">   </span><span class="c1">; =&gt; #f</span>

<span class="c1">;; &#39;equal?&#39; permite comparar los siguientes tipos de datos:</span>
<span class="c1">;; strings, byte strings, pairs, mutable pairs, vectors, boxes,</span>
<span class="c1">;; hash tables, and inspectable estructuras.</span>
<span class="c1">;; para otros tipos de datos, &#39;equal?&#39; y &#39;eqv?&#39; devuelven el mismo resultado.</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mf">3.0</span><span class="p">)</span><span class="w">                                                   </span><span class="c1">; =&gt; #f</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">string-append</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #t</span>
<span class="p">(</span><span class="nb">equal?</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w">                                       </span><span class="c1">; =&gt; #t</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 5. Control de flujo</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;;; Condicionales</span>

<span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="no">#t</span><span class="w">               </span><span class="c1">; expresión de prueba</span>
<span class="w">    </span><span class="s2">&quot;this is true&quot;</span><span class="w">   </span><span class="c1">; expresión si la expresión de prueba es verdadera</span>
<span class="w">    </span><span class="s2">&quot;this is false&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; de lo contrario expression</span>
<span class="c1">; =&gt; &quot;this is true&quot;</span>

<span class="c1">;; En condicionales, todos los valores que no son #f son tratados como verdadero</span>
<span class="p">(</span><span class="nb">member</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">Groucho</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="ss">Harpo</span><span class="w"> </span><span class="ss">Groucho</span><span class="w"> </span><span class="ss">Zeppo</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;(Groucho Zeppo)</span>
<span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">member</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">Groucho</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="ss">Harpo</span><span class="w"> </span><span class="ss">Groucho</span><span class="w"> </span><span class="ss">Zeppo</span><span class="p">))</span>
<span class="w">    </span><span class="o">&#39;</span><span class="ss">yep</span>
<span class="w">    </span><span class="o">&#39;</span><span class="ss">nope</span><span class="p">)</span>
<span class="c1">; =&gt; &#39;yep</span>

<span class="c1">;; Las expresiones &#39;cond&#39; son una serie de pruebas para seleccionar el resultado</span>
<span class="p">(</span><span class="k">cond</span><span class="w"> </span><span class="p">[(</span><span class="nb">&gt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">error</span><span class="w"> </span><span class="s2">&quot;wrong!&quot;</span><span class="p">)]</span>
<span class="w">      </span><span class="p">[(</span><span class="nb">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">error</span><span class="w"> </span><span class="s2">&quot;wrong again!&quot;</span><span class="p">)]</span>
<span class="w">      </span><span class="p">[</span><span class="k">else</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">ok</span><span class="p">])</span><span class="w"> </span><span class="c1">; =&gt; &#39;ok</span>

<span class="c1">;;; Coincidencia de patrones (Pattern Matching)</span>

<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">fizzbuzz?</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">match</span><span class="w"> </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="p">(</span><span class="nb">remainder</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">remainder</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span>
<span class="w">    </span><span class="p">[(</span><span class="nb">list</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">fizzbuzz</span><span class="p">]</span>
<span class="w">    </span><span class="p">[(</span><span class="nb">list</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">_</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">fizz</span><span class="p">]</span>
<span class="w">    </span><span class="p">[(</span><span class="nb">list</span><span class="w"> </span><span class="k">_</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">buzz</span><span class="p">]</span>
<span class="w">    </span><span class="p">[</span><span class="k">_</span><span class="w">          </span><span class="no">#f</span><span class="p">]))</span>

<span class="p">(</span><span class="n">fizzbuzz?</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &#39;fizzbuzz</span>
<span class="p">(</span><span class="n">fizzbuzz?</span><span class="w"> </span><span class="mi">37</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; #f</span>

<span class="c1">;;; Ciclos</span>

<span class="c1">;; Los ciclos pueden expresarse a través de recursión (de cola)</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">loop</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">when</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;i=~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">loop</span><span class="w"> </span><span class="p">(</span><span class="nb">add1</span><span class="w"> </span><span class="n">i</span><span class="p">))))</span>
<span class="p">(</span><span class="n">loop</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; i=5, i=6, ...</span>

<span class="c1">;; De igual forma, con un let</span>
<span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="p">((</span><span class="n">i</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="k">when</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;i=~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">loop</span><span class="w"> </span><span class="p">(</span><span class="nb">add1</span><span class="w"> </span><span class="n">i</span><span class="p">))))</span><span class="w"> </span><span class="c1">; =&gt; i=0, i=1, ...</span>

<span class="c1">;; El siguiente ejemplo muestra cómo expresar un ciclo for, pero Racket tiene</span>
<span class="c1">;; otra forma aún más flexible de expresarlos:</span>
<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;i=~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; i=0, i=1, ...</span>
<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">in-range</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">10</span><span class="p">)])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;i=~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; i=5, i=6, ...</span>

<span class="c1">;;; Iterando sobre otras secuencias</span>
<span class="c1">;; &#39;for&#39; permite iterar sobre varios tipos de secuencias:</span>
<span class="c1">;; lists, vectors, strings, sets, hash tables, etc...</span>

<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">in-list</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="ss">l</span><span class="w"> </span><span class="ss">i</span><span class="w"> </span><span class="ss">s</span><span class="w"> </span><span class="ss">t</span><span class="p">))])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="n">i</span><span class="p">))</span>

<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">in-vector</span><span class="w"> </span><span class="o">#</span><span class="p">(</span><span class="ss">v</span><span class="w"> </span><span class="ss">e</span><span class="w"> </span><span class="ss">c</span><span class="w"> </span><span class="ss">t</span><span class="w"> </span><span class="ss">o</span><span class="w"> </span><span class="ss">r</span><span class="p">))])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="n">i</span><span class="p">))</span>

<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">in-string</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">)])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="n">i</span><span class="p">))</span>

<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">in-set</span><span class="w"> </span><span class="p">(</span><span class="nb">set</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">x</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">y</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">z</span><span class="p">))])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="n">i</span><span class="p">))</span>

<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([(</span><span class="n">k</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">in-hash</span><span class="w"> </span><span class="p">(</span><span class="nb">hash</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">a</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">b</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">c</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">))])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;key:~a value:~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="n">v</span><span class="p">))</span>

<span class="c1">;;; Iteradores mas sofisticados</span>

<span class="c1">;; Escaneo paralelo de múltiples secuencias (se detiene en la más pequeña)</span>
<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="ss">x</span><span class="w"> </span><span class="ss">y</span><span class="w"> </span><span class="ss">z</span><span class="p">)])</span><span class="w"> </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;~a:~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="p">))</span>
<span class="c1">; =&gt; 0:x 1:y 2:z</span>

<span class="c1">;; Loops anidados</span>
<span class="p">(</span><span class="k">for*</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="ss">x</span><span class="w"> </span><span class="ss">y</span><span class="w"> </span><span class="ss">z</span><span class="p">)])</span><span class="w"> </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;~a:~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="p">))</span>
<span class="c1">; =&gt; 0:x, 0:y, 0:z, 1:x, 1:y, 1:z</span>

<span class="c1">;; Condicionales</span>
<span class="p">(</span><span class="k">for</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">1000</span><span class="p">]</span>
<span class="w">      </span><span class="kd">#:when</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="w">      </span><span class="kd">#:unless</span><span class="w"> </span><span class="p">(</span><span class="nb">odd?</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">      </span><span class="kd">#:break</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;i=~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">i</span><span class="p">))</span>
<span class="c1">; =&gt; i=6, i=8, i=10</span>

<span class="c1">;;; Secuncias por compresión</span>
<span class="c1">;; Muy similar a los ciclos &#39;for&#39; -- solo recolectando los resultados</span>

<span class="p">(</span><span class="k">for/list</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">add1</span><span class="w"> </span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;(2 3 4)</span>

<span class="p">(</span><span class="k">for/list</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)]</span><span class="w"> </span><span class="kd">#:when</span><span class="w"> </span><span class="p">(</span><span class="nb">even?</span><span class="w"> </span><span class="n">i</span><span class="p">))</span>
<span class="w">  </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &#39;(2)</span>

<span class="p">(</span><span class="k">for/list</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="ss">x</span><span class="w"> </span><span class="ss">y</span><span class="w"> </span><span class="ss">z</span><span class="p">)])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">list</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; &#39;((0 x) (1 y) (2 z))</span>

<span class="p">(</span><span class="k">for/list</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">1000</span><span class="p">]</span><span class="w"> </span><span class="kd">#:when</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span><span class="w"> </span><span class="kd">#:unless</span><span class="w"> </span><span class="p">(</span><span class="nb">odd?</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="kd">#:break</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">))</span>
<span class="w">  </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &#39;(6 8 10)</span>

<span class="p">(</span><span class="k">for/hash</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="p">)])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">values</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">number-&gt;string</span><span class="w"> </span><span class="n">i</span><span class="p">)))</span>
<span class="c1">; =&gt; &#39;#hash((1 . &quot;1&quot;) (2 . &quot;2&quot;) (3 . &quot;3&quot;))</span>

<span class="c1">;; Existen otras formas de recolectar los valores usando otras expresiones:</span>
<span class="p">(</span><span class="k">for/sum</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; 285</span>
<span class="p">(</span><span class="k">for/product</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">in-range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">11</span><span class="p">)])</span><span class="w"> </span><span class="p">(</span><span class="nb">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; 13168189440000</span>
<span class="p">(</span><span class="k">for/and</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="p">(</span><span class="nb">in-range</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">20</span><span class="p">)])</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #t</span>
<span class="p">(</span><span class="k">for/or</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">j</span><span class="w"> </span><span class="p">(</span><span class="nb">in-range</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="mi">2</span><span class="p">)])</span><span class="w"> </span><span class="p">(</span><span class="nb">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">j</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; #t</span>
<span class="c1">;; Y para usar cualquier combinación arbitraria, use &#39;for/fold&#39;</span>
<span class="p">(</span><span class="k">for/fold</span><span class="w"> </span><span class="p">([</span><span class="n">sum</span><span class="w"> </span><span class="mi">0</span><span class="p">])</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)])</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="n">i</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; 10</span>
<span class="c1">;; (Esto frecuentemente reemplaza los ciclos en los lenguajes imperativos)</span>

<span class="c1">;;; Excepciones</span>

<span class="c1">;; Para atrapar excepciones, usa las funciones &#39;with-handlers&#39;</span>
<span class="p">(</span><span class="k">with-handlers</span><span class="w"> </span><span class="p">([</span><span class="nb">exn:fail?</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="nb">exn</span><span class="p">)</span><span class="w"> </span><span class="mi">999</span><span class="p">)])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">; =&gt; 999</span>
<span class="p">(</span><span class="k">with-handlers</span><span class="w"> </span><span class="p">([</span><span class="nb">exn:break?</span><span class="w"> </span><span class="p">(</span><span class="k">lambda</span><span class="w"> </span><span class="p">(</span><span class="nb">exn</span><span class="p">)</span><span class="w"> </span><span class="s2">&quot;no time&quot;</span><span class="p">)])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">sleep</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="s2">&quot;phew&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; &quot;phew&quot;, pero si usa un break =&gt; &quot;no time&quot;</span>

<span class="c1">;; Usa &#39;raise&#39; para lanzar una excepción o cualquier otro valor</span>
<span class="p">(</span><span class="k">with-handlers</span><span class="w"> </span><span class="p">([</span><span class="nb">number?</span><span class="w">    </span><span class="c1">; atrapa valores numericos lanzados</span>
<span class="w">                 </span><span class="nb">identity</span><span class="p">])</span><span class="w"> </span><span class="c1">; los retorna como valores</span>
<span class="w">  </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="nb">raise</span><span class="w"> </span><span class="mi">2</span><span class="p">)))</span><span class="w"> </span><span class="c1">; =&gt; 2</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 6. Mutación</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Usa &#39;set!&#39; para asignar un nuevo valor a una variable existente</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
<span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="p">(</span><span class="nb">add1</span><span class="w"> </span><span class="n">n</span><span class="p">))</span>
<span class="n">n</span><span class="w"> </span><span class="c1">; =&gt; 6</span>

<span class="c1">;; Usa boxes para valores explícitamente mutables (similar a punteros o</span>
<span class="c1">;; referencias en otros lenguajes)</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">n*</span><span class="w"> </span><span class="p">(</span><span class="nb">box</span><span class="w"> </span><span class="mi">5</span><span class="p">))</span>
<span class="p">(</span><span class="nb">set-box!</span><span class="w"> </span><span class="n">n*</span><span class="w"> </span><span class="p">(</span><span class="nb">add1</span><span class="w"> </span><span class="p">(</span><span class="nb">unbox</span><span class="w"> </span><span class="n">n*</span><span class="p">)))</span>
<span class="p">(</span><span class="nb">unbox</span><span class="w"> </span><span class="n">n*</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 6</span>

<span class="c1">;; Muchos tipos de datos en Racket son inmutables (pairs, lists, etc), algunos poseen</span>
<span class="c1">;; ambos sabores mutable e immutable (strings, vectors, hash tables,</span>
<span class="c1">;; etc...)</span>

<span class="c1">;; Usa &#39;vector&#39; o &#39;make-vector&#39; para crear vectores mutables</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">vec</span><span class="w"> </span><span class="p">(</span><span class="nb">vector</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">))</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">wall</span><span class="w"> </span><span class="p">(</span><span class="nb">make-vector</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">bottle-of-beer</span><span class="p">))</span>
<span class="c1">;; Usa vector-set! para actualizar una posición</span>
<span class="p">(</span><span class="nb">vector-set!</span><span class="w"> </span><span class="n">vec</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="nb">vector-set!</span><span class="w"> </span><span class="n">wall</span><span class="w"> </span><span class="mi">99</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">down</span><span class="p">)</span>
<span class="n">vec</span><span class="w"> </span><span class="c1">; =&gt; #(1 2 3 4)</span>

<span class="c1">;; Crea una tabla hash vacía  y manipulata</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">m3</span><span class="w"> </span><span class="p">(</span><span class="nb">make-hash</span><span class="p">))</span>
<span class="p">(</span><span class="nb">hash-set!</span><span class="w"> </span><span class="n">m3</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">a</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="nb">hash-set!</span><span class="w"> </span><span class="n">m3</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">b</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="nb">hash-set!</span><span class="w"> </span><span class="n">m3</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">c</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="p">(</span><span class="nb">hash-ref</span><span class="w"> </span><span class="n">m3</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">a</span><span class="p">)</span><span class="w">   </span><span class="c1">; =&gt; 1</span>
<span class="p">(</span><span class="nb">hash-ref</span><span class="w"> </span><span class="n">m3</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">d</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 0</span>
<span class="p">(</span><span class="nb">hash-remove!</span><span class="w"> </span><span class="n">m3</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">a</span><span class="p">)</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 7. Modulos</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Los Modulos permiten organizar el código en multiples archivos para reusarlos</span>
<span class="c1">;; en bibliotecas; Aquí usamos sub-modules, anidados en todo el modulo que</span>
<span class="c1">;; este texto hace (empezando desde la línea &quot;#lang&quot;)</span>

<span class="p">(</span><span class="k">module</span><span class="w"> </span><span class="n">cake</span><span class="w"> </span><span class="n">racket/base</span><span class="w"> </span><span class="c1">; definimos un modulo llamado &#39;cake&#39; basado en racket/base</span>

<span class="w">  </span><span class="p">(</span><span class="k">provide</span><span class="w"> </span><span class="n">print-cake</span><span class="p">)</span><span class="w"> </span><span class="c1">; function exportada por el modulo</span>

<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">print-cake</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="s2">&quot;   ~a   &quot;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="sc">#\.</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="s2">&quot; .-~a-. &quot;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="sc">#\|</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="s2">&quot; | ~a | &quot;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="sc">#\space</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="s2">&quot;---~a---&quot;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="sc">#\-</span><span class="p">))</span>

<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">show</span><span class="w"> </span><span class="n">fmt</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">ch</span><span class="p">)</span><span class="w"> </span><span class="c1">; función interna</span>
<span class="w">    </span><span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="n">fmt</span><span class="w"> </span><span class="p">(</span><span class="nb">make-string</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="n">ch</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="nb">newline</span><span class="p">)))</span>

<span class="c1">;; Usa &#39;require&#39; para obtener todos los nombre que provee un modulo</span>
<span class="p">(</span><span class="k">require</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">cake</span><span class="p">)</span><span class="w"> </span><span class="c1">; el apostrofe &#39; indica que es un submódulo local</span>
<span class="p">(</span><span class="n">print-cake</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="c1">; (show &quot;~a&quot; 1 #\A) ; =&gt; error, la función &#39;show&#39; no fue exportada</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 8. Clases y objectos</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Crea una clase llamada fish% (-% Es un una forma de indicar los límites de la clase)</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">fish%</span>
<span class="w">  </span><span class="p">(</span><span class="k">class</span><span class="w"> </span><span class="nb">object%</span>
<span class="w">    </span><span class="p">(</span><span class="k">init</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"> </span><span class="c1">; inicialización del argumento</span>
<span class="w">    </span><span class="p">(</span><span class="k">super-new</span><span class="p">)</span><span class="w"> </span><span class="c1">; inicialización de la superclase</span>
<span class="w">    </span><span class="c1">;; Campo</span>
<span class="w">    </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">current-size</span><span class="w"> </span><span class="n">size</span><span class="p">)</span>
<span class="w">    </span><span class="c1">;; Metodos públicos</span>
<span class="w">    </span><span class="p">(</span><span class="k">define/public</span><span class="w"> </span><span class="p">(</span><span class="n">get-size</span><span class="p">)</span>
<span class="w">      </span><span class="n">current-size</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="k">define/public</span><span class="w"> </span><span class="p">(</span><span class="n">grow</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="n">current-size</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="n">current-size</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="k">define/public</span><span class="w"> </span><span class="p">(</span><span class="n">eat</span><span class="w"> </span><span class="n">other-fish</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="n">grow</span><span class="w"> </span><span class="p">(</span><span class="k">send</span><span class="w"> </span><span class="n">other-fish</span><span class="w"> </span><span class="n">get-size</span><span class="p">)))))</span>

<span class="c1">;; Crea una instancia de la clase fish%</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">charlie</span>
<span class="w">  </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">fish%</span><span class="w"> </span><span class="p">[</span><span class="n">size</span><span class="w"> </span><span class="mi">10</span><span class="p">]))</span>

<span class="c1">;; Usa &#39;send&#39; para llamar un método de un objeto</span>
<span class="p">(</span><span class="k">send</span><span class="w"> </span><span class="n">charlie</span><span class="w"> </span><span class="n">get-size</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 10</span>
<span class="p">(</span><span class="k">send</span><span class="w"> </span><span class="n">charlie</span><span class="w"> </span><span class="n">grow</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
<span class="p">(</span><span class="k">send</span><span class="w"> </span><span class="n">charlie</span><span class="w"> </span><span class="n">get-size</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 16</span>

<span class="c1">;; &#39;fish%&#39; is a plain &quot;first class&quot; value, which can get us mixins</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">add-color</span><span class="w"> </span><span class="n">c%</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">class</span><span class="w"> </span><span class="n">c%</span>
<span class="w">    </span><span class="p">(</span><span class="k">init</span><span class="w"> </span><span class="n">color</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="k">super-new</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">my-color</span><span class="w"> </span><span class="n">color</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="k">define/public</span><span class="w"> </span><span class="p">(</span><span class="n">get-color</span><span class="p">)</span><span class="w"> </span><span class="n">my-color</span><span class="p">)))</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">colored-fish%</span><span class="w"> </span><span class="p">(</span><span class="n">add-color</span><span class="w"> </span><span class="n">fish%</span><span class="p">))</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">charlie2</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">colored-fish%</span><span class="w"> </span><span class="p">[</span><span class="n">size</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">color</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">red</span><span class="p">]))</span>
<span class="p">(</span><span class="k">send</span><span class="w"> </span><span class="n">charlie2</span><span class="w"> </span><span class="n">get-color</span><span class="p">)</span>
<span class="c1">;; o, sin nombres:</span>
<span class="p">(</span><span class="k">send</span><span class="w"> </span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">add-color</span><span class="w"> </span><span class="n">fish%</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">size</span><span class="w"> </span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">color</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">red</span><span class="p">])</span><span class="w"> </span><span class="n">get-color</span><span class="p">)</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 9. Macros</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Las Macros te permite extender la sintaxis del lenguaje</span>

<span class="c1">;; Agreguemos un ciclo while</span>
<span class="p">(</span><span class="k">define-syntax-rule</span><span class="w"> </span><span class="p">(</span><span class="n">while</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="k">...</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="p">(</span><span class="k">when</span><span class="w"> </span><span class="n">condition</span>
<span class="w">      </span><span class="n">body</span><span class="w"> </span><span class="k">...</span>
<span class="w">      </span><span class="p">(</span><span class="n">loop</span><span class="p">))))</span>

<span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">([</span><span class="n">i</span><span class="w"> </span><span class="mi">0</span><span class="p">])</span>
<span class="w">  </span><span class="p">(</span><span class="n">while</span><span class="w"> </span><span class="p">(</span><span class="nb">&lt;</span><span class="w"> </span><span class="n">i</span><span class="w">  </span><span class="mi">10</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">(</span><span class="nb">add1</span><span class="w"> </span><span class="n">i</span><span class="p">))))</span>

<span class="c1">;; Las Macros son higienicas, ¡no puedes aplastar las variables existentes!</span>
<span class="p">(</span><span class="k">define-syntax-rule</span><span class="w"> </span><span class="p">(</span><span class="n">swap!</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="c1">; -! es un caracter que indica mutación</span>
<span class="w">  </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">([</span><span class="n">tmp</span><span class="w"> </span><span class="n">x</span><span class="p">])</span>
<span class="w">    </span><span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">tmp</span><span class="p">)))</span>

<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="p">(</span><span class="n">swap!</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="n">other</span><span class="p">)</span>
<span class="p">(</span><span class="nb">printf</span><span class="w"> </span><span class="s2">&quot;tmp = ~a; other = ~a</span><span class="se">\n</span><span class="s2">&quot;</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="n">other</span><span class="p">)</span>
<span class="c1">;; La variable &#39;tmp&#39; es renombrada a &#39;tmp_1&#39;</span>
<span class="c1">;; Para evitar el conflicto de nombres</span>
<span class="c1">;; (let ([tmp_1 tmp])</span>
<span class="c1">;;   (set! tmp other)</span>
<span class="c1">;;   (set! other tmp_1))</span>

<span class="c1">;; Pero aun hay algunas transfromaciones de código, por ejemplo:</span>
<span class="p">(</span><span class="k">define-syntax-rule</span><span class="w"> </span><span class="p">(</span><span class="n">bad-while</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="k">...</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">when</span><span class="w"> </span><span class="n">condition</span>
<span class="w">    </span><span class="n">body</span><span class="w"> </span><span class="k">...</span>
<span class="w">    </span><span class="p">(</span><span class="n">bad-while</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="k">...</span><span class="p">)))</span>
<span class="c1">;; Esta macro es incorrecta: genera código infinitamente, si tratas de usarla</span>
<span class="c1">;; el compilador entrará en un ciclo infinito</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 10. Contratos</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Los Contratos imponen restricciones a los valores exportados desde los módulos</span>

<span class="p">(</span><span class="k">module</span><span class="w"> </span><span class="n">bank-account</span><span class="w"> </span><span class="n">racket</span>
<span class="w">  </span><span class="p">(</span><span class="k">provide</span><span class="w"> </span><span class="p">(</span><span class="k">contract-out</span>
<span class="w">            </span><span class="p">[</span><span class="n">deposit</span><span class="w"> </span><span class="p">(</span><span class="k">-&gt;</span><span class="w"> </span><span class="nb">positive?</span><span class="w"> </span><span class="k">any</span><span class="p">)]</span><span class="w"> </span><span class="c1">; Los montos siempre son positivos</span>
<span class="w">            </span><span class="p">[</span><span class="n">balance</span><span class="w"> </span><span class="p">(</span><span class="k">-&gt;</span><span class="w"> </span><span class="nb">positive?</span><span class="p">)]))</span>

<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">deposit</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">a</span><span class="p">)))</span>
<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">balance</span><span class="p">)</span><span class="w"> </span><span class="n">amount</span><span class="p">)</span>
<span class="w">  </span><span class="p">)</span>

<span class="p">(</span><span class="k">require</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">bank-account</span><span class="p">)</span>
<span class="p">(</span><span class="n">deposit</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>

<span class="p">(</span><span class="n">balance</span><span class="p">)</span><span class="w"> </span><span class="c1">; =&gt; 5</span>

<span class="c1">;; El cliente intenta depositar un monto negativo por lo cual es rechazado</span>
<span class="c1">;; (deposit -5) ; =&gt; depósito: violación del contrato</span>
<span class="c1">;; expected: positive?</span>
<span class="c1">;; given: -5</span>
<span class="c1">;; more details....</span>

<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 11. Entrada y salida</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Racket tiene el concepto de &quot;port&quot;, el cual es muy similar al de descriptores</span>
<span class="c1">;; de ficheros en otros lenguajes</span>

<span class="c1">;; Abre &quot;/tmp/tmp.txt&quot; y escribe &quot;Hello World&quot;</span>
<span class="c1">;; Esto lanzará un error si el archivo existe</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">out-port</span><span class="w"> </span><span class="p">(</span><span class="nb">open-output-file</span><span class="w"> </span><span class="s2">&quot;/tmp/tmp.txt&quot;</span><span class="p">))</span>
<span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="s2">&quot;Hello World&quot;</span><span class="w"> </span><span class="n">out-port</span><span class="p">)</span>
<span class="p">(</span><span class="nb">close-output-port</span><span class="w"> </span><span class="n">out-port</span><span class="p">)</span>

<span class="c1">;; Agregar información a &quot;/tmp/tmp.txt&quot; (incluso si el archivo existe)</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">out-port</span><span class="w"> </span><span class="p">(</span><span class="nb">open-output-file</span><span class="w"> </span><span class="s2">&quot;/tmp/tmp.txt&quot;</span>
<span class="w">                                   </span><span class="kd">#:exists</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">append</span><span class="p">))</span>
<span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="s2">&quot;Hola mundo&quot;</span><span class="w"> </span><span class="n">out-port</span><span class="p">)</span>
<span class="p">(</span><span class="nb">close-output-port</span><span class="w"> </span><span class="n">out-port</span><span class="p">)</span>

<span class="c1">;; Lee del archivo de nuevo</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="nb">in-port</span><span class="w"> </span><span class="p">(</span><span class="nb">open-input-file</span><span class="w"> </span><span class="s2">&quot;/tmp/tmp.txt&quot;</span><span class="p">))</span>
<span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="p">(</span><span class="nb">read-line</span><span class="w"> </span><span class="nb">in-port</span><span class="p">))</span>
<span class="c1">; =&gt; &quot;Hello World&quot;</span>
<span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="p">(</span><span class="nb">read-line</span><span class="w"> </span><span class="nb">in-port</span><span class="p">))</span>
<span class="c1">; =&gt; &quot;Hola mundo&quot;</span>
<span class="p">(</span><span class="nb">close-input-port</span><span class="w"> </span><span class="nb">in-port</span><span class="p">)</span>

<span class="c1">;; Alternativamente, haciendo uso de call-with-output-file no necesitas expresamente</span>
<span class="c1">;; cerrar el archivo</span>
<span class="p">(</span><span class="nb">call-with-output-file</span><span class="w"> </span><span class="s2">&quot;/tmp/tmp.txt&quot;</span>
<span class="w">  </span><span class="kd">#:exists</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">update</span><span class="w"> </span><span class="c1">; Rewrite the content</span>
<span class="w">  </span><span class="p">(</span><span class="k">λ</span><span class="w"> </span><span class="p">(</span><span class="n">out-port</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="s2">&quot;World Hello!&quot;</span><span class="w"> </span><span class="n">out-port</span><span class="p">)))</span>

<span class="c1">;; Y usar la función call-with-input-file hace lo mismo para la entrada</span>
<span class="p">(</span><span class="nb">call-with-input-file</span><span class="w"> </span><span class="s2">&quot;/tmp/tmp.txt&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="k">λ</span><span class="w"> </span><span class="p">(</span><span class="nb">in-port</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="p">(</span><span class="nb">read-line</span><span class="w"> </span><span class="nb">in-port</span><span class="p">))))</span>


<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>
<span class="c1">;; 12. Parametros</span>
<span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span>

<span class="c1">;; Racket tiene el concepto de &quot;parameter&quot;</span>
<span class="c1">;; El cual es un tipo de funcion similar un variable global entre modulos</span>

<span class="c1">;; Defino x y lo cambio localmente</span>
<span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">42</span><span class="p">)</span>
<span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="mi">43</span><span class="p">)</span>
<span class="n">x</span><span class="w"> </span><span class="c1">; 43</span>

<span class="c1">;; Ahora x es parte un modulo</span>
<span class="p">(</span><span class="k">module</span><span class="w"> </span><span class="n">mod</span><span class="w"> </span><span class="n">racket</span>
<span class="w">  </span><span class="p">(</span><span class="k">provide</span><span class="w"> </span><span class="n">x-mod</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">x-mod</span><span class="w"> </span><span class="mi">42</span><span class="p">))</span>
<span class="c1">;; incluyo x e intento cambiarlo</span>
<span class="p">(</span><span class="k">require</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">mod</span><span class="p">)</span>
<span class="n">x-mod</span><span class="w"> </span><span class="c1">; 42</span>
<span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="n">x-mod</span><span class="w"> </span><span class="mi">43</span><span class="p">)</span><span class="w"> </span><span class="c1">; error: cannot mutate x</span>
<span class="c1">;; Aca es donde tiene utilidad el uso de parametros</span>
<span class="p">(</span><span class="k">module</span><span class="w"> </span><span class="n">mod-param</span><span class="w"> </span><span class="n">racket</span>
<span class="w">  </span><span class="p">(</span><span class="k">provide</span><span class="w"> </span><span class="n">my-param</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">my-param</span><span class="w"> </span><span class="p">(</span><span class="nb">make-parameter</span><span class="w"> </span><span class="mi">42</span><span class="p">)))</span><span class="w"> </span><span class="c1">;; creo un parametro con (make-parameter &lt;valor-por-defecto&gt;)</span>

<span class="p">(</span><span class="k">require</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">mod-param</span><span class="p">)</span>
<span class="p">(</span><span class="n">my-param</span><span class="p">)</span><span class="w"> </span><span class="c1">; 42</span>
<span class="p">(</span><span class="n">my-param</span><span class="w"> </span><span class="mi">43</span><span class="p">)</span><span class="w"> </span><span class="c1">;; ahora el valor x es cambiado para todo el ambiente del modulo donde se esta ejecutando</span>
<span class="p">(</span><span class="n">my-param</span><span class="p">)</span><span class="w"> </span><span class="c1">; 43</span>
<span class="c1">;; Tambien puedo asignar un valor a un parametro en un ambiente local simil let</span>
<span class="c1">;; devuelve el ultimo valor del BODY (parameterize ([ID EXPR] BODY ...  )</span>
<span class="p">(</span><span class="k">parameterize</span>
<span class="w">    </span><span class="p">([</span><span class="w"> </span><span class="n">my-param</span><span class="w"> </span><span class="s2">&quot;un valor de tipo distinto&quot;</span><span class="p">])</span>
<span class="w">  </span><span class="p">(</span><span class="nb">displayln</span><span class="w"> </span><span class="p">(</span><span class="n">my-param</span><span class="p">)))</span>
<span class="s2">&quot;un valor de tipo distinto&quot;</span><span class="w"> </span><span class="c1">;; x cambio solo el ambiente local de parameterize</span>
<span class="p">(</span><span class="n">my-param</span><span class="p">)</span><span class="w"> </span><span class="c1">;; 43</span>
<span class="c1">;; mi modulo tiene un funcion con parametros que cambia su comportamiento según el parametro</span>
<span class="p">(</span><span class="k">module</span><span class="w"> </span><span class="n">my-mod</span><span class="w"> </span><span class="n">racket</span>
<span class="w">  </span><span class="p">(</span><span class="k">provide</span><span class="w"> </span><span class="n">my-add</span><span class="w"> </span><span class="n">verbose</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">verbose</span><span class="w"> </span><span class="p">(</span><span class="nb">make-parameter</span><span class="w"> </span><span class="no">#f</span><span class="p">))</span><span class="w"> </span><span class="c1">;; Parametro</span>
<span class="w">  </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="n">my-add</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="c1">;; funcion</span>
<span class="w">    </span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="p">))</span>
<span class="w">    </span><span class="p">(</span><span class="k">when</span><span class="w"> </span><span class="p">(</span><span class="n">verbose</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">display</span><span class="w"> </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="s2">&quot;verbose: (my-add ~a ~a) =&gt; ~a~n&quot;</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="n">result</span><span class="p">)))</span>
<span class="w">    </span><span class="n">result</span><span class="p">))</span><span class="w"> </span><span class="c1">;; creo un parametro con (make-parameter &lt;valor-por-defecto&gt;)</span>
<span class="p">(</span><span class="k">require</span><span class="w"> </span><span class="o">&#39;</span><span class="ss">my-mod</span><span class="p">)</span>
<span class="p">(</span><span class="n">my-add</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
<span class="c1">;; 7</span>
<span class="p">(</span><span class="n">verbose</span><span class="w"> </span><span class="no">#f</span><span class="p">)</span>
<span class="p">(</span><span class="n">my-add</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
<span class="c1">;; 7</span>
<span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="k">parameterize</span><span class="w"> </span><span class="p">([</span><span class="w"> </span><span class="n">verbose</span><span class="w"> </span><span class="no">#t</span><span class="p">])</span><span class="w">  </span><span class="p">(</span><span class="n">my-add</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p">)))</span>
<span class="c1">;; 8</span>
</pre></div>
<h2>Mas información</h2>
<p>¿Quieres saber mas? Prueba en <a href="http://docs.racket-lang.org/getting-started/">Empezando con Racket</a></p>

        <hr>
        <p>
          ¿Tienes una sugerencia o rectificación? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Abre un issue</a> en el repositorio de GitHub, o haz un <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/es/racket.md">pull request</a> tu mismo
        </p>
        <p class="contributed">
          Originalmente contribuido por th3rac25, y actualizado por <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/es/racket.md">2 colaboradores</a>.
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 80px; height: 28px; padding-bottom: 5px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="https://github.com/voila">th3rac25</a>,
            <a href="https://github.com/elibarzilay">Eli Barzilay</a>,
            <a href="https://github.com/gustavoschmidt">Gustavo Schmidt</a>,
            <a href="https://github.com/cmpitg">Duong H. Nguyen</a>,
            <a href="https://github.com/keyanzhang">Keyan Zhang</a>
          </p>
        </footer>
      </div>
    </div>
  </body>
</html>