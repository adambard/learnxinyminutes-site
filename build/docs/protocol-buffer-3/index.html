<!DOCTYPE html lang="en-us" xml:lang="en-us" xmlns="http://www.w3.org/1999/xhtml">
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta http-equiv="Content-Language" content="en-us">
        <!-- Use title if it's in the page YAML frontmatter -->
        <title>Learn protocol-buffers in Y Minutes</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="/css/index.css">

        <link rel="canonical" href="https://learnxinyminutes.com/docs/protocol-buffer-3/">
        <script>
            var THEME_KEY = "lxiym_theme";
            function set_theme(theme) {
                var el = document.getElementsByTagName("html")[0];
                if (!el) {
                  return;
                }

                if (theme === "dark" ) {
                    el.className = "dark";
                } else {
                    el.className = "light";
                }

                localStorage.setItem(THEME_KEY, theme);
            }

            function load_theme() {
              var theme = localStorage.getItem(THEME_KEY);
              if (theme) {
                set_theme(theme);
              }
            }

            // Attempt immediate application of html style
            load_theme();

            // Backup: do it onload. Will flash, but better than nothing.
            window.addEventListener("load", function(){
              load_theme();
            });
        </script>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <div class="container">
            <div class="share">
    <span class="sharemsg">
      <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fdocs%2Fprotocol-buffer-3%2F&text=Learn+X+in+Y+minutes%2C+where+X%3Dprotocol-buffers">
        Share this page
      </a></span>

      <span class='st_facebook_large' displayText='Facebook'></span>
      <span class='st_twitter_large' displayText='Tweet'></span>
  </div>
  <div class="theme-choice">
    <label id="theme-label">Select theme:</label>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('light');">light</button>
    <button type="button" aria-labelledby="theme-label" onclick="set_theme('dark');">dark</button>
  </div>
  <h1><a href="/">Learn X in Y minutes</a></h1>
  <h2>Where X=protocol-buffers</h2>
    <p class="filelink">
    Get the code:
    <a href="/docs/files/protocol-buffers.proto">protocol-buffers.proto</a>
    </p>
  <div id="doc">
    <h1>Protocol Buffers</h1>

<h2>Why Protocol Buffers</h2>

<p>Protocol buffers are Google&rsquo;s language-neutral, platform-neutral, extensible mechanism for serializing structured data â€“ think XML, but smaller, faster, and simpler.
You define how you want your data to be structured once, then you can use special generated source code to easily write and read your structured data to and from a variety of data streams and using a variety of languages.
Protocol Buffers are Schema Of Messages. They are language agnostic.
They can be converted to binary and converted back to message formats using the code generated by the protoc compiler for various languages.</p>
<div class="highlight"><pre class="highlight mosel"><code><span class="p">/*</span>
<span class="p">*</span> <span class="n">Language</span> <span class="n">Syntax</span>
<span class="p">*/</span>

<span class="p">/*</span>
<span class="p">*</span> <span class="n">Specifying</span> <span class="n">Syntax</span> <span class="k">Of</span> <span class="n">Protocol</span> <span class="n">Buffer</span> <span class="k">Version</span>
<span class="p">*</span> <span class="n">Specifying</span> <span class="n">Which</span> <span class="n">Protocol</span> <span class="n">Buffer</span> <span class="k">Version</span> <span class="k">To</span> <span class="n">Use</span>
<span class="p">*</span> <span class="n">It</span> <span class="n">can</span> <span class="n">be</span> <span class="n">usually</span> <span class="n">proto3</span> <span class="k">or</span> <span class="n">proto2</span>
<span class="p">*/</span>
<span class="n">syntax</span> <span class="p">=</span> <span class="s2">"proto3"</span><span class="p">;</span>

<span class="p">/*</span>
<span class="p">*</span> <span class="n">Declaring</span> <span class="n">Message</span> <span class="k">In</span> <span class="n">Protocol</span> <span class="n">Buffer</span><span class="p">:</span>
<span class="p">*</span> <span class="k">As</span> <span class="n">you</span> <span class="n">can</span> <span class="n">see</span><span class="p">,</span> <span class="n">each</span> <span class="n">field</span> <span class="k">in</span> <span class="n">the</span> <span class="n">message</span> <span class="n">definition</span> <span class="n">has</span> <span class="n">a</span> <span class="n">unique</span> <span class="n">number</span><span class="p">.</span>
<span class="p">*</span> <span class="n">These</span> <span class="n">field</span> <span class="n">numbers</span> <span class="n">are</span> <span class="n">used</span> <span class="k">to</span> <span class="n">identify</span> <span class="n">your</span> <span class="n">fields</span> <span class="k">in</span> <span class="n">the</span> <span class="n">message</span> <span class="n">binary</span> <span class="n">format</span><span class="p">,</span>
<span class="p">*</span> <span class="k">and</span> <span class="n">should</span> <span class="k">not</span> <span class="n">be</span> <span class="n">changed</span> <span class="n">once</span> <span class="n">your</span> <span class="n">message</span> <span class="n">type</span> <span class="n">is</span> <span class="k">in</span> <span class="n">use</span><span class="p">.</span>
<span class="p">*</span> <span class="n">Note</span> <span class="n">that</span> <span class="n">field</span> <span class="n">numbers</span> <span class="k">in</span> <span class="n">the</span> <span class="k">range</span> <span class="m">1</span> <span class="n">through</span> <span class="m">15</span> <span class="n">take</span> <span class="n">one</span> <span class="n">byte</span> <span class="k">to</span> <span class="n">encode</span><span class="p">,</span> <span class="n">including</span> <span class="n">the</span> <span class="n">field</span> <span class="n">number</span> <span class="k">and</span> <span class="n">the</span> <span class="n">field</span><span class="s1">'s type (you can find out more about this in Protocol Buffer Encoding).
* Field numbers in the range 16 through 2047 take two bytes. So you should reserve the numbers 1 through 15 for very frequently occurring message elements.
* Remember to leave some room for frequently occurring elements that might be added in the future.
* The smallest field number you can specify is 1, and the largest is 2^29 - 1, or 536,870,911.
* You also cannot use the numbers 19000 through 19999 (FieldDescriptor::kFirstReservedNumber through FieldDescriptor::kLastReservedNumber),
* as they are reserved for the Protocol Buffers implementation - the protocol buffer compiler will complain if you use one of these reserved numbers in your .proto.
* Similarly, you cannot use any previously reserved field numbers.
*
*/

/*
Syntax For Declaring Message:
    message ${MessageName} {
        ${Scalar Value Type} ${FieldName1} = ${Tag Number1};
                .
                .
                .
        ${Scalar Value Type} ${FieldNameN} = ${Tag NumberN};
    }

Default Values Will be applied any case if the message doesn'</span><span class="n">t</span> <span class="n">contain</span> <span class="n">a</span> <span class="n">existing</span> <span class="n">field</span> <span class="n">defined</span>
<span class="k">in</span> <span class="n">the</span> <span class="n">message</span> <span class="n">definition</span>
<span class="p">*/</span>

<span class="n">message</span> <span class="n">MessageTypes</span> <span class="p">{</span>
    <span class="p">/*</span>
    <span class="p">*</span> <span class="n">Scalar</span> <span class="n">Value</span> <span class="n">Types</span>
    <span class="p">*/</span>
    <span class="k">string</span> <span class="n">stringType</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="p">//</span> <span class="n">A</span> <span class="k">string</span> <span class="n">must</span> <span class="n">always</span> <span class="n">contain</span> <span class="n">UTF</span><span class="p">-</span><span class="m">8</span> <span class="n">encoded</span> <span class="k">or</span> <span class="m">7</span><span class="p">-</span><span class="n">bit</span> <span class="n">ASCII</span> <span class="n">text</span><span class="p">.</span> <span class="n">Default</span> <span class="n">value</span> <span class="p">=</span> <span class="s2">""</span>

    <span class="p">//</span> <span class="n">Number</span> <span class="n">Types</span><span class="p">,</span> <span class="n">Default</span> <span class="n">Value</span> <span class="p">=</span> <span class="m">0</span>
    <span class="n">int32</span> <span class="n">int32Type</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span> <span class="p">//</span> <span class="k">Uses</span> <span class="n">Variable</span> <span class="n">Length</span> <span class="n">Encoding</span><span class="p">.</span> <span class="n">Inefficient</span> <span class="n">For</span> <span class="n">Negative</span> <span class="n">Numbers</span><span class="p">,</span> <span class="n">Instead</span> <span class="n">Use</span> <span class="n">sint32</span><span class="p">.</span>
    <span class="n">int64</span> <span class="n">int64Type</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span> <span class="p">//</span> <span class="k">Uses</span> <span class="n">Variable</span> <span class="n">Length</span> <span class="n">Encoding</span><span class="p">.</span> <span class="n">Inefficient</span> <span class="n">For</span> <span class="n">Negative</span> <span class="n">Numbers</span><span class="p">,</span> <span class="n">Instead</span> <span class="n">Use</span> <span class="n">sint64</span><span class="p">.</span>
    <span class="n">uint32</span> <span class="n">uInt32Type</span> <span class="p">=</span> <span class="m">4</span><span class="p">;</span> <span class="p">//</span> <span class="k">Uses</span> <span class="n">Variable</span> <span class="n">Length</span> <span class="n">Encoding</span>
    <span class="n">uint64</span> <span class="n">uInt64Type</span> <span class="p">=</span> <span class="m">5</span><span class="p">;</span> <span class="p">//</span> <span class="k">Uses</span> <span class="n">Variable</span> <span class="n">Length</span> <span class="n">Encoding</span>
    <span class="n">sint32</span> <span class="n">sInt32Type</span> <span class="p">=</span> <span class="m">6</span><span class="p">;</span> <span class="p">//</span> <span class="k">Uses</span> <span class="n">Variable</span> <span class="n">Length</span> <span class="n">Encoding</span><span class="p">.</span> <span class="n">They</span> <span class="n">are</span> <span class="n">efficient</span> <span class="k">in</span> <span class="n">encoding</span> <span class="n">for</span> <span class="n">negative</span> <span class="n">numbers</span><span class="p">.</span>
                           <span class="p">//</span> <span class="n">Use</span> <span class="n">this</span> <span class="n">instead</span> <span class="k">of</span> <span class="n">int32</span> <span class="n">for</span> <span class="n">negative</span> <span class="n">numbers</span>
    <span class="n">sint64</span> <span class="n">sInt64Type</span> <span class="p">=</span> <span class="m">7</span><span class="p">;</span> <span class="p">//</span> <span class="k">Uses</span> <span class="n">Variable</span> <span class="n">Length</span> <span class="n">Encoding</span><span class="p">.</span> <span class="n">They</span> <span class="n">are</span> <span class="n">efficient</span> <span class="k">in</span> <span class="n">encoding</span> <span class="n">for</span> <span class="n">negative</span> <span class="n">numbers</span><span class="p">.</span>
    <span class="p">//</span> <span class="n">Use</span> <span class="n">this</span> <span class="n">instead</span> <span class="k">of</span> <span class="n">int64</span> <span class="n">for</span> <span class="n">negative</span> <span class="n">numbers</span><span class="p">.</span>

    <span class="n">fixed32</span> <span class="n">fixed32Type</span> <span class="p">=</span> <span class="m">8</span><span class="p">;</span> <span class="p">//</span> <span class="n">Always</span> <span class="n">four</span> <span class="n">bytes</span><span class="p">.</span> <span class="n">More</span> <span class="n">efficient</span> <span class="n">than</span> <span class="n">uint32</span> <span class="k">if</span> <span class="n">values</span> <span class="n">are</span> <span class="n">often</span> <span class="n">greater</span> <span class="n">than</span> <span class="m">2</span><span class="p">^</span><span class="m">28.</span>
    <span class="n">fixed64</span> <span class="n">fixed64Type</span> <span class="p">=</span> <span class="m">9</span><span class="p">;</span> <span class="p">//</span> <span class="n">Always</span> <span class="n">eight</span> <span class="n">bytes</span><span class="p">.</span> <span class="n">More</span> <span class="n">efficient</span> <span class="n">than</span> <span class="n">uint64</span> <span class="k">if</span> <span class="n">values</span> <span class="n">are</span> <span class="n">often</span> <span class="n">greater</span> <span class="n">than</span> <span class="m">2</span><span class="p">^</span><span class="m">56</span>

    <span class="n">sfixed32</span> <span class="n">sfixed32Type</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span> <span class="p">//</span> <span class="n">Always</span> <span class="n">four</span> <span class="n">bytes</span><span class="p">.</span>
    <span class="n">sfixed64</span> <span class="n">sfixed64Type</span> <span class="p">=</span> <span class="m">11</span><span class="p">;</span> <span class="p">//</span> <span class="n">Always</span> <span class="n">Eight</span> <span class="n">bytes</span><span class="p">.</span>

    <span class="n">bool</span> <span class="n">boolType</span> <span class="p">=</span> <span class="m">12</span><span class="p">;</span> <span class="p">//</span> <span class="k">Boolean</span> <span class="n">Type</span><span class="p">.</span> <span class="n">Default</span> <span class="n">Value</span> <span class="p">=</span> <span class="nb">false</span>

    <span class="n">bytes</span> <span class="n">bytesType</span> <span class="p">=</span> <span class="m">13</span><span class="p">;</span> <span class="p">//</span> <span class="n">May</span> <span class="n">contain</span> <span class="n">any</span> <span class="n">arbitrary</span> <span class="n">sequence</span> <span class="k">of</span> <span class="n">bytes</span><span class="p">.</span> <span class="n">Default</span> <span class="n">Value</span> <span class="p">=</span> <span class="n">Empty</span> <span class="n">Bytes</span>

    <span class="n">double</span> <span class="n">doubleType</span> <span class="p">=</span> <span class="m">14</span><span class="p">;</span>
    <span class="n">float</span> <span class="n">floatType</span> <span class="p">=</span> <span class="m">15</span><span class="p">;</span>

    <span class="n">enum</span> <span class="n">Week</span> <span class="p">{</span>
        <span class="n">UNDEFINED</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="p">//</span> <span class="n">Tag</span> <span class="m">0</span> <span class="n">is</span> <span class="n">always</span> <span class="n">used</span> <span class="k">as</span> <span class="n">default</span> <span class="k">in</span> <span class="k">case</span> <span class="k">of</span> <span class="n">enum</span>
        <span class="n">SUNDAY</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
        <span class="n">MONDAY</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span>
        <span class="n">TUESDAY</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>
        <span class="n">WEDNESDAY</span> <span class="p">=</span> <span class="m">4</span><span class="p">;</span>
        <span class="n">THURSDAY</span> <span class="p">=</span> <span class="m">5</span><span class="p">;</span>
        <span class="n">FRIDAY</span> <span class="p">=</span> <span class="m">6</span><span class="p">;</span>
        <span class="n">SATURDAY</span> <span class="p">=</span> <span class="m">7</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">Week</span> <span class="n">wkDayType</span> <span class="p">=</span> <span class="m">16</span><span class="p">;</span>

    <span class="p">/*</span>
    <span class="p">*</span> <span class="n">Defining</span> <span class="n">Collection</span> <span class="k">Of</span> <span class="n">Scalar</span> <span class="n">Value</span> <span class="n">Type</span>
    <span class="p">*</span> <span class="n">Syntax</span><span class="p">:</span> <span class="n">repeated</span> <span class="p">${</span><span class="n">ScalarType</span><span class="p">}</span> <span class="p">${</span><span class="n">name</span><span class="p">}</span> <span class="p">=</span> <span class="n">TagValue</span>
    <span class="p">*/</span>
    <span class="n">repeated</span> <span class="k">string</span> <span class="n">listOfString</span> <span class="p">=</span> <span class="m">17</span><span class="p">;</span> <span class="p">//</span> <span class="k">List</span><span class="p">[</span><span class="k">String</span><span class="p">]</span>
<span class="p">}</span>

<span class="p">/*</span>
<span class="p">*</span> <span class="n">Defining</span> <span class="n">Defined</span> <span class="n">Message</span> <span class="n">Types</span> <span class="k">In</span> <span class="n">Other</span> <span class="n">Message</span> <span class="n">Definition</span>
<span class="p">*/</span>
<span class="n">message</span> <span class="n">Person</span> <span class="p">{</span>
    <span class="k">string</span> <span class="n">fname</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
    <span class="k">string</span> <span class="n">sname</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">message</span> <span class="n">City</span> <span class="p">{</span>
    <span class="n">Person</span> <span class="n">p</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">/*</span>
<span class="p">*</span> <span class="n">Nested</span> <span class="n">Message</span> <span class="n">Definitions</span>
<span class="p">*/</span>

<span class="n">message</span> <span class="n">NestedMessages</span> <span class="p">{</span>
    <span class="n">message</span> <span class="n">FirstLevelNestedMessage</span> <span class="p">{</span>
        <span class="k">string</span> <span class="n">firstString</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
        <span class="n">message</span> <span class="n">SecondLevelNestedMessage</span> <span class="p">{</span>
            <span class="k">string</span> <span class="n">secondString</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">FirstLevelNestedMessage</span> <span class="n">msg</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
    <span class="n">FirstLevelNestedMessage</span><span class="p">.</span><span class="n">SecondLevelNestedMessage</span> <span class="n">msg2</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">/*</span>
<span class="p">*</span> <span class="n">Importing</span> <span class="n">Message</span> <span class="k">From</span> <span class="n">A</span> <span class="n">File</span>
<span class="p">*/</span>

<span class="p">//</span> <span class="n">one</span><span class="p">.</span><span class="n">proto</span>
<span class="p">//</span> <span class="n">message</span> <span class="n">One</span> <span class="p">{</span>
<span class="p">//</span>     <span class="k">string</span> <span class="n">oneMsg</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="p">//</span> <span class="p">}</span>

<span class="p">//</span> <span class="n">two</span><span class="p">.</span><span class="n">proto</span>
<span class="p">//</span>  <span class="n">import</span> <span class="s2">"myproject/one.proto"</span>
<span class="p">//</span>  <span class="n">message</span> <span class="n">Two</span> <span class="p">{</span>
<span class="p">//</span>       <span class="k">string</span> <span class="n">twoMsg</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span>
<span class="p">//</span>  <span class="p">}</span>


<span class="p">/*</span>
<span class="p">*</span> <span class="n">Advanced</span> <span class="n">Topics</span>
<span class="p">*/</span>

<span class="p">/*</span>
<span class="p">*</span> <span class="n">Handling</span> <span class="n">Message</span> <span class="n">Type</span> <span class="n">Changes</span><span class="p">:</span>
<span class="p">*</span> <span class="n">Never</span> <span class="n">Change</span><span class="p">/</span><span class="n">Use</span> <span class="n">The</span> <span class="n">TagNumber</span> <span class="k">Of</span> <span class="n">A</span> <span class="n">Message</span> <span class="n">Field</span> <span class="n">Which</span> <span class="n">Was</span> <span class="n">Removed</span>
<span class="p">*</span> <span class="n">We</span> <span class="n">should</span> <span class="n">use</span> <span class="n">reserved</span> <span class="k">in</span> <span class="k">case</span> <span class="k">of</span> <span class="n">message</span> <span class="n">definition</span> <span class="n">update</span><span class="p">.</span>
<span class="p">*</span> <span class="p">(</span><span class="n">https</span><span class="p">://</span><span class="n">developers</span><span class="p">.</span><span class="n">google</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">protocol</span><span class="p">-</span><span class="n">buffers</span><span class="p">/</span><span class="n">docs</span><span class="p">/</span><span class="n">proto3</span><span class="p">#</span><span class="n">updating</span><span class="p">)</span>
<span class="p">*/</span>

<span class="p">/*</span>
<span class="p">*</span> <span class="n">Reserved</span> <span class="n">Fields</span>
<span class="p">*</span> <span class="n">It</span><span class="s1">'s used in case if we need to add/remove new fields into message.
* Using Reserved Backward and Forward Compatibility Of Messages can be achieved
*/


message ReservedMessage {
    reserved 0, 1, 2, 3 to 10; // Set Of Tag Numbers Which Can'</span><span class="n">t</span> <span class="n">be</span> <span class="n">reused</span><span class="p">.</span>
    <span class="n">reserved</span> <span class="s2">"firstMsg"</span><span class="p">,</span> <span class="s2">"secondMsg"</span><span class="p">,</span> <span class="s2">"thirdMsg"</span><span class="p">;</span> <span class="p">//</span> <span class="k">Set</span> <span class="k">Of</span> <span class="n">Labels</span> <span class="n">Which</span> <span class="n">Can</span><span class="s1">'t Be reused.
}

/*
* Any
* The Any message type lets you use messages as embedded types without having their .proto definition.
* An Any contains an arbitrary serialized message as bytes,
* along with a URL that acts as a globally unique identifier for and resolves to that message'</span><span class="n">s</span> <span class="n">type</span><span class="p">.</span>
<span class="p">*</span> <span class="n">For</span> <span class="n">Any</span> <span class="k">to</span> <span class="n">work</span> <span class="n">we</span> <span class="n">need</span> <span class="k">to</span> <span class="n">import</span> <span class="n">it</span> <span class="k">as</span> <span class="n">shown</span> <span class="n">below</span><span class="p">.</span>
<span class="p">*/</span>
<span class="p">/*</span>
    <span class="n">import</span> <span class="s2">"google/protobuf/any.proto"</span><span class="p">;</span>
    <span class="n">message</span> <span class="n">AnySampleMessage</span> <span class="p">{</span>
        <span class="n">repeated</span> <span class="n">google</span><span class="p">.</span><span class="n">protobuf</span><span class="p">.</span><span class="n">Any</span><span class="p">.</span><span class="n">details</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
    <span class="p">}</span>

<span class="p">*/</span>


<span class="p">/*</span>
<span class="p">*</span>  <span class="n">OneOf</span>
<span class="p">*</span> <span class="n">There</span> <span class="n">are</span> <span class="n">cases</span><span class="p">,</span> <span class="n">wherein</span> <span class="n">only</span> <span class="n">one</span> <span class="n">field</span> <span class="n">at</span><span class="p">-</span><span class="n">most</span> <span class="n">might</span> <span class="n">be</span> <span class="n">present</span> <span class="k">as</span> <span class="n">part</span> <span class="k">of</span> <span class="n">the</span> <span class="n">message</span><span class="p">.</span>
<span class="p">*</span> <span class="n">Note</span><span class="p">:</span> <span class="n">OneOf</span> <span class="n">messages</span> <span class="n">can</span><span class="s1">'t be repeated.
*/

message OneOfMessage {
    oneof msg {
        string fname = 1;
        string sname = 2;
    };
}

/*
* Maps
* Map fields cannot be repeated.
* Ordering Of A Map Is Not Guaranteed.
*/

message MessageWithMaps {
    map&lt;string, string&gt; mapOfMessages = 1;
}


/*
* Packages
* Used for preventing name clashes between protocol message types
* Syntax:
    package ${packageName};

    To Access the package;
    ${packageName}.${messageName} = ${tagNumber};
*/

/*
* Services
* Message Types Defined For Using In RPC system.
*  When protoc compiler generates for various languages it generates stub methods for the services.
*/

message SearchRequest {
    string queryString = 1;
}

message SearchResponse {
    string queryResponse = 1;
}
service SearchService {
    rpc Search (SearchRequest) returns (SearchResponse);
}
</span></code></pre></div>
<h2>Generating Classes In Various Languages For Protocol Buffers</h2>
<div class="highlight"><pre class="highlight shell"><code>protoc <span class="nt">--proto_path</span><span class="o">=</span>IMPORT_PATH <span class="nt">--cpp_out</span><span class="o">=</span>DST_DIR <span class="nt">--java_out</span><span class="o">=</span>DST_DIR <span class="nt">--python_out</span><span class="o">=</span>DST_DIR <span class="nt">--go_out</span><span class="o">=</span>DST_DIR <span class="nt">--ruby_out</span><span class="o">=</span>DST_DIR <span class="nt">--objc_out</span><span class="o">=</span>DST_DIR <span class="nt">--csharp_out</span><span class="o">=</span>DST_DIR path/to/file.proto
</code></pre></div>
<h2>References</h2>

<p><a href="https://developers.google.com/protocol-buffers/">Google Protocol Buffers</a></p>

    <hr>
    <p>Got a suggestion? A correction, perhaps? <a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">Open an Issue</a> on the Github Repo, or make a <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/protocol-buffer-3.html.markdown">pull request</a> yourself!
    </p>
    <p class="contributed">
    Originally contributed by Shankar Shastri, and updated by <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/protocol-buffer-3.html.markdown">0 contributor(s)</a>.
    </p>

    <footer>
    <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
    <p>
    &copy; 2024
        <a href="https://github.com/shankarshastri">Shankar Shastri</a>
    </p>

    <p>

    </footer>
  </div>

        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="/js/script.js"></script>

        <script>
            var _gaq=[['_setAccount','UA-3525624-21'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>
    </body>
</html>
