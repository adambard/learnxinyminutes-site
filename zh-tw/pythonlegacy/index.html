<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WXC8R75DEN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-WXC8R75DEN');
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Language" content="zh-TW">
    <title>Learn Python 2 (legacy) in Y Minutes</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Slab:wght@100..900&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="stylesheet" href="/css/light.css">
    <link rel="stylesheet" href="/css/dark.css">

    <link rel="canonical" href="https://learnxinyminutes.com/zh-tw/pythonlegacy/">
    <script>
      localStorage.removeItem("lxiym_theme");
    </script>
  </head>
  <body>
    <div class="container">
      <div class="share">
        <span class="sharemsg">
          <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Flearnxinyminutes.com%2Fzh-tw%2Fpythonlegacy%2F&amp;text=Y%E5%88%86%E9%90%98%E9%80%9F%E6%88%90X%2C+%E5%85%B6%E4%B8%AD+X%3DPython+2+%28legacy%29">
            分享此页
          </a>
        </span>
        <span class='st_facebook_large' displayText='Facebook'></span>
        <span class='st_twitter_large' displayText='Tweet'></span>
      </div>
      <h1><a href="/">Y分鐘速成X</a></h1>
      <h2>其中 X=Python 2 (legacy)</h2>
      <p class="filelink">
        原始碼下载：
        <a href="/zh-tw/files/learnpythonlegacy.py">learnpythonlegacy.py</a>
      </p>
      <div id="doc">
<p>Python是在1990年代早期由Guido Van Rossum創建的。它是現在最流行的程式語言之一。我愛上Python是因為他極為清晰的語法，甚至可以說它就是可執行的虛擬碼。</p>
<p>註： 本篇文章適用的版本為Python 2.7，但大部分的Python 2.X版本應該都適用。 Python 2.7將會在2020年停止維護，因此建議您可以從Python 3開始學Python。
Python 3.X可以看這篇<a href="/python/">Python 3 教學 (英文)</a>.</p>
<p>讓程式碼同時支援Python 2.7和3.X是可以做到的，只要引入
<a href="https://docs.python.org/2/library/__future__.html"><code>__future__</code> imports</a> 模組.
<code>__future__</code> 模組允許你撰寫可以在Python 2上執行的Python 3程式碼，詳細訊息請參考Python 3 教學。</p>
<div class="highlight"><pre lang="python"><span class="c1"># 單行註解從井字號開始</span>

<span class="sd">&quot;&quot;&quot; 多行字串可以用三個雙引號</span>
<span class="sd">    包住，不過通常這種寫法會</span>
<span class="sd">    被拿來當作多行註解</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1">####################################################</span>
<span class="c1">## 1. 原始型別與運算元</span>
<span class="c1">####################################################</span>

<span class="c1"># 你可以使用數字</span>
<span class="mi">3</span>  <span class="c1"># =&gt; 3</span>

<span class="c1"># 還有四則運算</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>  <span class="c1"># =&gt; 2</span>
<span class="mi">8</span> <span class="o">-</span> <span class="mi">1</span>  <span class="c1"># =&gt; 7</span>
<span class="mi">10</span> <span class="o">*</span> <span class="mi">2</span>  <span class="c1"># =&gt; 20</span>
<span class="mi">35</span> <span class="o">/</span> <span class="mi">5</span>  <span class="c1"># =&gt; 7</span>

<span class="c1"># 除法比較麻煩，除以整數時會自動捨去小數位。</span>
<span class="mi">5</span> <span class="o">/</span> <span class="mi">2</span>  <span class="c1"># =&gt; 2</span>

<span class="c1"># 要做精確的除法，我們需要浮點數</span>
<span class="mf">2.0</span>     <span class="c1"># 浮點數</span>
<span class="mf">11.0</span> <span class="o">/</span> <span class="mf">4.0</span>  <span class="c1"># =&gt; 2.75 精確多了！</span>

<span class="c1"># 整數除法的無條件捨去對正數或負數都適用</span>
<span class="mi">5</span> <span class="o">//</span> <span class="mi">3</span>     <span class="c1"># =&gt; 1</span>
<span class="mf">5.0</span> <span class="o">//</span> <span class="mf">3.0</span> <span class="c1"># =&gt; 1.0 # 浮點數的整數也適用</span>
<span class="o">-</span><span class="mi">5</span> <span class="o">//</span> <span class="mi">3</span>  <span class="c1"># =&gt; -2</span>
<span class="o">-</span><span class="mf">5.0</span> <span class="o">//</span> <span class="mf">3.0</span> <span class="c1"># =&gt; -2.0</span>

<span class="c1"># 我們可以用除法模組(參考第六節:模組)，讓</span>
<span class="c1"># 單一斜線代表普通除法，而非無條件捨去</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">division</span>
<span class="mi">11</span><span class="o">/</span><span class="mi">4</span>    <span class="c1"># =&gt; 2.75  ...普通除法</span>
<span class="mi">11</span><span class="o">//</span><span class="mi">4</span>   <span class="c1"># =&gt; 2 ...無條件捨去</span>

<span class="c1"># 取餘數</span>
<span class="mi">7</span> <span class="o">%</span> <span class="mi">3</span> <span class="c1"># =&gt; 1</span>

<span class="c1"># 指數 (x的y次方)</span>
<span class="mi">2</span><span class="o">**</span><span class="mi">4</span> <span class="c1"># =&gt; 16</span>

<span class="c1"># 用括號改變運算順序</span>
<span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span>  <span class="c1"># =&gt; 8</span>

<span class="c1"># 布林運算</span>
<span class="c1"># 注意 &quot;and&quot; 和 &quot;or&quot; 要用小寫</span>
<span class="kc">True</span> <span class="ow">and</span> <span class="kc">False</span> <span class="c1">#=&gt; False</span>
<span class="kc">False</span> <span class="ow">or</span> <span class="kc">True</span> <span class="c1">#=&gt; True</span>

<span class="c1"># 用整數與布林值做運算</span>
<span class="mi">0</span> <span class="ow">and</span> <span class="mi">2</span> <span class="c1">#=&gt; 0</span>
<span class="o">-</span><span class="mi">5</span> <span class="ow">or</span> <span class="mi">0</span> <span class="c1">#=&gt; -5</span>
<span class="mi">0</span> <span class="o">==</span> <span class="kc">False</span> <span class="c1">#=&gt; True</span>
<span class="mi">2</span> <span class="o">==</span> <span class="kc">True</span> <span class="c1">#=&gt; False</span>
<span class="mi">1</span> <span class="o">==</span> <span class="kc">True</span> <span class="c1">#=&gt; True</span>

<span class="c1"># 用not取反向</span>
<span class="ow">not</span> <span class="kc">True</span>  <span class="c1"># =&gt; False</span>
<span class="ow">not</span> <span class="kc">False</span>  <span class="c1"># =&gt; True</span>

<span class="c1"># 等於判斷是用 ==</span>
<span class="mi">1</span> <span class="o">==</span> <span class="mi">1</span>  <span class="c1"># =&gt; True</span>
<span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>  <span class="c1"># =&gt; False</span>

<span class="c1"># 不等於判斷是用 !=</span>
<span class="mi">1</span> <span class="o">!=</span> <span class="mi">1</span>  <span class="c1"># =&gt; False</span>
<span class="mi">2</span> <span class="o">!=</span> <span class="mi">1</span>  <span class="c1"># =&gt; True</span>

<span class="c1"># 更多比較</span>
<span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">10</span>  <span class="c1"># =&gt; True</span>
<span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">10</span>  <span class="c1"># =&gt; False</span>
<span class="mi">2</span> <span class="o">&lt;=</span> <span class="mi">2</span>  <span class="c1"># =&gt; True</span>
<span class="mi">2</span> <span class="o">&gt;=</span> <span class="mi">2</span>  <span class="c1"># =&gt; True</span>

<span class="c1"># 比較是可以串接的</span>
<span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">3</span>  <span class="c1"># =&gt; True</span>
<span class="mi">2</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="o">&lt;</span> <span class="mi">2</span>  <span class="c1"># =&gt; False</span>

<span class="c1"># 字串用單引號 &#39; 或雙引號 &quot; 建立</span>
<span class="s2">&quot;This is a string.&quot;</span>
<span class="s1">&#39;This is also a string.&#39;</span>

<span class="c1"># 字串相加會被串接再一起</span>
<span class="s2">&quot;Hello &quot;</span> <span class="o">+</span> <span class="s2">&quot;world!&quot;</span>  <span class="c1"># =&gt; &quot;Hello world!&quot;</span>
<span class="c1"># 不用加號也可以做字串相加</span>
<span class="s2">&quot;Hello &quot;</span> <span class="s2">&quot;world!&quot;</span>  <span class="c1"># =&gt; &quot;Hello world!&quot;</span>

<span class="c1"># ... 也可以做相乘</span>
<span class="s2">&quot;Hello&quot;</span> <span class="o">*</span> <span class="mi">3</span>  <span class="c1"># =&gt; &quot;HelloHelloHello&quot;</span>

<span class="c1"># 字串可以被視為字元的陣列</span>
<span class="s2">&quot;This is a string&quot;</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># =&gt; &#39;T&#39;</span>

<span class="c1"># 字串的格式化可以用百分之符號 %</span>
<span class="c1"># 儘管在Python 3.1後這個功能被廢棄了，並且在</span>
<span class="c1"># 之後的版本會被移除，但還是可以了解一下</span>
<span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;apple&#39;</span>
<span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;lemon&#39;</span>
<span class="n">z</span> <span class="o">=</span> <span class="s2">&quot;The items in the basket are </span><span class="si">%s</span><span class="s2"> and </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># 新的格式化方式是使用format函式</span>
<span class="c1"># 這個方式也是較為推薦的</span>
<span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> is a </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;This&quot;</span><span class="p">,</span> <span class="s2">&quot;placeholder&quot;</span><span class="p">)</span>
<span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> can be </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;strings&quot;</span><span class="p">,</span> <span class="s2">&quot;formatted&quot;</span><span class="p">)</span>
<span class="c1"># 你也可以用關鍵字，如果你不想數你是要用第幾個變數的話</span>
<span class="s2">&quot;</span><span class="si">{name}</span><span class="s2"> wants to eat </span><span class="si">{food}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="n">food</span><span class="o">=</span><span class="s2">&quot;lasagna&quot;</span><span class="p">)</span>

<span class="c1"># 無(None) 是一個物件</span>
<span class="kc">None</span>  <span class="c1"># =&gt; None</span>

<span class="c1"># 不要用等於符號 &quot;==&quot; 對 無(None)做比較</span>
<span class="c1"># 用 &quot;is&quot; </span>
<span class="s2">&quot;etc&quot;</span> <span class="ow">is</span> <span class="kc">None</span>  <span class="c1"># =&gt; False</span>
<span class="kc">None</span> <span class="ow">is</span> <span class="kc">None</span>  <span class="c1"># =&gt; True</span>

<span class="c1"># &#39;is&#39; 運算元是用來識別物件的。對原始型別來說或許沒什麼用，</span>
<span class="c1"># 但對物件來說是很有用的。</span>

<span class="c1"># 任何物件都可以被當作布林值使用</span>
<span class="c1"># 以下的值會被視為是False :</span>
<span class="c1">#    - 無(None)</span>
<span class="c1">#    - 任何型別的零 (例如: 0, 0L, 0.0, 0j)</span>
<span class="c1">#    - 空序列 (例如: &#39;&#39;, (), [])</span>
<span class="c1">#    - 空容器 (例如: {}, set())</span>
<span class="c1">#    - 自定義型別的實體，且滿足某些條件</span>
<span class="c1">#      請參考文件: https://docs.python.org/2/reference/datamodel.html#object.__nonzero__</span>
<span class="c1">#</span>
<span class="c1"># 其餘的值都會被視為True (用bool()函式讓他們回傳布林值).</span>
<span class="nb">bool</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># =&gt; False</span>
<span class="nb">bool</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="c1"># =&gt; False</span>


<span class="c1">####################################################</span>
<span class="c1">## 2. 變數與集合</span>
<span class="c1">####################################################</span>

<span class="c1"># Python的輸出很方便</span>
<span class="nb">print</span> <span class="s2">&quot;I&#39;m Python. Nice to meet you!&quot;</span> <span class="c1"># =&gt; I&#39;m Python. Nice to meet you!</span>

<span class="c1"># 從命令列獲得值也很方便</span>
<span class="n">input_string_var</span> <span class="o">=</span> <span class="n">raw_input</span><span class="p">(</span><span class="s2">&quot;Enter some data: &quot;</span><span class="p">)</span> <span class="c1"># 資料會被視為字串存進變數</span>
<span class="n">input_var</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Enter some data: &quot;</span><span class="p">)</span> <span class="c1"># 輸入的資料會被當作Python程式碼執行</span>
<span class="c1"># 注意: 請謹慎使用input()函式</span>
<span class="c1"># 註: 在Python 3中，input()已被棄用，raw_input()已被更名為input()</span>

<span class="c1"># 使用變數前不需要先宣告</span>
<span class="n">some_var</span> <span class="o">=</span> <span class="mi">5</span>    <span class="c1"># 方便好用</span>
<span class="n">lower_case_with_underscores</span>
<span class="n">some_var</span>  <span class="c1"># =&gt; 5</span>

<span class="c1"># 對沒有被賦值的變數取值會造成例外</span>
<span class="c1"># 請參考錯誤流程部分做例外處理</span>
<span class="n">some_other_var</span>  <span class="c1"># 造成 NameError</span>

<span class="c1"># if可以當判斷式使用</span>
<span class="c1"># 相當於C語言中的二元判斷式</span>
<span class="s2">&quot;yahoo!&quot;</span> <span class="k">if</span> <span class="mi">3</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="mi">2</span>  <span class="c1"># =&gt; &quot;yahoo!&quot;</span>

<span class="c1"># 串列型態可以儲存集合</span>
<span class="n">li</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># 你可以預先填好串列內容</span>
<span class="n">other_li</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>

<span class="c1"># 用append()在串列後新增東西</span>
<span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># 此時 li 內容為 [1]</span>
<span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>    <span class="c1"># 此時 li 內容為 [1, 2]</span>
<span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>    <span class="c1"># 此時 li 內容為 [1, 2, 4]</span>
<span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>    <span class="c1"># 此時 li 內容為 [1, 2, 4, 3]</span>
<span class="c1"># 用pop()移除串列尾端的元素</span>
<span class="n">li</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>        <span class="c1"># =&gt; 3 ，此時 li 內容為 [1, 2, 4]</span>
<span class="c1"># 然後再塞回去</span>
<span class="n">li</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>    <span class="c1"># 此時 li 內容再次為 [1, 2, 4, 3]</span>

<span class="c1"># 你可以像存取陣列一樣的存取串列</span>
<span class="n">li</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># =&gt; 1</span>
<span class="c1"># 用等號 = 給串列中特定索引的元素賦值</span>
<span class="n">li</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">li</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># =&gt; 42</span>
<span class="n">li</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># 註: 將其設定回原本的值</span>
<span class="c1"># 用 -1 索引值查看串列最後一個元素</span>
<span class="n">li</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># =&gt; 3</span>

<span class="c1"># 存取超過範圍會產生IndexError</span>
<span class="n">li</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>  <span class="c1"># Raises an IndexError</span>

<span class="c1"># 你可以用切片語法來存取特定範圍的值</span>
<span class="c1"># (相當於數學中的左閉右開區間，即包含最左邊界，但不包含右邊界)</span>
<span class="n">li</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>  <span class="c1"># =&gt; [2, 4]</span>
<span class="c1"># 略過開頭元素</span>
<span class="n">li</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>  <span class="c1"># =&gt; [4, 3]</span>
<span class="c1"># 略過結尾元素</span>
<span class="n">li</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>  <span class="c1"># =&gt; [1, 2, 4]</span>
<span class="c1"># 每隔兩個元素取值</span>
<span class="n">li</span><span class="p">[::</span><span class="mi">2</span><span class="p">]</span>   <span class="c1"># =&gt;[1, 4]</span>
<span class="c1"># 串列反轉</span>
<span class="n">li</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>   <span class="c1"># =&gt; [3, 4, 2, 1]</span>
<span class="c1"># 你可以任意組合來達到你想要的效果</span>
<span class="c1"># li[開始索引:結束索引:間隔]</span>

<span class="c1"># 用 &quot;del&quot; 從串列中移除任意元素</span>
<span class="k">del</span> <span class="n">li</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>   <span class="c1"># 現在 li 內容為 [1, 2, 3]</span>

<span class="c1"># 你可以做串列相加</span>
<span class="n">li</span> <span class="o">+</span> <span class="n">other_li</span>   <span class="c1"># =&gt; [1, 2, 3, 4, 5, 6]</span>
<span class="c1"># 註: li 及 other_li 沒有被更動</span>

<span class="c1"># 用 &quot;extend()&quot; 做串列串接</span>
<span class="n">li</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">other_li</span><span class="p">)</span>   <span class="c1"># 現在 li 內容為 [1, 2, 3, 4, 5, 6]</span>

<span class="c1"># 移除特定值的第一次出現</span>
<span class="n">li</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># 現在 li 內容為 [1, 3, 4, 5, 6]</span>
<span class="n">li</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># 2 不在串列中，造成 ValueError</span>

<span class="c1"># 在特定位置插入值</span>
<span class="n">li</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># 現在 li 內容再次回復為 [1, 2, 3, 4, 5, 6]</span>

<span class="c1"># 取得特定值在串列中第一次出現的位置</span>
<span class="n">li</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># =&gt; 1</span>
<span class="n">li</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>  <span class="c1"># 7 不在串列中，造成 ValueError</span>

<span class="c1"># 用 &quot;in&quot; 檢查特定值是否出現在串列中</span>
<span class="mi">1</span> <span class="ow">in</span> <span class="n">li</span>   <span class="c1"># =&gt; True</span>

<span class="c1"># 用 &quot;len()&quot; 取得串列長度</span>
<span class="nb">len</span><span class="p">(</span><span class="n">li</span><span class="p">)</span>   <span class="c1"># =&gt; 6</span>


<span class="c1"># 元組(Tuple，以下仍用原文)類似於串列，但是它是不可改變的</span>
<span class="n">tup</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">tup</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>   <span class="c1"># =&gt; 1</span>
<span class="n">tup</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>  <span class="c1"># 產生TypeError</span>

<span class="c1"># 能對串列做的東西都可以對tuple做</span>
<span class="nb">len</span><span class="p">(</span><span class="n">tup</span><span class="p">)</span>   <span class="c1"># =&gt; 3</span>
<span class="n">tup</span> <span class="o">+</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>   <span class="c1"># =&gt; (1, 2, 3, 4, 5, 6)</span>
<span class="n">tup</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>   <span class="c1"># =&gt; (1, 2)</span>
<span class="mi">2</span> <span class="ow">in</span> <span class="n">tup</span>   <span class="c1"># =&gt; True</span>

<span class="c1"># 你可以把tuple拆開並分別將值存入不同變數</span>
<span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>     <span class="c1"># a 現在是 1, b 現在是 2, c 現在是 3</span>
<span class="n">d</span><span class="p">,</span> <span class="n">e</span><span class="p">,</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span>       <span class="c1"># 也可以不寫括號</span>
<span class="c1"># 如果不加括號，預設會產生tuple</span>
<span class="n">g</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span>             <span class="c1"># =&gt; (4, 5, 6)</span>
<span class="c1"># 你看，交換兩個值很簡單吧</span>
<span class="n">e</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span>     <span class="c1"># 此時 d 的值為 5 且 e 的值為 4</span>


<span class="c1"># 字典(Dictionary)用來儲存映射關係</span>
<span class="n">empty_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c1"># 你可以對字典做初始化</span>
<span class="n">filled_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;one&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;two&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;three&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>

<span class="c1"># 用 [] 取值</span>
<span class="n">filled_dict</span><span class="p">[</span><span class="s2">&quot;one&quot;</span><span class="p">]</span>   <span class="c1"># =&gt; 1</span>

<span class="c1"># 用 &quot;keys()&quot; 將所有的Key輸出到一個List中</span>
<span class="n">filled_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>   <span class="c1"># =&gt; [&quot;three&quot;, &quot;two&quot;, &quot;one&quot;]</span>
<span class="c1"># 註: 字典裡key的排序是不固定的</span>
<span class="c1"># 你的執行結果可能與上面不同</span>
<span class="c1"># 譯註: 只能保證所有的key都有出現，但不保證順序</span>

<span class="c1"># 用 &quot;values()&quot; 將所有的Value輸出到一個List中</span>
<span class="n">filled_dict</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>   <span class="c1"># =&gt; [3, 2, 1]</span>
<span class="c1"># 註: 同上，不保證順序</span>

<span class="c1"># 用 &quot;in&quot; 來檢查指定的Key是否在字典中</span>
<span class="s2">&quot;one&quot;</span> <span class="ow">in</span> <span class="n">filled_dict</span>   <span class="c1"># =&gt; True</span>
<span class="mi">1</span> <span class="ow">in</span> <span class="n">filled_dict</span>   <span class="c1"># =&gt; False</span>

<span class="c1"># 查詢不存在的Key會造成KeyError</span>
<span class="n">filled_dict</span><span class="p">[</span><span class="s2">&quot;four&quot;</span><span class="p">]</span>   <span class="c1"># KeyError</span>

<span class="c1"># 用 &quot;get()&quot; 來避免KeyError</span>
<span class="c1"># 若指定的Key不存在的話會得到None</span>
<span class="n">filled_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;one&quot;</span><span class="p">)</span>   <span class="c1"># =&gt; 1</span>
<span class="n">filled_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;four&quot;</span><span class="p">)</span>   <span class="c1"># =&gt; None</span>
<span class="c1"># &quot;get()&quot; 函式支援預設值，當找不到指定的值時，會回傳指定的預設值</span>
<span class="n">filled_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>   <span class="c1"># =&gt; 1</span>
<span class="n">filled_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;four&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>   <span class="c1"># =&gt; 4</span>
<span class="c1"># 注意此時 filled_dict.get(&quot;four&quot;) 仍然為 None</span>
<span class="c1"># (get()此時並沒有產生出任何的值)</span>

<span class="c1"># 像操作list一樣，對指定的Key賦值</span>
<span class="n">filled_dict</span><span class="p">[</span><span class="s2">&quot;four&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># 此時 filled_dict[&quot;four&quot;] =&gt; 4</span>

<span class="c1"># &quot;setdefault()&quot; 只在指定的Key不存在時才會將值插入dictionary</span>
<span class="n">filled_dict</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;five&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># filled_dict[&quot;five&quot;] 被指定為 5</span>
<span class="n">filled_dict</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s2">&quot;five&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1"># filled_dict[&quot;five&quot;] 仍保持 5</span>


<span class="c1"># 集合(Set)被用來儲存...集合。</span>
<span class="c1"># 跟串列(List)有點像，但集合內不會有重複的元素</span>
<span class="n">empty_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="c1"># 初始化 &quot;set()&quot; 並給定一些值</span>
<span class="n">some_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>   <span class="c1"># 現在 some_set 為 set([1, 2, 3, 4])，注意重複的元素只有一個會被存入</span>

<span class="c1"># 一樣，不保證順序，就算真的有照順序排也只是你運氣好</span>
<span class="n">another_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># another_set 現在為 set([1, 2, 3, 4])</span>

<span class="c1"># 從 Python 2.7 開始，可以使用大括號 {} 來宣告Set</span>
<span class="n">filled_set</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span>   <span class="c1"># =&gt; {1, 2, 3, 4}</span>

<span class="c1"># 加入更多元素進入Set</span>
<span class="n">filled_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>   <span class="c1"># filled_set is now {1, 2, 3, 4, 5}</span>

<span class="c1"># 用 &amp; 來對兩個集合取交集</span>
<span class="n">other_set</span> <span class="o">=</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
<span class="n">filled_set</span> <span class="o">&amp;</span> <span class="n">other_set</span>   <span class="c1"># =&gt; {3, 4, 5}</span>

<span class="c1"># 用 | 來對兩個集合取聯集</span>
<span class="n">filled_set</span> <span class="o">|</span> <span class="n">other_set</span>   <span class="c1"># =&gt; {1, 2, 3, 4, 5, 6}</span>

<span class="c1"># 用 - 來將第二個集合內有的元素移出第一個集合</span>
<span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span> <span class="o">-</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>   <span class="c1"># =&gt; {1, 4}</span>

<span class="c1"># 用 ^ 來對兩個集合取差集</span>
<span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span> <span class="o">^</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>  <span class="c1"># =&gt; {1, 4, 5}</span>

<span class="c1"># 檢查左邊是否為右邊的母集</span>
<span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span> <span class="o">&gt;=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="c1"># =&gt; False</span>

<span class="c1"># 檢查左邊是否為右邊的子集</span>
<span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}</span> <span class="o">&lt;=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="c1"># =&gt; True</span>

<span class="c1"># 用 in 來檢查某元素是否存在於集合內</span>
<span class="mi">2</span> <span class="ow">in</span> <span class="n">filled_set</span>   <span class="c1"># =&gt; True</span>
<span class="mi">10</span> <span class="ow">in</span> <span class="n">filled_set</span>   <span class="c1"># =&gt; False</span>


<span class="c1">####################################################</span>
<span class="c1">## 3. 控制流程</span>
<span class="c1">####################################################</span>

<span class="c1"># 首先，先宣告一個變數</span>
<span class="n">some_var</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># 這邊是 if 判斷式。注意，縮排對Python是很重要的。</span>
<span class="c1"># 下面應該會印出 &quot;some_var is smaller than 10&quot;</span>
<span class="k">if</span> <span class="n">some_var</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">&quot;some_var is totally bigger than 10.&quot;</span>
<span class="k">elif</span> <span class="n">some_var</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>    <span class="c1"># elif 可有可無</span>
    <span class="nb">print</span> <span class="s2">&quot;some_var is smaller than 10.&quot;</span>
<span class="k">else</span><span class="p">:</span>           <span class="c1"># else 也可有可無</span>
    <span class="nb">print</span> <span class="s2">&quot;some_var is indeed 10.&quot;</span>


<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">For 迴圈會遞迴整的List</span>
<span class="sd">下面的程式碼會輸出:</span>
<span class="sd">    dog is a mammal</span>
<span class="sd">    cat is a mammal</span>
<span class="sd">    mouse is a mammal</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">]:</span>
    <span class="c1"># 你可以用{0}來組合0出格式化字串 (見上面.)</span>
    <span class="nb">print</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> is a mammal&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">animal</span><span class="p">)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">&quot;range(number)&quot; 回傳一個包含從0到給定值的數字List，</span>
<span class="sd">下面的程式碼會輸出:</span>
<span class="sd">    0</span>
<span class="sd">    1</span>
<span class="sd">    2</span>
<span class="sd">    3</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">i</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">&quot;range(lower, upper)&quot; 回傳一個包含從給定的下限</span>
<span class="sd">到給定的上限的數字List</span>
<span class="sd">下面的程式碼會輸出:</span>
<span class="sd">    4</span>
<span class="sd">    5</span>
<span class="sd">    6</span>
<span class="sd">    7</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">i</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">While迴圈會執行到條件不成立為止</span>
<span class="sd">下面的程式碼會輸出:</span>
<span class="sd">    0</span>
<span class="sd">    1</span>
<span class="sd">    2</span>
<span class="sd">    3</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">while</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">:</span>
    <span class="nb">print</span> <span class="n">x</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># x = x + 1 的簡寫</span>

<span class="c1"># 用try/except處理例外</span>

<span class="c1"># 適用Python 2.6及以上版本</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># 用 &quot;raise&quot; 來發起例外</span>
    <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span><span class="s2">&quot;This is an index error&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">IndexError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">pass</span>    <span class="c1"># 毫無反應，就只是個什麼都沒做的pass。通常這邊會讓你做對例外的處理</span>
<span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">NameError</span><span class="p">):</span>
    <span class="k">pass</span>    <span class="c1"># 有需要的話，多種例外可以一起處理</span>
<span class="k">else</span><span class="p">:</span>   <span class="c1"># else 可有可無，但必須寫在所有的except後</span>
    <span class="nb">print</span> <span class="s2">&quot;All good!&quot;</span>   <span class="c1"># 只有在try的時候沒有產生任何except才會被執行</span>
<span class="k">finally</span><span class="p">:</span> <span class="c1"># 不管什麼情況下一定會被執行</span>
    <span class="nb">print</span> <span class="s2">&quot;We can clean up resources here&quot;</span>

<span class="c1"># 除了try/finally以外，你可以用 with 來簡單的處理清理動作</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;myfile.txt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
        <span class="nb">print</span> <span class="n">line</span>

<span class="c1">####################################################</span>
<span class="c1">## 4. 函式</span>
<span class="c1">####################################################</span>

<span class="c1"># 用 &quot;def&quot; 來建立新函式</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="nb">print</span> <span class="s2">&quot;x is </span><span class="si">{0}</span><span class="s2"> and y is </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>    <span class="c1"># 用 &quot;return&quot; 來回傳值</span>

<span class="c1"># 用參數來呼叫函式</span>
<span class="n">add</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>   <span class="c1"># =&gt; 輸出 &quot;x is 5 and y is 6&quot; 並回傳 11</span>

<span class="c1"># 你也可以寫上參數名稱來呼叫函式</span>
<span class="n">add</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>   <span class="c1"># 這種狀況下，兩個參數的順序並不影響執行</span>


<span class="c1"># 你可以定義接受多個變數的函式，用*來表示參數tuple</span>
<span class="k">def</span><span class="w"> </span><span class="nf">varargs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">args</span>

<span class="n">varargs</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>   <span class="c1"># =&gt; (1, 2, 3)</span>


<span class="c1"># 你可以定義接受多個變數的函式，用**來表示參數dictionary</span>
<span class="k">def</span><span class="w"> </span><span class="nf">keyword_args</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">kwargs</span>

<span class="c1"># 呼叫看看會發生什麼事吧</span>
<span class="n">keyword_args</span><span class="p">(</span><span class="n">big</span><span class="o">=</span><span class="s2">&quot;foot&quot;</span><span class="p">,</span> <span class="n">loch</span><span class="o">=</span><span class="s2">&quot;ness&quot;</span><span class="p">)</span>   <span class="c1"># =&gt; {&quot;big&quot;: &quot;foot&quot;, &quot;loch&quot;: &quot;ness&quot;}</span>


<span class="c1"># 如果你想要，你也可以兩個同時用</span>
<span class="k">def</span><span class="w"> </span><span class="nf">all_the_args</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">args</span>
    <span class="nb">print</span> <span class="n">kwargs</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">all_the_args(1, 2, a=3, b=4) prints:</span>
<span class="sd">    (1, 2)</span>
<span class="sd">    {&quot;a&quot;: 3, &quot;b&quot;: 4}</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># 呼叫函式時，你可以做反向的操作</span>
<span class="c1"># 用 * 將變數展開為順序排序的變數</span>
<span class="c1"># 用 ** 將變數展開為Keyword排序的變數</span>
<span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
<span class="n">all_the_args</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>   <span class="c1"># 等同於 foo(1, 2, 3, 4)</span>
<span class="n">all_the_args</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>   <span class="c1"># 等同於 foo(a=3, b=4)</span>
<span class="n">all_the_args</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>   <span class="c1"># 等同於 foo(1, 2, 3, 4, a=3, b=4)</span>

<span class="c1"># 你可以把args跟kwargs傳到下一個函式內</span>
<span class="c1"># 分別用 * 跟 ** 將它展開就可以了</span>
<span class="k">def</span><span class="w"> </span><span class="nf">pass_all_the_args</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">all_the_args</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="nb">print</span> <span class="n">varargs</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="nb">print</span> <span class="n">keyword_args</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="c1"># 函式範圍</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>

<span class="k">def</span><span class="w"> </span><span class="nf">set_x</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="c1"># 區域變數 x 和全域變數 x 不是同一個東西</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">num</span> <span class="c1"># =&gt; 43</span>
    <span class="nb">print</span> <span class="n">x</span> <span class="c1"># =&gt; 43</span>

<span class="k">def</span><span class="w"> </span><span class="nf">set_global_x</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">x</span>
    <span class="nb">print</span> <span class="n">x</span> <span class="c1"># =&gt; 5</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">num</span> <span class="c1"># 全域變數 x 在set_global_x(6)被設定為 6 </span>
    <span class="nb">print</span> <span class="n">x</span> <span class="c1"># =&gt; 6</span>

<span class="n">set_x</span><span class="p">(</span><span class="mi">43</span><span class="p">)</span>
<span class="n">set_global_x</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>

<span class="c1"># Python有一級函式</span>
<span class="k">def</span><span class="w"> </span><span class="nf">create_adder</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">adder</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="k">return</span> <span class="n">adder</span>

<span class="n">add_10</span> <span class="o">=</span> <span class="n">create_adder</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">add_10</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>   <span class="c1"># =&gt; 13</span>

<span class="c1"># 也有匿名函式</span>
<span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)(</span><span class="mi">3</span><span class="p">)</span>   <span class="c1"># =&gt; True</span>
<span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">y</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># =&gt; 5</span>

<span class="c1"># 還有內建的高階函式</span>
<span class="nb">map</span><span class="p">(</span><span class="n">add_10</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>   <span class="c1"># =&gt; [11, 12, 13]</span>
<span class="nb">map</span><span class="p">(</span><span class="nb">max</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>   <span class="c1"># =&gt; [4, 2, 3]</span>

<span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>   <span class="c1"># =&gt; [6, 7]</span>

<span class="c1"># 我們可以用List列表的方式對map和filter等高階函式做更有趣的應用</span>
<span class="p">[</span><span class="n">add_10</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>  <span class="c1"># =&gt; [11, 12, 13]</span>
<span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">]</span>   <span class="c1"># =&gt; [6, 7]</span>


<span class="c1">####################################################</span>
<span class="c1">## 5. 類別</span>
<span class="c1">####################################################</span>

<span class="c1"># 我們可以由object繼承出一個新的類別</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Human</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="c1"># 類別的參數，被所有這個類別的實體所共用</span>
    <span class="n">species</span> <span class="o">=</span> <span class="s2">&quot;H. sapiens&quot;</span>

    <span class="c1"># 基礎建構函式，當class被實體化的時候會被呼叫</span>
    <span class="c1"># 注意前後的雙底線</span>
    <span class="c1"># 代表此物件或屬性雖然在使用者控制的命名空間內，但是被python使用</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="c1"># 將函式引入的參數 name 指定給實體的 name 參數</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

        <span class="c1"># 初始化屬性</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">0</span>


    <span class="c1"># 一個實體的方法(method)。 所有的method都以self為第一個參數</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">say</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">: </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>

    <span class="c1"># 一個類別方法會被所有的實體所共用</span>
    <span class="c1"># 他們會以類別為第一參數的方式被呼叫</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_species</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">species</span>

    <span class="c1"># 靜態方法</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">grunt</span><span class="p">():</span>
        <span class="k">return</span> <span class="s2">&quot;*grunt*&quot;</span>

    <span class="c1"># 屬性就像是用getter取值一樣</span>
    <span class="c1"># 它將方法 age() 轉為同名的、只能讀取的屬性</span>
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">age</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_age</span>

    <span class="c1"># 這樣寫的話可以讓屬性被寫入新的值</span>
    <span class="nd">@age</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">age</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_age</span> <span class="o">=</span> <span class="n">age</span>

    <span class="c1"># 這樣寫的話允許屬性被刪除</span>
    <span class="nd">@age</span><span class="o">.</span><span class="n">deleter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">age</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_age</span>


<span class="c1"># 將類別實體化</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">Human</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Ian&quot;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">i</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;hi&quot;</span><span class="p">)</span>     <span class="c1"># prints out &quot;Ian: hi&quot;</span>

<span class="n">j</span> <span class="o">=</span> <span class="n">Human</span><span class="p">(</span><span class="s2">&quot;Joel&quot;</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">j</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>  <span class="c1"># prints out &quot;Joel: hello&quot;</span>

<span class="c1"># 呼叫類別方法</span>
<span class="n">i</span><span class="o">.</span><span class="n">get_species</span><span class="p">()</span>   <span class="c1"># =&gt; &quot;H. sapiens&quot;</span>

<span class="c1"># 更改共用的屬性</span>
<span class="n">Human</span><span class="o">.</span><span class="n">species</span> <span class="o">=</span> <span class="s2">&quot;H. neanderthalensis&quot;</span>
<span class="n">i</span><span class="o">.</span><span class="n">get_species</span><span class="p">()</span>   <span class="c1"># =&gt; &quot;H. neanderthalensis&quot;</span>
<span class="n">j</span><span class="o">.</span><span class="n">get_species</span><span class="p">()</span>   <span class="c1"># =&gt; &quot;H. neanderthalensis&quot;</span>

<span class="c1"># 呼叫靜態方法</span>
<span class="n">Human</span><span class="o">.</span><span class="n">grunt</span><span class="p">()</span>   <span class="c1"># =&gt; &quot;*grunt*&quot;</span>

<span class="c1"># 更新屬性</span>
<span class="n">i</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="mi">42</span>

<span class="c1"># 取得屬性</span>
<span class="n">i</span><span class="o">.</span><span class="n">age</span> <span class="c1"># =&gt; 42</span>

<span class="c1"># 移除屬性</span>
<span class="k">del</span> <span class="n">i</span><span class="o">.</span><span class="n">age</span>
<span class="n">i</span><span class="o">.</span><span class="n">age</span>  <span class="c1"># =&gt; raises an AttributeError</span>


<span class="c1">####################################################</span>
<span class="c1">## 6. 模組</span>
<span class="c1">####################################################</span>

<span class="c1"># 你可以引入模組來做使用</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="nb">print</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>  <span class="c1"># =&gt; 4.0</span>
                     <span class="c1"># math.sqrt()為取根號</span>

<span class="c1"># 你可以只從模組取出特定幾個函式</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">ceil</span><span class="p">,</span> <span class="n">floor</span>
<span class="nb">print</span> <span class="n">ceil</span><span class="p">(</span><span class="mf">3.7</span><span class="p">)</span>  <span class="c1"># =&gt; 4.0</span>
<span class="nb">print</span> <span class="n">floor</span><span class="p">(</span><span class="mf">3.7</span><span class="p">)</span>   <span class="c1"># =&gt; 3.0</span>

<span class="c1"># 你可以將所有的函式從模組中引入</span>
<span class="c1"># 注意：不建議這麼做</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="c1"># 你可以用 as 簡寫模組名稱</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">m</span>
<span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span> <span class="o">==</span> <span class="n">m</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>   <span class="c1"># =&gt; True</span>
<span class="c1"># 你也可以測試函示是否相等</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">sqrt</span>
<span class="n">math</span><span class="o">.</span><span class="n">sqrt</span> <span class="o">==</span> <span class="n">m</span><span class="o">.</span><span class="n">sqrt</span> <span class="o">==</span> <span class="n">sqrt</span>  <span class="c1"># =&gt; True</span>

<span class="c1"># Python的模組就只是一般的Python檔。</span>
<span class="c1"># 你可以自己的模組自己寫、自己的模組自己引入</span>
<span class="c1"># 模組的名稱和檔案名稱一樣</span>

<span class="c1"># 你可以用dir()來查看有哪些可用函式和屬性</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="nb">dir</span><span class="p">(</span><span class="n">math</span><span class="p">)</span>


<span class="c1">####################################################</span>
<span class="c1">## 7. 進階</span>
<span class="c1">####################################################</span>

<span class="c1"># 產生器(Generator)可以讓你寫更懶惰的程式碼</span>
<span class="k">def</span><span class="w"> </span><span class="nf">double_numbers</span><span class="p">(</span><span class="n">iterable</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">i</span> <span class="o">+</span> <span class="n">i</span>

<span class="c1"># 產生器可以讓你即時的產生值</span>
<span class="c1"># 不是全部產生完之後再一次回傳，產生器會在每一個遞迴時</span>
<span class="c1"># 產生值。 這也意味著大於15的值不會在double_numbers中產生。</span>
<span class="c1"># 這邊，xrange()做的事情和range()一樣</span>
<span class="c1"># 建立一個 1-900000000 的List會消耗很多時間和記憶體空間</span>
<span class="c1"># xrange() 建立一個產生器物件，而不是如range()建立整個List</span>
<span class="c1"># 我們用底線來避免可能和python的關鍵字重複的名稱</span>
<span class="n">xrange_</span> <span class="o">=</span> <span class="n">xrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">900000000</span><span class="p">)</span>

<span class="c1"># 下面的程式碼會把所有的值乘以兩倍，直到出現大於30的值</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">double_numbers</span><span class="p">(</span><span class="n">xrange_</span><span class="p">):</span>
    <span class="nb">print</span> <span class="n">i</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">30</span><span class="p">:</span>
        <span class="k">break</span>


<span class="c1"># 裝飾子</span>
<span class="c1"># 在這個範例中，beg會綁在say上</span>
<span class="c1"># Beg會呼叫say。 如果say_please為True的話，它會更改回傳的訊息</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">functools</span><span class="w"> </span><span class="kn">import</span> <span class="n">wraps</span>


<span class="k">def</span><span class="w"> </span><span class="nf">beg</span><span class="p">(</span><span class="n">target_function</span><span class="p">):</span>
    <span class="nd">@wraps</span><span class="p">(</span><span class="n">target_function</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">msg</span><span class="p">,</span> <span class="n">say_please</span> <span class="o">=</span> <span class="n">target_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">say_please</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="s2">&quot;Please! I am poor :(&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">msg</span>

    <span class="k">return</span> <span class="n">wrapper</span>


<span class="nd">@beg</span>
<span class="k">def</span><span class="w"> </span><span class="nf">say</span><span class="p">(</span><span class="n">say_please</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Can you buy me a beer?&quot;</span>
    <span class="k">return</span> <span class="n">msg</span><span class="p">,</span> <span class="n">say_please</span>


<span class="nb">print</span> <span class="n">say</span><span class="p">()</span>  <span class="c1"># Can you buy me a beer?</span>
<span class="nb">print</span> <span class="n">say</span><span class="p">(</span><span class="n">say_please</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Can you buy me a beer? Please! I am poor :(</span>
</pre></div>
<h2>準備好學更多了嗎?</h2>
<h3>線上免費資源</h3>
<ul>
<li><a href="https://automatetheboringstuff.com">Automate the Boring Stuff with Python</a></li>
<li><a href="http://learnpythonthehardway.org/book/">Learn Python The Hard Way</a></li>
<li><a href="http://www.diveintopython.net/">Dive Into Python</a></li>
<li><a href="http://docs.python.org/2/">The Official Docs</a></li>
<li><a href="http://docs.python-guide.org/en/latest/">Hitchhiker's Guide to Python</a></li>
<li><a href="http://pymotw.com/2/">Python Module of the Week</a></li>
<li><a href="http://nbviewer.ipython.org/5920182">A Crash Course in Python for Scientists</a></li>
<li><a href="https://realpython.com/learn/python-first-steps/">First Steps With Python</a></li>
</ul>
<h3>或買本書?</h3>
<ul>
<li><a href="http://www.amazon.com/gp/product/0596158106/ref=as_li_qf_sp_asin_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0596158106&amp;linkCode=as2&amp;tag=homebits04-20">Programming Python</a></li>
<li><a href="http://www.amazon.com/gp/product/1441413022/ref=as_li_tf_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1441413022&amp;linkCode=as2&amp;tag=homebits04-20">Dive Into Python</a></li>
<li><a href="http://www.amazon.com/gp/product/0672329786/ref=as_li_tf_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0672329786&amp;linkCode=as2&amp;tag=homebits04-20">Python Essential Reference</a></li>
</ul>

        <hr>
        <p>
          任何建議？或錯誤？請在 GitHub 上<a href="https://github.com/adambard/learnxinyminutes-docs/issues/new">發個 issue</a>，或是送個 <a href="https://github.com/adambard/learnxinyminutes-docs/edit/master/zh-tw/pythonlegacy.md">pull request</a>！
        </p>
        <p class="contributed">
          原著Louie Dinh，透過 <a href="https://github.com/adambard/learnxinyminutes-docs/blame/master/zh-tw/pythonlegacy.md">4 個貢獻者</a>修改。
        </p>

        <footer>
          <a style="float: left" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width: 0; width: 88px; height: 31px;" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-sa.svg" /></a>
          <p>
            &copy; 2025
            <a href="http://ldinh.ca">Louie Dinh</a>,
            <a href="http://aminbandali.com">Amin Bandali</a>,
            <a href="https://github.com/Oire">Andre Polykanine</a>,
            <a href="http://github.com/evuez">evuez</a>
          </p>
        </footer>
      </div>
    </div>
  </body>
</html>